(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~44a85494"],{5457:function(t,e,n){"use strict";const i={BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",COMPOSITE:"cmpt",POINT_CLOUD:"pnts",VECTOR:"vctr",GEOMETRY:"geom",GLTF:"gltf",GLTF_BINARY:"glb",IMPLICIT_SUBTREE:"subt",IMPLICIT_SUBTREE_JSON:"subtreeJson",EXTERNAL_TILESET:"externalTileset",MULTIPLE_CONTENT:"multipleContent",GEOJSON:"geoJson",isBinaryFormat:function(t){switch(t){case i.BATCHED_3D_MODEL:case i.INSTANCED_3D_MODEL:case i.COMPOSITE:case i.POINT_CLOUD:case i.VECTOR:case i.GEOMETRY:case i.IMPLICIT_SUBTREE:case i.GLTF_BINARY:return!0;default:return!1}}};e["a"]=Object.freeze(i)},"56d3":function(t,e,n){"use strict";function i(t){this.pass=t.pass,this.commandList=t.commandList,this.camera=t.camera,this.cullingVolume=t.cullingVolume,this.ready=!1}e["a"]=i},"5af0":function(t,e,n){"use strict";var i=n("bd8d"),r=n("2f63"),o=n("45c5");function a(t,e){this._content=t,this._batchId=e,this._color=void 0}Object.defineProperties(a.prototype,{show:{get:function(){return this._content.batchTable.getShow(this._batchId)},set:function(t){this._content.batchTable.setShow(this._batchId,t)}},color:{get:function(){return Object(r["a"])(this._color)||(this._color=new i["a"]),this._content.batchTable.getColor(this._batchId,this._color)},set:function(t){this._content.batchTable.setColor(this._batchId,t)}},polylinePositions:{get:function(){if(Object(r["a"])(this._content.getPolylinePositions))return this._content.getPolylinePositions(this._batchId)}},content:{get:function(){return this._content}},tileset:{get:function(){return this._content.tileset}},primitive:{get:function(){return this._content.tileset}},featureId:{get:function(){return this._batchId}},pickId:{get:function(){return this._content.batchTable.getPickColor(this._batchId)}}}),a.prototype.hasProperty=function(t){return this._content.batchTable.hasProperty(this._batchId,t)},a.prototype.getPropertyNames=function(t){return Object(o["a"])("Cesium3DTileFeature.getPropertyNames","Cesium3DTileFeature.getPropertyNames was deprecated in CesiumJS 1.95 and will be removed in 1.98. Use Cesium3DTileFeature.getPropertyIds instead"),this._content.batchTable.getPropertyIds(this._batchId,t)},a.prototype.getPropertyIds=function(t){return this._content.batchTable.getPropertyIds(this._batchId,t)},a.prototype.getProperty=function(t){return this._content.batchTable.getProperty(this._batchId,t)},a.getPropertyInherited=function(t,e,n){const i=t.batchTable;if(Object(r["a"])(i)){if(i.hasPropertyBySemantic(e,n))return i.getPropertyBySemantic(e,n);if(i.hasProperty(e,n))return i.getProperty(e,n)}const o=t.metadata;if(Object(r["a"])(o)){if(o.hasPropertyBySemantic(n))return o.getPropertyBySemantic(n);if(o.hasProperty(n))return o.getProperty(n)}const a=t.tile,s=a.metadata;if(Object(r["a"])(s)){if(s.hasPropertyBySemantic(n))return s.getPropertyBySemantic(n);if(s.hasProperty(n))return s.getProperty(n)}let c;if(Object(r["a"])(a.implicitSubtree)&&(c=a.implicitSubtree.metadata),Object(r["a"])(c)){if(c.hasPropertyBySemantic(n))return c.getPropertyBySemantic(n);if(c.hasProperty(n))return c.getProperty(n)}const l=Object(r["a"])(t.group)?t.group.metadata:void 0;if(Object(r["a"])(l)){if(l.hasPropertyBySemantic(n))return l.getPropertyBySemantic(n);if(l.hasProperty(n))return l.getProperty(n)}const u=t.tileset.metadata;if(Object(r["a"])(u)){if(u.hasPropertyBySemantic(n))return u.getPropertyBySemantic(n);if(u.hasProperty(n))return u.getProperty(n)}},a.prototype.getPropertyInherited=function(t){return a.getPropertyInherited(this._content,this._batchId,t)},a.prototype.setProperty=function(t,e){this._content.batchTable.setProperty(this._batchId,t,e),this._content.featurePropertiesDirty=!0},a.prototype.isExactClass=function(t){return this._content.batchTable.isExactClass(this._batchId,t)},a.prototype.isClass=function(t){return this._content.batchTable.isClass(this._batchId,t)},a.prototype.getExactClassName=function(){return this._content.batchTable.getExactClassName(this._batchId)},e["a"]=a},6380:function(t,e,n){"use strict";const i={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0};e["a"]=Object.freeze(i)},"656b":function(t,e,n){"use strict";const i={HIGHLIGHT:0,REPLACE:1,MIX:2};e["a"]=Object.freeze(i)},6596:function(t,e,n){"use strict";var i=n("670c"),r=n("dc1c"),o=n("bd8d"),a=n("2bb9"),s=n("535a"),c=n("2f63"),l=n("45c5"),u=n("7d62"),h=(n("4f04"),n("93da")),f=n("283e"),b=n("b997"),_=n("a894"),p=n("d289"),d=n("6dc0"),y=n("5770"),g=n("420f"),m=n("67b9"),O=n("b7c8"),T=n("656b"),C=n("29ab"),P=n("c13c"),S=n("3626"),I=n("6102"),E=n("25ef");const D=g["a"].DEFAULT_COLOR_VALUE,x=g["a"].DEFAULT_SHOW_VALUE;function A(t,e,n,i,r){let o;this.featuresLength=e,Object(c["a"])(n)&&(o=n.extensions),this._extensions=Object(s["a"])(o,{});const a=v(n);this._properties=a,this._batchTableHierarchy=L(this,n,i);const l=j(e,a,i);this._binaryPropertiesByteLength=M(l),this._batchTableBinaryProperties=l,this._content=t,this._batchTexture=new g["a"]({featuresLength:e,colorChangedCallback:r,owner:t,statistics:t.tileset.statistics})}function v(t){const e={};if(!Object(c["a"])(t))return e;for(const n in t)t.hasOwnProperty(n)&&"HIERARCHY"!==n&&"extensions"!==n&&"extras"!==n&&(e[n]=Object(r["a"])(t[n],!0));return e}function L(t,e,n){if(!Object(c["a"])(e))return;let i=t._extensions["3DTILES_batch_table_hierarchy"];const r=e.HIERARCHY;return Object(c["a"])(r)&&(A._deprecationWarning("batchTableHierarchyExtension","The batch table HIERARCHY property has been moved to an extension. Use extensions.3DTILES_batch_table_hierarchy instead."),t._extensions["3DTILES_batch_table_hierarchy"]=r,i=r),Object(c["a"])(i)?new m["a"]({extension:i,binaryBody:n}):void 0}function j(t,e,n){let i;for(const r in e)if(e.hasOwnProperty(r)){const o=e[r],a=o.byteOffset;if(Object(c["a"])(a)){const e=o.componentType,s=o.type;if(!Object(c["a"])(e))throw new f["a"]("componentType is required.");if(!Object(c["a"])(s))throw new f["a"]("type is required.");if(!Object(c["a"])(n))throw new f["a"](`Property ${r} requires a batch table binary.`);const l=Object(P["a"])(o),u=l.componentsPerAttribute,h=l.classType,b=l.createArrayBufferView(n.buffer,n.byteOffset+a,t);Object(c["a"])(i)||(i={}),i[r]={typedArray:b,componentCount:u,type:h}}}return i}function M(t){if(!Object(c["a"])(t))return 0;let e=0;for(const n in t)t.hasOwnProperty(n)&&(e+=t[n].typedArray.byteLength);return e}A._deprecationWarning=l["a"],Object.defineProperties(A.prototype,{batchTableByteLength:{get:function(){let t=this._binaryPropertiesByteLength;return Object(c["a"])(this._batchTableHierarchy)&&(t+=this._batchTableHierarchy.byteLength),t+=this._batchTexture.byteLength,t}}}),A.getBinaryProperties=function(t,e,n){return j(t,e,n)},A.prototype.setShow=function(t,e){this._batchTexture.setShow(t,e)},A.prototype.setAllShow=function(t){this._batchTexture.setAllShow(t)},A.prototype.getShow=function(t){return this._batchTexture.getShow(t)},A.prototype.setColor=function(t,e){this._batchTexture.setColor(t,e)},A.prototype.setAllColor=function(t){this._batchTexture.setAllColor(t)},A.prototype.getColor=function(t,e){return this._batchTexture.getColor(t,e)},A.prototype.getPickColor=function(t){return this._batchTexture.getPickColor(t)};const w=new o["a"];function N(t,e){const n=t.typedArray,i=t.componentCount;return 1===i?n[e]:t.type.unpack(n,e*i)}function R(t,e,n){const i=t.typedArray,r=t.componentCount;1===r?i[e]=n:t.type.pack(n,i,e*r)}function B(t){return 1===t._batchTexture.textureDimensions.y?"uniform vec4 tile_textureStep; \nvec2 computeSt(float batchId) \n{ \n    float stepX = tile_textureStep.x; \n    float centerX = tile_textureStep.y; \n    return vec2(centerX + (batchId * stepX), 0.5); \n} \n":"uniform vec4 tile_textureStep; \nuniform vec2 tile_textureDimensions; \nvec2 computeSt(float batchId) \n{ \n    float stepX = tile_textureStep.x; \n    float centerX = tile_textureStep.y; \n    float stepY = tile_textureStep.z; \n    float centerY = tile_textureStep.w; \n    float xId = mod(batchId, tile_textureDimensions.x); \n    float yId = floor(batchId / tile_textureDimensions.x); \n    return vec2(centerX + (xId * stepX), centerY + (yId * stepY)); \n} \n"}function k(t,e){return t=y["a"].replaceMain(t,"tile_main"),e?t+"uniform float tile_colorBlend; \nvoid tile_color(vec4 tile_featureColor) \n{ \n    tile_main(); \n    tile_featureColor = czm_gammaCorrect(tile_featureColor); \n    gl_FragColor.a *= tile_featureColor.a; \n    float highlight = ceil(tile_colorBlend); \n    gl_FragColor.rgb *= mix(tile_featureColor.rgb, vec3(1.0), highlight); \n} \n":t+"void tile_color(vec4 tile_featureColor) \n{ \n    tile_main(); \n} \n"}function U(t,e){const n="texture2D("+e;let i,r=0,o=t.indexOf(n,r);while(o>-1){let e=0;for(let n=o;n<t.length;++n){const r=t.charAt(n);if("("===r)++e;else if(")"===r&&(--e,0===e)){i=n+1;break}}const a=t.slice(o,i),s=`tile_diffuse_final(${a}, tile_diffuse)`;t=t.slice(0,o)+s+t.slice(i),r=o+s.length,o=t.indexOf(n,r)}return t}function z(t,e,n){if(!Object(c["a"])(e))return k(t,n);let i=new RegExp(`(uniform|attribute|in)\\s+(vec[34]|sampler2D)\\s+${e};`);const r=t.match(i);if(!Object(c["a"])(r))return k(t,n);const o=r[0],a=r[2];t=y["a"].replaceMain(t,"tile_main"),t=t.replace(o,"");const s="bool isWhite(vec3 color) \n{ \n    return all(greaterThan(color, vec3(1.0 - czm_epsilon3))); \n} \nvec4 tile_diffuse_final(vec4 sourceDiffuse, vec4 tileDiffuse) \n{ \n    vec4 blendDiffuse = mix(sourceDiffuse, tileDiffuse, tile_colorBlend); \n    vec4 diffuse = isWhite(tileDiffuse.rgb) ? sourceDiffuse : blendDiffuse; \n    return vec4(diffuse.rgb, sourceDiffuse.a); \n} \n",l="    tile_featureColor = czm_gammaCorrect(tile_featureColor); \n    gl_FragColor.a *= tile_featureColor.a; \n    float highlight = ceil(tile_colorBlend); \n    gl_FragColor.rgb *= mix(tile_featureColor.rgb, vec3(1.0), highlight); \n";let u;if("vec3"===a||"vec4"===a){const n="vec3"===a?`vec4(${e}, 1.0)`:e,r="vec3"===a?"tile_diffuse.xyz":"tile_diffuse";i=new RegExp(e,"g"),t=t.replace(i,r),u=`    vec4 source = ${n}; \n    tile_diffuse = tile_diffuse_final(source, tile_featureColor); \n    tile_main(); \n`}else"sampler2D"===a&&(t=U(t,e),u="    tile_diffuse = tile_featureColor; \n    tile_main(); \n");return t=`uniform float tile_colorBlend; \nvec4 tile_diffuse = vec4(1.0); \n${s}${o}\n${t}\nvoid tile_color(vec4 tile_featureColor) \n{ \n`+u,n&&(t+=l),t+="} \n",t}function F(t){const e=t._content.tileset,n=e.colorBlendMode,i=e.colorBlendAmount;return n===T["a"].HIGHLIGHT?0:n===T["a"].REPLACE?1:n===T["a"].MIX?h["a"].clamp(i,h["a"].EPSILON4,1):void 0}A.prototype.applyStyle=function(t){if(!Object(c["a"])(t))return this.setAllColor(D),void this.setAllShow(x);const e=this._content,n=this.featuresLength;for(let i=0;i<n;++i){const n=e.getFeature(i),r=Object(c["a"])(t.color)?Object(s["a"])(t.color.evaluateColor(n,w),D):D,o=Object(c["a"])(t.show)?Object(s["a"])(t.show.evaluate(n),x):x;this.setColor(i,r),this.setShow(i,o)}},A.prototype.isClass=function(t,e){const n=this._batchTableHierarchy;return!!Object(c["a"])(n)&&n.isClass(t,e)},A.prototype.isExactClass=function(t,e){return this.getExactClassName(t)===e},A.prototype.getExactClassName=function(t){const e=this._batchTableHierarchy;if(Object(c["a"])(e))return e.getClassName(t)},A.prototype.hasProperty=function(t,e){return Object(c["a"])(this._properties[e])||Object(c["a"])(this._batchTableHierarchy)&&this._batchTableHierarchy.hasProperty(t,e)},A.prototype.hasPropertyBySemantic=function(){return!1},A.prototype.getPropertyIds=function(t,e){e=Object(c["a"])(e)?e:[],e.length=0;const n=Object.keys(this._properties);return e.push.apply(e,n),Object(c["a"])(this._batchTableHierarchy)&&e.push.apply(e,this._batchTableHierarchy.getPropertyIds(t,n)),e},A.prototype.getPropertyBySemantic=function(t,e){},A.prototype.getProperty=function(t,e){if(Object(c["a"])(this._batchTableBinaryProperties)){const n=this._batchTableBinaryProperties[e];if(Object(c["a"])(n))return N(n,t)}const n=this._properties[e];if(Object(c["a"])(n))return Object(r["a"])(n[t],!0);if(Object(c["a"])(this._batchTableHierarchy)){const n=this._batchTableHierarchy.getProperty(t,e);if(Object(c["a"])(n))return n}},A.prototype.setProperty=function(t,e,n){const i=this.featuresLength;if(Object(c["a"])(this._batchTableBinaryProperties)){const i=this._batchTableBinaryProperties[e];if(Object(c["a"])(i))return void R(i,t,n)}if(Object(c["a"])(this._batchTableHierarchy)&&this._batchTableHierarchy.setProperty(t,e,n))return;let o=this._properties[e];Object(c["a"])(o)||(this._properties[e]=new Array(i),o=this._properties[e]),o[t]=Object(r["a"])(n,!0)},A.prototype.getVertexShaderCallback=function(t,e,n){if(0===this.featuresLength)return;const i=this;return function(r){const o=z(r,n,!1);let a;return b["a"].maximumVertexTextureImageUnits>0?(a="",t&&(a+="uniform bool tile_translucentCommand; \n"),a+=`uniform sampler2D tile_batchTexture; \nvarying vec4 tile_featureColor; \nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    vec2 st = computeSt(${e}); \n    vec4 featureProperties = texture2D(tile_batchTexture, st); \n    tile_color(featureProperties); \n    float show = ceil(featureProperties.a); \n    gl_Position *= show; \n`,t&&(a+="    bool isStyleTranslucent = (featureProperties.a != 1.0); \n    if (czm_pass == czm_passTranslucent) \n    { \n        if (!isStyleTranslucent && !tile_translucentCommand) \n        { \n            gl_Position *= 0.0; \n        } \n    } \n    else \n    { \n        if (isStyleTranslucent) \n        { \n            gl_Position *= 0.0; \n        } \n    } \n"),a+="    tile_featureColor = featureProperties; \n    tile_featureSt = st; \n}"):a=`varying vec2 tile_featureSt; \nvoid main() \n{ \n    tile_color(vec4(1.0)); \n    tile_featureSt = computeSt(${e}); \n}`,`${o}\n${B(i)}${a}`}},A.prototype.getFragmentShaderCallback=function(t,e,n){if(0!==this.featuresLength)return function(i){return i=z(i,e,!0),b["a"].maximumVertexTextureImageUnits>0?(i+="uniform sampler2D tile_pickTexture; \nvarying vec2 tile_featureSt; \nvarying vec4 tile_featureColor; \nvoid main() \n{ \n    tile_color(tile_featureColor); \n",n&&(i+="    gl_FragColor.rgb *= gl_FragColor.a; \n"),i+="}"):(t&&(i+="uniform bool tile_translucentCommand; \n"),i+="uniform sampler2D tile_pickTexture; \nuniform sampler2D tile_batchTexture; \nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    vec4 featureProperties = texture2D(tile_batchTexture, tile_featureSt); \n    if (featureProperties.a == 0.0) { \n        discard; \n    } \n",t&&(i+="    bool isStyleTranslucent = (featureProperties.a != 1.0); \n    if (czm_pass == czm_passTranslucent) \n    { \n        if (!isStyleTranslucent && !tile_translucentCommand) \n        { \n            discard; \n        } \n    } \n    else \n    { \n        if (isStyleTranslucent) \n        { \n            discard; \n        } \n    } \n"),i+="    tile_color(featureProperties); \n",n&&(i+="    gl_FragColor.rgb *= gl_FragColor.a; \n"),i+="} \n"),i}},A.prototype.getClassificationFragmentShaderCallback=function(){if(0!==this.featuresLength)return function(t){return t=y["a"].replaceMain(t,"tile_main"),b["a"].maximumVertexTextureImageUnits>0?t+="uniform sampler2D tile_pickTexture;\nvarying vec2 tile_featureSt; \nvarying vec4 tile_featureColor; \nvoid main() \n{ \n    tile_main(); \n    gl_FragColor = tile_featureColor; \n    gl_FragColor.rgb *= gl_FragColor.a; \n}":t+="uniform sampler2D tile_batchTexture; \nuniform sampler2D tile_pickTexture;\nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    tile_main(); \n    vec4 featureProperties = texture2D(tile_batchTexture, tile_featureSt); \n    if (featureProperties.a == 0.0) { \n        discard; \n    } \n    gl_FragColor = featureProperties; \n    gl_FragColor.rgb *= gl_FragColor.a; \n} \n",t}},A.prototype.getUniformMapCallback=function(){if(0===this.featuresLength)return;const t=this;return function(e){const n={tile_batchTexture:function(){return Object(s["a"])(t._batchTexture.batchTexture,t._batchTexture.defaultTexture)},tile_textureDimensions:function(){return t._batchTexture.textureDimensions},tile_textureStep:function(){return t._batchTexture.textureStep},tile_colorBlend:function(){return F(t)},tile_pickTexture:function(){return t._batchTexture.pickTexture}};return Object(a["a"])(e,n)}},A.prototype.getPickId=function(){return"texture2D(tile_pickTexture, tile_featureSt)"};const H={ALL_OPAQUE:0,ALL_TRANSLUCENT:1,OPAQUE_AND_TRANSLUCENT:2};function W(t){const e=t._batchTexture.translucentFeaturesLength;return 0===e?H.ALL_OPAQUE:e===t.featuresLength?H.ALL_TRANSLUCENT:H.OPAQUE_AND_TRANSLUCENT}function G(t){const e=_["a"].shallowClone(t),n=e.pass===p["a"].TRANSLUCENT;return e.uniformMap=Object(c["a"])(e.uniformMap)?e.uniformMap:{},e.uniformMap.tile_translucentCommand=function(){return n},e}function K(t){const e=_["a"].shallowClone(t);return e.pass=p["a"].TRANSLUCENT,e.renderState=X(t.renderState),e}function q(t){const e=_["a"].shallowClone(t);return e.renderState=Q(t.renderState),e}function V(t,e){let n=t.shaderCache.getDerivedShaderProgram(e,"zBackfaceLogDepth");if(!Object(c["a"])(n)){const i=e.fragmentShaderSource.clone();i.defines=Object(c["a"])(i.defines)?i.defines.slice(0):[],i.defines.push("POLYGON_OFFSET"),i.sources.unshift("#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n"),n=t.shaderCache.createDerivedShaderProgram(e,"zBackfaceLogDepth",{vertexShaderSource:e.vertexShaderSource,fragmentShaderSource:i,attributeLocations:e._attributeLocations})}return n}function Y(t,e){const n=_["a"].shallowClone(e),o=Object(r["a"])(n.renderState,!0);o.cull.enabled=!0,o.cull.face=C["a"].FRONT,o.colorMask={red:!1,green:!1,blue:!1,alpha:!1},o.polygonOffset={enabled:!0,factor:5,units:5},o.stencilTest=S["a"].setCesium3DTileBit(),o.stencilMask=S["a"].CESIUM_3D_TILE_MASK,n.renderState=d["a"].fromCache(o),n.castShadows=!1,n.receiveShadows=!1,n.uniformMap=Object(r["a"])(e.uniformMap);const a=new i["a"](5,5);return n.uniformMap.u_polygonOffset=function(){return a},n.shaderProgram=V(t,e.shaderProgram),n}function $(t,e){const n=_["a"].shallowClone(t),i=Object(r["a"])(n.renderState,!0);return i.stencilTest.enabled=!0,i.stencilTest.mask=S["a"].SKIP_LOD_MASK,i.stencilTest.reference=S["a"].CESIUM_3D_TILE_MASK|e<<S["a"].SKIP_LOD_BIT_SHIFT,i.stencilTest.frontFunction=I["a"].GREATER_OR_EQUAL,i.stencilTest.frontOperation.zPass=E["a"].REPLACE,i.stencilTest.backFunction=I["a"].GREATER_OR_EQUAL,i.stencilTest.backOperation.zPass=E["a"].REPLACE,i.stencilMask=S["a"].CESIUM_3D_TILE_MASK|S["a"].SKIP_LOD_MASK,n.renderState=d["a"].fromCache(i),n}function J(t){const e=t.renderState.stencilTest.reference;return(e&S["a"].SKIP_LOD_MASK)>>>S["a"].SKIP_LOD_BIT_SHIFT}function X(t){const e=Object(r["a"])(t,!0);return e.cull.enabled=!1,e.depthTest.enabled=!0,e.depthMask=!1,e.blending=O["a"].ALPHA_BLEND,e.stencilTest=S["a"].setCesium3DTileBit(),e.stencilMask=S["a"].CESIUM_3D_TILE_MASK,d["a"].fromCache(e)}function Q(t){const e=Object(r["a"])(t,!0);return e.stencilTest=S["a"].setCesium3DTileBit(),e.stencilMask=S["a"].CESIUM_3D_TILE_MASK,d["a"].fromCache(e)}A.prototype.addDerivedCommands=function(t,e){const n=t.commandList,i=n.length,r=this._content._tile,o=r._finalResolution,a=r.tileset,s=a._skipLevelOfDetail&&a._hasMixedContent&&t.context.stencilBuffer,l=W(this);for(let u=e;u<i;++u){const e=n[u];if(e.pass===p["a"].COMPUTE)continue;let i=e.derivedCommands.tileset;Object(c["a"])(i)&&!e.dirty||(i={},e.derivedCommands.tileset=i,i.originalCommand=G(e),e.dirty=!1);const h=i.originalCommand;l!==H.ALL_OPAQUE&&e.pass!==p["a"].TRANSLUCENT&&(Object(c["a"])(i.translucent)||(i.translucent=K(h))),l!==H.ALL_TRANSLUCENT&&e.pass!==p["a"].TRANSLUCENT&&(Object(c["a"])(i.opaque)||(i.opaque=q(h)),s&&(o||(Object(c["a"])(i.zback)||(i.zback=Y(t.context,h)),a._backfaceCommands.push(i.zback)),Object(c["a"])(i.stencil)&&r._selectionDepth===J(i.stencil)||(e.renderState.depthMask?i.stencil=$(h,r._selectionDepth):i.stencil=i.opaque)));const f=s?i.stencil:i.opaque,b=i.translucent;e.pass!==p["a"].TRANSLUCENT?(l===H.ALL_OPAQUE&&(n[u]=f),l===H.ALL_TRANSLUCENT&&(n[u]=b),l===H.OPAQUE_AND_TRANSLUCENT&&(n[u]=f,n.push(b))):n[u]=h}},A.prototype.update=function(t,e){this._batchTexture.update(t,e)},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){return this._batchTexture=this._batchTexture&&this._batchTexture.destroy(),Object(u["a"])(this)},e["a"]=A},7950:function(t,e,n){"use strict";var i=n("bef8"),r=n("bd8d"),o=n("535a"),a=n("2f63"),s=n("45c5"),c=n("5af0"),l=n("add9");function u(t,e,n,i,r){this._content=t,this._billboard=n,this._label=i,this._polyline=r,this._batchId=e,this._billboardImage=void 0,this._billboardColor=void 0,this._billboardOutlineColor=void 0,this._billboardOutlineWidth=void 0,this._billboardSize=void 0,this._pointSize=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._heightOffset=void 0,this._pickIds=new Array(3),f(this)}const h=new i["a"];function f(t){const e=t._billboard;if(Object(a["a"])(t._billboardImage)&&t._billboardImage!==e.image)return void(e.image=t._billboardImage);if(Object(a["a"])(t._billboardImage))return;const n=Object(o["a"])(t._color,u.defaultColor),i=Object(o["a"])(t._pointOutlineColor,u.defaultPointOutlineColor),s=Object(o["a"])(t._pointOutlineWidth,u.defaultPointOutlineWidth),c=Object(o["a"])(t._pointSize,u.defaultPointSize),h=t._billboardColor,f=t._billboardOutlineColor,b=t._billboardOutlineWidth,_=t._billboardSize;if(r["a"].equals(n,h)&&r["a"].equals(i,f)&&s===b&&c===_)return;t._billboardColor=r["a"].clone(n,t._billboardColor),t._billboardOutlineColor=r["a"].clone(i,t._billboardOutlineColor),t._billboardOutlineWidth=s,t._billboardSize=c;const p=n.alpha,d=n.toCssColorString(),y=i.toCssColorString(),g=JSON.stringify([d,c,y,s]);e.setImage(g,Object(l["a"])(p,d,y,s,c))}Object.defineProperties(u.prototype,{show:{get:function(){return this._label.show},set:function(t){this._label.show=t,this._billboard.show=t,this._polyline.show=t}},color:{get:function(){return this._color},set:function(t){this._color=r["a"].clone(t,this._color),f(this)}},pointSize:{get:function(){return this._pointSize},set:function(t){this._pointSize=t,f(this)}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(t){this._pointOutlineColor=r["a"].clone(t,this._pointOutlineColor),f(this)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(t){this._pointOutlineWidth=t,f(this)}},labelColor:{get:function(){return this._label.fillColor},set:function(t){this._label.fillColor=t,this._polyline.show=this._label.show&&t.alpha>0}},labelOutlineColor:{get:function(){return this._label.outlineColor},set:function(t){this._label.outlineColor=t}},labelOutlineWidth:{get:function(){return this._label.outlineWidth},set:function(t){this._label.outlineWidth=t}},font:{get:function(){return this._label.font},set:function(t){this._label.font=t}},labelStyle:{get:function(){return this._label.style},set:function(t){this._label.style=t}},labelText:{get:function(){return this._label.text},set:function(t){Object(a["a"])(t)||(t=""),this._label.text=t}},backgroundColor:{get:function(){return this._label.backgroundColor},set:function(t){this._label.backgroundColor=t}},backgroundPadding:{get:function(){return this._label.backgroundPadding},set:function(t){this._label.backgroundPadding=t}},backgroundEnabled:{get:function(){return this._label.showBackground},set:function(t){this._label.showBackground=t}},scaleByDistance:{get:function(){return this._label.scaleByDistance},set:function(t){this._label.scaleByDistance=t,this._billboard.scaleByDistance=t}},translucencyByDistance:{get:function(){return this._label.translucencyByDistance},set:function(t){this._label.translucencyByDistance=t,this._billboard.translucencyByDistance=t}},distanceDisplayCondition:{get:function(){return this._label.distanceDisplayCondition},set:function(t){this._label.distanceDisplayCondition=t,this._polyline.distanceDisplayCondition=t,this._billboard.distanceDisplayCondition=t}},heightOffset:{get:function(){return this._heightOffset},set:function(t){const e=Object(o["a"])(this._heightOffset,0),n=this._content.tileset.ellipsoid,i=n.cartesianToCartographic(this._billboard.position,h);i.height=i.height-e+t;const r=n.cartographicToCartesian(i);this._billboard.position=r,this._label.position=this._billboard.position,this._polyline.positions=[this._polyline.positions[0],r],this._heightOffset=t}},anchorLineEnabled:{get:function(){return this._polyline.show},set:function(t){this._polyline.show=t}},anchorLineColor:{get:function(){return this._polyline.material.uniforms.color},set:function(t){this._polyline.material.uniforms.color=r["a"].clone(t,this._polyline.material.uniforms.color)}},image:{get:function(){return this._billboardImage},set:function(t){const e=this._billboardImage!==t;this._billboardImage=t,e&&f(this)}},disableDepthTestDistance:{get:function(){return this._label.disableDepthTestDistance},set:function(t){this._label.disableDepthTestDistance=t,this._billboard.disableDepthTestDistance=t}},horizontalOrigin:{get:function(){return this._billboard.horizontalOrigin},set:function(t){this._billboard.horizontalOrigin=t}},verticalOrigin:{get:function(){return this._billboard.verticalOrigin},set:function(t){this._billboard.verticalOrigin=t}},labelHorizontalOrigin:{get:function(){return this._label.horizontalOrigin},set:function(t){this._label.horizontalOrigin=t}},labelVerticalOrigin:{get:function(){return this._label.verticalOrigin},set:function(t){this._label.verticalOrigin=t}},content:{get:function(){return this._content}},tileset:{get:function(){return this._content.tileset}},primitive:{get:function(){return this._content.tileset}},pickIds:{get:function(){const t=this._pickIds;return t[0]=this._billboard.pickId,t[1]=this._label.pickId,t[2]=this._polyline.pickId,t}}}),u.defaultColor=r["a"].WHITE,u.defaultPointOutlineColor=r["a"].BLACK,u.defaultPointOutlineWidth=0,u.defaultPointSize=8,u.prototype.hasProperty=function(t){return this._content.batchTable.hasProperty(this._batchId,t)},u.prototype.getPropertyNames=function(t){return Object(s["a"])("Cesium3DTilePointFeature.getPropertyNames","Cesium3DTilePointFeature.getPropertyNames is deprecated in CesiumJS 1.95, and will be removed in 1.98. Use Cesium3DTilePointFeature.getPropertyIds instead"),this._content.batchTable.getPropertyIds(this._batchId,t)},u.prototype.getPropertyIds=function(t){return this._content.batchTable.getPropertyIds(this._batchId,t)},u.prototype.getProperty=function(t){return this._content.batchTable.getProperty(this._batchId,t)},u.prototype.getPropertyInherited=function(t){return c["a"].getPropertyInherited(this._content,this._batchId,t)},u.prototype.setProperty=function(t,e){this._content.batchTable.setProperty(this._batchId,t,e),this._content.featurePropertiesDirty=!0},u.prototype.isExactClass=function(t){return this._content.batchTable.isExactClass(this._batchId,t)},u.prototype.isClass=function(t){return this._content.batchTable.isClass(this._batchId,t)},u.prototype.getExactClassName=function(){return this._content.batchTable.getExactClassName(this._batchId)},e["a"]=u},"7abe":function(t,e,n){"use strict";const i={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5};e["a"]=Object.freeze(i)},9889:function(t,e,n){"use strict";var i=n("abab"),r=n("535a"),o=n("2f63");function a(t,e){this.json=t,this.buffer=e,this._cachedTypedArrays={},this.featuresLength=0}function s(t,e,n,r,a,s){const c=t._cachedTypedArrays;let l=c[e];return Object(o["a"])(l)||(l=i["a"].createArrayBufferView(n,t.buffer.buffer,t.buffer.byteOffset+s,a*r),c[e]=l),l}function c(t,e,n,r){const a=t._cachedTypedArrays;let s=a[e];return Object(o["a"])(s)||(s=i["a"].createTypedArray(n,r),a[e]=s),s}a.prototype.getGlobalProperty=function(t,e,n){const a=this.json[t];if(Object(o["a"])(a))return Object(o["a"])(a.byteOffset)?(e=Object(r["a"])(e,i["a"].UNSIGNED_INT),n=Object(r["a"])(n,1),s(this,t,e,n,1,a.byteOffset)):a},a.prototype.hasProperty=function(t){return Object(o["a"])(this.json[t])},a.prototype.getPropertyArray=function(t,e,n){const r=this.json[t];if(Object(o["a"])(r))return Object(o["a"])(r.byteOffset)?(Object(o["a"])(r.componentType)&&(e=i["a"].fromName(r.componentType)),s(this,t,e,n,this.featuresLength,r.byteOffset)):c(this,t,e,r)},a.prototype.getProperty=function(t,e,n,i,r){const a=this.json[t];if(!Object(o["a"])(a))return;const s=this.getPropertyArray(t,e,n);if(1===n)return s[i];for(let o=0;o<n;++o)r[o]=s[n*i+o];return r},e["a"]=a},"9c94":function(t,e,n){"use strict";var i=n("61aa"),r=n("c2ce"),o=n("09e7"),a=n("c3ff"),s=n("490e"),c=n("a994"),l=n("3995"),u=n("364c"),h=n("283e"),f=n("3f56");const b={b3dm:function(t,e,n,r,o){return t.enableModelExperimental?f["a"].fromB3dm(t,e,n,r,o):new i["a"](t,e,n,r,o)},pnts:function(t,e,n,i,r){return t.enableModelExperimental?f["a"].fromPnts(t,e,n,i,r):new c["a"](t,e,n,i,r)},i3dm:function(t,e,n,i,r){return t.enableModelExperimental?f["a"].fromI3dm(t,e,n,i,r):new s["a"](t,e,n,i,r)},cmpt:function(t,e,n,i,o){return new r["a"](t,e,n,i,o,b)},externalTileset:function(t,e,n,i){return new l["a"](t,e,n,i)},geom:function(t,e,n,i,r){return new o["a"](t,e,n,i,r)},vctr:function(t,e,n,i,r){return new u["a"](t,e,n,i,r)},subt:function(t,e,n,i,r){return new a["a"](t,e,n,void 0,i,r)},subtreeJson:function(t,e,n,i){return new a["a"](t,e,n,i)},glb:function(t,e,n,i,r){const o=i.byteLength;if(o<12)throw new h["a"]("Invalid glb content");const a=new DataView(i,r),s=a.getUint32(8,!0),c=new Uint8Array(i,r,s);return f["a"].fromGltf(t,e,n,c)},gltf:function(t,e,n,i){return f["a"].fromGltf(t,e,n,i)},geoJson:function(t,e,n,i){return f["a"].fromGeoJson(t,e,n,i)}};e["a"]=b},"9e51":function(t,e,n){"use strict";var i=n("2f63");function r(){this._style=void 0,this._styleDirty=!1,this._lastStyleTime=0}Object.defineProperties(r.prototype,{style:{get:function(){return this._style},set:function(t){t!==this._style&&(this._style=t,this._styleDirty=!0)}}}),r.prototype.makeDirty=function(){this._styleDirty=!0},r.prototype.resetDirty=function(){this._styleDirty=!1},r.prototype.applyStyle=function(t){if(!t.ready)return;if(Object(i["a"])(this._style)&&!this._style._ready)return;const e=this._styleDirty;e&&++this._lastStyleTime;const n=this._lastStyleTime,r=t._statistics,o=e?t._selectedTiles:t._selectedTilesToStyle,a=o.length;for(let i=0;i<a;++i){const t=o[i];if(t.lastStyleTime!==n){const e=t.content;t.lastStyleTime=n,e.applyStyle(this._style),r.numberOfFeaturesStyled+=e.featuresLength,++r.numberOfTilesStyled}}},e["a"]=r},"9f0f":function(t,e,n){"use strict";var i=n("be18"),r=n("6380"),o=n("1ec0"),a=n("8cfb");const s={},c=new i["a"];s.checkChildrenWithinParent=function(t){const e=t.children,n=e.length,s=t.boundingVolume;if(s instanceof a["a"]||s instanceof o["a"]){const l=s._orientedBoundingBox;t._optimChildrenWithinParent=r["a"].USE_OPTIMIZATION;for(let s=0;s<n;++s){const n=e[s],u=n.boundingVolume;if(!(u instanceof a["a"]||u instanceof o["a"])){t._optimChildrenWithinParent=r["a"].SKIP_OPTIMIZATION;break}const h=u._orientedBoundingBox,f=i["a"].subtract(h.center,l.center,c),b=i["a"].magnitude(f);i["a"].divideByScalar(f,b,f);const _=Math.abs(l.halfAxes[0]*f.x)+Math.abs(l.halfAxes[1]*f.y)+Math.abs(l.halfAxes[2]*f.z)+Math.abs(l.halfAxes[3]*f.x)+Math.abs(l.halfAxes[4]*f.y)+Math.abs(l.halfAxes[5]*f.z)+Math.abs(l.halfAxes[6]*f.x)+Math.abs(l.halfAxes[7]*f.y)+Math.abs(l.halfAxes[8]*f.z),p=Math.abs(h.halfAxes[0]*f.x)+Math.abs(h.halfAxes[1]*f.y)+Math.abs(h.halfAxes[2]*f.z)+Math.abs(h.halfAxes[3]*f.x)+Math.abs(h.halfAxes[4]*f.y)+Math.abs(h.halfAxes[5]*f.z)+Math.abs(h.halfAxes[6]*f.x)+Math.abs(h.halfAxes[7]*f.y)+Math.abs(h.halfAxes[8]*f.z);if(_<=p+b){t._optimChildrenWithinParent=r["a"].SKIP_OPTIMIZATION;break}}}return t._optimChildrenWithinParent===r["a"].USE_OPTIMIZATION},e["a"]=s},c4a1:function(t,e,n){"use strict";const i={ADD:0,REPLACE:1};e["a"]=Object.freeze(i)},d150:function(t,e,n){"use strict";var i=n("8981"),r=n("859c");const o={RENDER:0,PICK:1,SHADOW:2,PRELOAD:3,PRELOAD_FLIGHT:4,REQUEST_RENDER_MODE_DEFER_CHECK:5,MOST_DETAILED_PRELOAD:6,MOST_DETAILED_PICK:7,NUMBER_OF_PASSES:8},a=new Array(o.NUMBER_OF_PASSES);a[o.RENDER]=Object.freeze({traversal:r["a"],isRender:!0,requestTiles:!0,ignoreCommands:!1}),a[o.PICK]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!1,ignoreCommands:!1}),a[o.SHADOW]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!0,ignoreCommands:!1}),a[o.PRELOAD]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!0,ignoreCommands:!0}),a[o.PRELOAD_FLIGHT]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!0,ignoreCommands:!0}),a[o.REQUEST_RENDER_MODE_DEFER_CHECK]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!0,ignoreCommands:!0}),a[o.MOST_DETAILED_PRELOAD]=Object.freeze({traversal:i["a"],isRender:!1,requestTiles:!0,ignoreCommands:!0}),a[o.MOST_DETAILED_PICK]=Object.freeze({traversal:i["a"],isRender:!1,requestTiles:!1,ignoreCommands:!1}),o.getPassOptions=function(t){return a[t]},e["a"]=Object.freeze(o)}}]);