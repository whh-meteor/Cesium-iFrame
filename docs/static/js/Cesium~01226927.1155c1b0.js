(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~01226927"],{"0523":function(e,t,n){"use strict";var i=n("9937"),r=n("2f63");function a(e){return i["a"].shader(e,(function(e){s(e)})),i["a"].buffer(e,(function(e){s(e)})),i["a"].image(e,(function(e){s(e)})),s(e),e}function s(e){e.extras=Object(r["a"])(e.extras)?e.extras:{},e.extras._pipeline=Object(r["a"])(e.extras._pipeline)?e.extras._pipeline:{}}t["a"]=a},"2c8f":function(e,t,n){"use strict";var i=n("9937"),r=n("2f63");function a(e){return i["a"].shader(e,(function(e){s(e)})),i["a"].buffer(e,(function(e){s(e)})),i["a"].image(e,(function(e){s(e)})),s(e),e}function s(e){Object(r["a"])(e.extras)&&(Object(r["a"])(e.extras._pipeline)&&delete e.extras._pipeline,0===Object.keys(e.extras).length&&delete e.extras)}t["a"]=a},"324a":function(e,t,n){"use strict";var i=n("7229"),r=n("8dfe"),a=n("535a"),s=n("2f63"),o=n("21d7"),c=n("5d5c"),u=n("eace"),f=n("d4ed"),l=n("283e"),h=n("a89b"),b=n("d3a0"),d=n("64ac");function m(e){e=Object(a["a"])(e,{}),this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=1.9,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0;const t=e.url,n=Object(a["a"])(e.path,"/default_map"),i=f["a"].createIfNeeded(t).getDerivedResource({url:"/"===n[0]?n.substring(1):n});i.appendForwardSlash(),this._resource=i,this._url=t,this._path=n,this._tileDiscardPolicy=e.tileDiscardPolicy,this._channel=e.channel,this._requestType="ImageryMaps",this._credit=new r["a"](`<a href="http://www.google.com/enterprise/mapsearth/products/earthenterprise.html"><img src="${m.logoUrl}" title="Google Imagery"/></a>`),this._tilingScheme=void 0,this._version=void 0,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=e.maximumLevel,this._errorEvent=new o["a"],this._ready=!1;const d=i.getDerivedResource({url:"query",queryParameters:{request:"Json",vars:"geeServerDefs",is2d:"t"}}),p=this;let O;function _(t){let n,i,r;try{n=JSON.parse(t)}catch(a){n=JSON.parse(t.replace(/([\[\{,])[\n\r ]*([A-Za-z0-9]+)[\n\r ]*:/g,'$1"$2":'))}for(let e=0;e<n.layers.length;e++)if(n.layers[e].id===p._channel){i=n.layers[e];break}if(!Object(s["a"])(i))return r=`Could not find layer with channel (id) of ${p._channel}.`,O=h["a"].reportError(O,p,p._errorEvent,r),O.retry?j():Promise.reject(new l["a"](r));if(!Object(s["a"])(i.version))return r=`Could not find a version in channel (id) ${p._channel}.`,O=h["a"].reportError(O,p,p._errorEvent,r),O.retry?j():Promise.reject(new l["a"](r));if(p._version=i.version,Object(s["a"])(n.projection)&&"flat"===n.projection)p._tilingScheme=new c["a"]({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new u["a"](-Math.PI,-Math.PI,Math.PI,Math.PI),ellipsoid:e.ellipsoid});else{if(Object(s["a"])(n.projection)&&"mercator"!==n.projection)return r=`Unsupported projection ${n.projection}.`,O=h["a"].reportError(O,p,p._errorEvent,r),O.retry?j():Promise.reject(new l["a"](r));p._tilingScheme=new b["a"]({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,ellipsoid:e.ellipsoid})}return p._ready=!0,h["a"].reportSuccess(O),Promise.resolve(!0)}function g(e){const t=Object(a["a"])(e.message,`An error occurred while accessing ${d.url}.`);return O=h["a"].reportError(O,p,p._errorEvent,t),Promise.reject(new l["a"](t))}function j(){return d.fetchText().then(_).catch(g)}this._readyPromise=j()}Object.defineProperties(m.prototype,{url:{get:function(){return this._url}},path:{get:function(){return this._path}},proxy:{get:function(){return this._resource.proxy}},channel:{get:function(){return this._channel}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},version:{get:function(){return this._version}},requestType:{get:function(){return this._requestType}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),m.prototype.getTileCredits=function(e,t,n){},m.prototype.requestImage=function(e,t,n,i){const r=this._resource.getDerivedResource({url:"query",request:i,queryParameters:{request:this._requestType,channel:this._channel,version:this._version,x:e,y:t,z:n+1}});return d["a"].loadImage(this,r)},m.prototype.pickFeatures=function(e,t,n,i,r){},m._logoUrl=void 0,Object.defineProperties(m,{logoUrl:{get:function(){return Object(s["a"])(m._logoUrl)||(m._logoUrl=Object(i["a"])("Assets/Images/google_earth_credit.png")),m._logoUrl},set:function(e){m._logoUrl=e}}}),t["a"]=m},3441:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("93da"),r=n("535a"),a=n("2f63"),s=n("e42d"),o=n("a913"),c=n("03f1"),u=n("23b6"),f=n("4b18"),l=n("568a"),h=n("aa13"),b=n("2773"),d=n("f25b");function m(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.resourceCache,n=e.gltf,i=e.textureInfo,a=e.gltfResource,s=e.baseResource,o=e.supportedImageFormats,c=e.cacheKey,u=Object(r["a"])(e.asynchronous,!0),l=i.index,h=f["a"].getImageIdFromTexture({gltf:n,textureId:l,supportedImageFormats:o});this._resourceCache=t,this._gltf=n,this._textureInfo=i,this._imageId=h,this._gltfResource=a,this._baseResource=s,this._cacheKey=c,this._asynchronous=u,this._imageLoader=void 0,this._image=void 0,this._mipLevels=void 0,this._texture=void 0,this._state=b["a"].UNLOADED,this._promise=void 0,this._process=function(e,t){}}Object(a["a"])(Object.create)&&(m.prototype=Object.create(h["a"].prototype),m.prototype.constructor=m),Object.defineProperties(m.prototype,{promise:{get:function(){return this._promise}},cacheKey:{get:function(){return this._cacheKey}},texture:{get:function(){return this._texture}}});const p=new O;function O(){this.gltf=void 0,this.textureInfo=void 0,this.image=void 0,this.context=void 0,this.texture=void 0}function _(e,t,n,r,l){const h=n.internalFormat;let b=!1;s["a"].isCompressedFormat(h)&&!Object(a["a"])(r)&&(b=!0);const m=f["a"].createSampler({gltf:e,textureInfo:t,compressedTextureNoMipmap:b}),p=m.minificationFilter,O=m.wrapS,_=m.wrapT,g=p===c["a"].NEAREST_MIPMAP_NEAREST||p===c["a"].NEAREST_MIPMAP_LINEAR||p===c["a"].LINEAR_MIPMAP_NEAREST||p===c["a"].LINEAR_MIPMAP_LINEAR,j=!Object(a["a"])(h)&&g,y=j||O===u["a"].REPEAT||O===u["a"].MIRRORED_REPEAT||_===u["a"].REPEAT||_===u["a"].MIRRORED_REPEAT,x=!i["a"].isPowerOfTwo(n.width)||!i["a"].isPowerOfTwo(n.height),v=y&&x;let w;return Object(a["a"])(h)?(!l.webgl2&&s["a"].isCompressedFormat(h)&&x&&y&&console.warn("Compressed texture uses REPEAT or MIRRORED_REPEAT texture wrap mode and dimensions are not powers of two. The texture may be rendered incorrectly."),w=o["a"].create({context:l,source:{arrayBufferView:n.bufferView,mipLevels:r},width:n.width,height:n.height,pixelFormat:n.internalFormat,sampler:m})):(v&&(n=Object(d["a"])(n)),w=o["a"].create({context:l,source:n,sampler:m,flipY:!1,skipColorSpaceConversion:!0})),j&&w.generateMipmap(),w}m.prototype.load=function(){const e=this._resourceCache,t=e.loadImage({gltf:this._gltf,imageId:this._imageId,gltfResource:this._gltfResource,baseResource:this._baseResource});this._imageLoader=t,this._state=b["a"].LOADING;const n=this,i=new Promise((function(e){n._process=function(t,n){if(Object(a["a"])(t._texture))return;if(!Object(a["a"])(t._image))return;let i;if(t._asynchronous){const e=p;e.set(t._gltf,t._textureInfo,t._image,t._mipLevels,n.context);const r=n.jobScheduler;if(!r.execute(e,l["a"].TEXTURE))return;i=e.texture}else i=_(t._gltf,t._textureInfo,t._image,t._mipLevels,n.context);t.unload(),t._texture=i,t._state=b["a"].READY,e(t)}}));return this._promise=t.promise.then((function(){if(!n.isDestroyed())return n._image=t.image,n._mipLevels=t.mipLevels,n._state=b["a"].PROCESSING,i})).catch((function(e){if(n.isDestroyed())return;n.unload(),n._state=b["a"].FAILED;const t="Failed to load texture";return Promise.reject(n.getError(t,e))})),this._promise},O.prototype.set=function(e,t,n,i,r){this.gltf=e,this.textureInfo=t,this.image=n,this.mipLevels=i,this.context=r},O.prototype.execute=function(){this.texture=_(this.gltf,this.textureInfo,this.image,this.mipLevels,this.context)},m.prototype.process=function(e){return this._process(this,e)},m.prototype.unload=function(){Object(a["a"])(this._texture)&&this._texture.destroy(),Object(a["a"])(this._imageLoader)&&this._resourceCache.unload(this._imageLoader),this._imageLoader=void 0,this._image=void 0,this._mipLevels=void 0,this._texture=void 0,this._gltf=void 0}},"352a":function(e,t,n){"use strict";var i=n("2f63");function r(e,t){return Object(i["a"])(e.extensionsUsed)&&e.extensionsUsed.indexOf(t)>=0}t["a"]=r},"3f80":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("535a"),r=n("2f63"),a=n("c763"),s=n("8086"),o=n("17a9"),c=n("aa13"),u=n("2773");function f(e){e=Object(i["a"])(e,i["a"].EMPTY_OBJECT);const t=e.gltf,n=e.extension,r=e.extensionLegacy,a=e.gltfResource,s=e.baseResource,o=e.supportedImageFormats,c=e.cacheKey,f=Object(i["a"])(e.asynchronous,!0);this._gltfResource=a,this._baseResource=s,this._gltf=t,this._extension=n,this._extensionLegacy=r,this._supportedImageFormats=o,this._cacheKey=c,this._asynchronous=f,this._bufferViewLoaders=[],this._textureLoaders=[],this._schemaLoader=void 0,this._structuralMetadata=void 0,this._state=u["a"].UNLOADED,this._promise=void 0}function l(e,t){for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],a=i.values,s=i.arrayOffsets,o=i.stringOffsets;Object(r["a"])(a)&&(t[a]=!0),Object(r["a"])(s)&&(t[s]=!0),Object(r["a"])(o)&&(t[o]=!0)}}function h(e,t){for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],a=i.bufferView,s=i.arrayOffsetBufferView,o=i.stringOffsetBufferView;Object(r["a"])(a)&&(t[a]=!0),Object(r["a"])(s)&&(t[s]=!0),Object(r["a"])(o)&&(t[o]=!0)}}function b(e){const t=e.propertyTables,n={};if(Object(r["a"])(t))for(let i=0;i<t.length;i++){const e=t[i];l(e.properties,n)}return n}function d(e){const t=e.featureTables,n={};if(Object(r["a"])(t))for(const i in t)if(t.hasOwnProperty(i)){const e=t[i],a=e.properties;Object(r["a"])(a)&&h(a,n)}return n}function m(e){let t;t=Object(r["a"])(e._extension)?b(e._extension):d(e._extensionLegacy);const n=[],i={};for(const r in t)if(t.hasOwnProperty(r)){const t=o["a"].loadBufferView({gltf:e._gltf,bufferViewId:parseInt(r),gltfResource:e._gltfResource,baseResource:e._baseResource});n.push(t.promise),e._bufferViewLoaders.push(t),i[r]=t}return Promise.all(n).then((function(){const t={};for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],r=new Uint8Array(n.typedArray);t[e]=r}return x(e),t}))}function p(e){const t={},n=e.propertyTextures;if(Object(r["a"])(n))for(let i=0;i<n.length;i++){const e=n[i],a=e.properties;Object(r["a"])(a)&&O(a,t)}return t}function O(e,t){for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];t[i.index]=i}}function _(e){const t={},n=e.featureTextures;if(Object(r["a"])(n))for(const i in n)if(n.hasOwnProperty(i)){const e=n[i],a=e.properties;Object(r["a"])(a)&&g(a,t)}return t}function g(e,t){for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],r=i.texture;t[r.index]=r}}function j(e){let t;t=Object(r["a"])(e._extension)?p(e._extension):_(e._extensionLegacy);const n=e._gltf,i=e._gltfResource,a=e._baseResource,s=e._supportedImageFormats,c=e._asynchronous,u=[],f={};for(const r in t)if(t.hasOwnProperty(r)){const l=o["a"].loadTexture({gltf:n,textureInfo:t[r],gltfResource:i,baseResource:a,supportedImageFormats:s,asynchronous:c});u.push(l.promise),e._textureLoaders.push(l),f[r]=l}return Promise.all(u).then((function(){const e={};for(const t in f)if(f.hasOwnProperty(t)){const n=f[t];e[t]=n.texture}return e}))}function y(e){const t=Object(i["a"])(e._extension,e._extensionLegacy);let n;if(Object(r["a"])(t.schemaUri)){const i=e._baseResource.getDerivedResource({url:t.schemaUri});n=o["a"].loadSchema({resource:i})}else n=o["a"].loadSchema({schema:t.schema});return e._schemaLoader=n,n.promise.then((function(e){return e.schema}))}function x(e){const t=e._bufferViewLoaders,n=t.length;for(let i=0;i<n;++i)o["a"].unload(t[i]);e._bufferViewLoaders.length=0}function v(e){const t=e._textureLoaders,n=t.length;for(let i=0;i<n;++i)o["a"].unload(t[i]);e._textureLoaders.length=0}Object(r["a"])(Object.create)&&(f.prototype=Object.create(c["a"].prototype),f.prototype.constructor=f),Object.defineProperties(f.prototype,{promise:{get:function(){return this._promise}},cacheKey:{get:function(){return this._cacheKey}},structuralMetadata:{get:function(){return this._structuralMetadata}}}),f.prototype.load=function(){const e=m(this),t=j(this),n=y(this);this._gltf=void 0,this._state=u["a"].LOADING;const i=this;this._promise=Promise.all([e,t,n]).then((function(e){if(i.isDestroyed())return;const t=e[0],n=e[1],o=e[2];return Object(r["a"])(i._extension)?i._structuralMetadata=Object(a["a"])({extension:i._extension,schema:o,bufferViews:t,textures:n}):i._structuralMetadata=Object(s["a"])({extension:i._extensionLegacy,schema:o,bufferViews:t,textures:n}),i._state=u["a"].READY,i})).catch((function(e){if(i.isDestroyed())return;i.unload(),i._state=u["a"].FAILED;const t="Failed to load structural metadata";return Promise.reject(i.getError(t,e))}))},f.prototype.process=function(e){if(this._state!==u["a"].LOADING)return;const t=this._textureLoaders,n=t.length;for(let i=0;i<n;++i){const n=t[i];n.process(e)}},f.prototype.unload=function(){x(this),v(this),Object(r["a"])(this._schemaLoader)&&o["a"].unload(this._schemaLoader),this._schemaLoader=void 0,this._structuralMetadata=void 0}},"4d77":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("535a"),r=n("2f63"),a=n("f20a"),s=n("8b68"),o=n("1da3"),c=n("568a"),u=n("8bde"),f=n("aa13"),l=n("2773"),h=n("c8d1"),b=n("abab");function d(e){e=Object(i["a"])(e,i["a"].EMPTY_OBJECT);const t=e.resourceCache,n=e.gltf,r=e.gltfResource,a=e.baseResource,s=e.bufferViewId,o=e.draco,c=e.attributeSemantic,u=e.accessorId,f=e.cacheKey,h=Object(i["a"])(e.asynchronous,!0),b=Object(i["a"])(e.dequantize,!1),d=Object(i["a"])(e.loadBuffer,!1),m=Object(i["a"])(e.loadTypedArray,!1);this._resourceCache=t,this._gltfResource=r,this._baseResource=a,this._gltf=n,this._bufferViewId=s,this._draco=o,this._attributeSemantic=c,this._accessorId=u,this._cacheKey=f,this._asynchronous=h,this._dequantize=b,this._loadBuffer=d,this._loadTypedArray=m,this._bufferViewLoader=void 0,this._dracoLoader=void 0,this._quantization=void 0,this._typedArray=void 0,this._buffer=void 0,this._state=l["a"].UNLOADED,this._promise=void 0,this._process=function(e,t){}}function m(e,t,n,i){const r=e.quantizationBits,a=(1<<r)-1,s=1/a,c=new u["a"].Quantization;if(c.componentDatatype=t,c.octEncoded=e.octEncoded,c.octEncodedZXY=!0,c.type=i,c.octEncoded)c.type=o["a"].VEC2,c.normalizationRange=a;else{const t=o["a"].getMathType(i);if(t===Number){const t=e.range;c.quantizedVolumeOffset=e.minValues[0],c.quantizedVolumeDimensions=t,c.normalizationRange=a,c.quantizedVolumeStepSize=t*s}else{c.quantizedVolumeOffset=t.unpack(e.minValues),c.normalizationRange=t.unpack(new Array(n).fill(a));const i=new Array(n).fill(e.range);c.quantizedVolumeDimensions=t.unpack(i);const r=i.map((function(e){return e*s}));c.quantizedVolumeStepSize=t.unpack(r)}}return c}function p(e){const t=e._resourceCache,n=t.loadDraco({gltf:e._gltf,draco:e._draco,gltfResource:e._gltfResource,baseResource:e._baseResource});return e._dracoLoader=n,e._state=l["a"].LOADING,n.promise.then((function(){if(e.isDestroyed())return;const t=n.decodedData.vertexAttributes,i=e._attributeSemantic,a=t[i],s=e._accessorId,o=e._gltf.accessors[s],c=o.type,u=a.array,f=a.data.quantization;return Object(r["a"])(f)&&(e._quantization=m(f,a.data.componentDatatype,a.data.componentsPerAttribute,c)),e._typedArray=new Uint8Array(u.buffer,u.byteOffset,u.byteLength),e._state=l["a"].PROCESSING,e}))}function O(e){const t=e._resourceCache,n=t.loadBufferView({gltf:e._gltf,bufferViewId:e._bufferViewId,gltfResource:e._gltfResource,baseResource:e._baseResource});return e._state=l["a"].LOADING,e._bufferViewLoader=n,n.promise.then((function(){if(!e.isDestroyed())return e._typedArray=n.typedArray,e._state=l["a"].PROCESSING,e}))}function _(e,t){e.unload(),e._state=l["a"].FAILED;const n="Failed to load vertex buffer";return t=e.getError(n,t),Promise.reject(t)}function g(){this.typedArray=void 0,this.dequantize=void 0,this.componentType=void 0,this.type=void 0,this.count=void 0,this.context=void 0,this.buffer=void 0}function j(e,t,n,i,r,o){t&&n!==b["a"].FLOAT&&(e=h["a"].dequantize(e,n,i,r));const c=a["a"].createVertexBuffer({typedArray:e,context:o,usage:s["a"].STATIC_DRAW});return c.vertexArrayDestroyable=!1,c}Object(r["a"])(Object.create)&&(d.prototype=Object.create(f["a"].prototype),d.prototype.constructor=d),Object.defineProperties(d.prototype,{promise:{get:function(){return this._promise}},cacheKey:{get:function(){return this._cacheKey}},buffer:{get:function(){return this._buffer}},typedArray:{get:function(){return this._typedArray}},quantization:{get:function(){return this._quantization}}}),d.prototype.load=function(){let e;e=Object(r["a"])(this._draco)?p(this):O(this);const t=this,n=new g,i=new Promise((function(e){t._process=function(t,i){if(t._state===l["a"].READY)return;const a=t._typedArray,s=t._dequantize;if(Object(r["a"])(t._dracoLoader)&&t._dracoLoader.process(i),Object(r["a"])(t._bufferViewLoader)&&t._bufferViewLoader.process(i),!Object(r["a"])(a))return;const o=t._gltf.accessors[t._accessorId];let u;if(t._loadBuffer&&t._asynchronous){const e=n;e.set(a,s,o.componentType,o.type,o.count,i.context);const t=i.jobScheduler;if(!t.execute(e,c["a"].BUFFER))return;u=e.buffer}else t._loadBuffer&&(u=j(a,s,o.componentType,o.type,o.count,i.context));t.unload(),t._buffer=u,t._typedArray=t._loadTypedArray?a:void 0,t._state=l["a"].READY,e(t)}}));return this._promise=e.then((function(){if(!t.isDestroyed())return i})).catch((function(e){if(!t.isDestroyed())return _(t,e)})),this._promise},g.prototype.set=function(e,t,n,i,r,a){this.typedArray=e,this.dequantize=t,this.componentType=n,this.type=i,this.count=r,this.context=a},g.prototype.execute=function(){this.buffer=j(this.typedArray,this.dequantize,this.componentType,this.type,this.count,this.context)},d.prototype.process=function(e){return this._process(this,e)},d.prototype.unload=function(){Object(r["a"])(this._buffer)&&this._buffer.destroy();const e=this._resourceCache;Object(r["a"])(this._bufferViewLoader)&&e.unload(this._bufferViewLoader),Object(r["a"])(this._dracoLoader)&&e.unload(this._dracoLoader),this._bufferViewLoader=void 0,this._dracoLoader=void 0,this._typedArray=void 0,this._buffer=void 0,this._gltf=void 0}},"555f":function(e,t,n){"use strict";var i=n("8e67"),r=n("9937"),a=n("c293"),s=n("535a"),o=n("2f63"),c=n("daa2");function u(e){r["a"].accessor(e,(function(e){Object(o["a"])(e.bufferView)&&(e.byteOffset=Object(s["a"])(e.byteOffset,0))})),r["a"].bufferView(e,(function(e){Object(o["a"])(e.buffer)&&(e.byteOffset=Object(s["a"])(e.byteOffset,0))})),r["a"].mesh(e,(function(t){r["a"].meshPrimitive(t,(function(t){if(t.mode=Object(s["a"])(t.mode,c["a"].TRIANGLES),!Object(o["a"])(t.material)){Object(o["a"])(e.materials)||(e.materials=[]);const n={name:"default"};t.material=Object(i["a"])(e.materials,n)}}))})),r["a"].accessorContainingVertexAttributeData(e,(function(t){const n=e.accessors[t],i=n.bufferView;if(n.normalized=Object(s["a"])(n.normalized,!1),Object(o["a"])(i)){const t=e.bufferViews[i];t.byteStride=Object(a["a"])(e,n),t.target=c["a"].ARRAY_BUFFER}})),r["a"].accessorContainingIndexData(e,(function(t){const n=e.accessors[t],i=n.bufferView;if(Object(o["a"])(i)){const t=e.bufferViews[i];t.target=c["a"].ELEMENT_ARRAY_BUFFER}})),r["a"].material(e,(function(e){const t=Object(s["a"])(e.extensions,s["a"].EMPTY_OBJECT),n=t.KHR_materials_common;if(Object(o["a"])(n)){const e=n.technique,t=Object(o["a"])(n.values)?n.values:{};return n.values=t,t.ambient=Object(o["a"])(t.ambient)?t.ambient:[0,0,0,1],t.emission=Object(o["a"])(t.emission)?t.emission:[0,0,0,1],t.transparency=Object(s["a"])(t.transparency,1),t.transparent=Object(s["a"])(t.transparent,!1),t.doubleSided=Object(s["a"])(t.doubleSided,!1),void("CONSTANT"!==e&&(t.diffuse=Object(o["a"])(t.diffuse)?t.diffuse:[0,0,0,1],"LAMBERT"!==e&&(t.specular=Object(o["a"])(t.specular)?t.specular:[0,0,0,1],t.shininess=Object(s["a"])(t.shininess,0))))}e.emissiveFactor=Object(s["a"])(e.emissiveFactor,[0,0,0]),e.alphaMode=Object(s["a"])(e.alphaMode,"OPAQUE"),e.doubleSided=Object(s["a"])(e.doubleSided,!1),"MASK"===e.alphaMode&&(e.alphaCutoff=Object(s["a"])(e.alphaCutoff,.5));const i=t.KHR_techniques_webgl;Object(o["a"])(i)&&r["a"].materialValue(e,(function(e){Object(o["a"])(e.index)&&l(e)})),l(e.emissiveTexture),l(e.normalTexture),l(e.occlusionTexture);const a=e.pbrMetallicRoughness;Object(o["a"])(a)&&(a.baseColorFactor=Object(s["a"])(a.baseColorFactor,[1,1,1,1]),a.metallicFactor=Object(s["a"])(a.metallicFactor,1),a.roughnessFactor=Object(s["a"])(a.roughnessFactor,1),l(a.baseColorTexture),l(a.metallicRoughnessTexture));const c=t.KHR_materials_pbrSpecularGlossiness;Object(o["a"])(c)&&(c.diffuseFactor=Object(s["a"])(c.diffuseFactor,[1,1,1,1]),c.specularFactor=Object(s["a"])(c.specularFactor,[1,1,1]),c.glossinessFactor=Object(s["a"])(c.glossinessFactor,1),l(c.specularGlossinessTexture))})),r["a"].animation(e,(function(e){r["a"].animationSampler(e,(function(e){e.interpolation=Object(s["a"])(e.interpolation,"LINEAR")}))}));const t=f(e);return r["a"].node(e,(function(e,n){const i=Object(o["a"])(t[n]);i||Object(o["a"])(e.translation)||Object(o["a"])(e.rotation)||Object(o["a"])(e.scale)?(e.translation=Object(s["a"])(e.translation,[0,0,0]),e.rotation=Object(s["a"])(e.rotation,[0,0,0,1]),e.scale=Object(s["a"])(e.scale,[1,1,1])):e.matrix=Object(s["a"])(e.matrix,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])})),r["a"].sampler(e,(function(e){e.wrapS=Object(s["a"])(e.wrapS,c["a"].REPEAT),e.wrapT=Object(s["a"])(e.wrapT,c["a"].REPEAT)})),Object(o["a"])(e.scenes)&&!Object(o["a"])(e.scene)&&(e.scene=0),e}function f(e){const t={};return r["a"].animation(e,(function(e){r["a"].animationChannel(e,(function(e){const n=e.target,i=n.node,r=n.path;"translation"!==r&&"rotation"!==r&&"scale"!==r||(t[i]=!0)}))})),t}function l(e){Object(o["a"])(e)&&(e.texCoord=Object(s["a"])(e.texCoord,0))}t["a"]=u},"6d42":function(e,t,n){"use strict";var i=n("535a"),r=n("2f63"),a=n("72b0");function s(e){e=Object(i["a"])(e,i["a"].EMPTY_OBJECT);const t=e.id,n=e.group,a=e.class,s=Object(r["a"])(n.properties)?n.properties:{};this._class=a,this._properties=s,this._id=t,this._extras=n.extras,this._extensions=n.extensions}Object.defineProperties(s.prototype,{class:{get:function(){return this._class}},id:{get:function(){return this._id}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),s.prototype.hasProperty=function(e){return a["a"].hasProperty(e,this._properties,this._class)},s.prototype.hasPropertyBySemantic=function(e){return a["a"].hasPropertyBySemantic(e,this._properties,this._class)},s.prototype.getPropertyIds=function(e){return a["a"].getPropertyIds(this._properties,this._class,e)},s.prototype.getProperty=function(e){return a["a"].getProperty(e,this._properties,this._class)},s.prototype.setProperty=function(e,t){return a["a"].setProperty(e,t,this._properties,this._class)},s.prototype.getPropertyBySemantic=function(e){return a["a"].getPropertyBySemantic(e,this._properties,this._class)},s.prototype.setPropertyBySemantic=function(e,t){return a["a"].setPropertyBySemantic(e,t,this._properties,this._class)},t["a"]=s},8586:function(e,t,n){"use strict";function i(e){switch(e){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}}t["a"]=i},"89f5":function(e,t,n){"use strict";var i=n("0523"),r=n("2f63");function a(e,t){const n=e.extensionsRequired;if(Object(r["a"])(n)){const i=n.indexOf(t);i>=0&&n.splice(i,1),0===n.length&&delete e.extensionsRequired}}var s=a;function o(e,t){const n=e.extensionsUsed;if(Object(r["a"])(n)){const i=n.indexOf(t);i>=0&&n.splice(i,1),s(e,t),0===n.length&&delete e.extensionsUsed}}var c=o,u=n("535a"),f=n("974b"),l=n("129b"),h=n("283e");const b=4;function d(e){const t=Object(f["a"])(e);if("glTF"!==t)throw new h["a"]("File is not valid binary glTF");const n=m(e,0,5),i=n[1];if(1!==i&&2!==i)throw new h["a"]("Binary glTF version is not 1 or 2");return 1===i?p(e,n):O(e,n)}function m(e,t,n){const i=new DataView(e.buffer),r=new Array(n);for(let a=0;a<n;++a)r[a]=i.getUint32(e.byteOffset+t+a*b,!0);return r}function p(e,t){const n=t[2],a=t[3],s=t[4];if(0!==s)throw new h["a"]("Binary glTF scene format is not JSON");const o=20,f=o+a,b=Object(l["a"])(e,o,a),d=JSON.parse(b);Object(i["a"])(d);const m=e.subarray(f,n),p=d.buffers;if(Object(r["a"])(p)&&Object.keys(p).length>0){const e=Object(u["a"])(p.binary_glTF,p.KHR_binary_glTF);Object(r["a"])(e)&&(e.extras._pipeline.source=m,delete e.uri)}return c(d,"KHR_binary_glTF"),d}function O(e,t){const n=t[2];let a,s,o=12;while(o<n){const t=m(e,o,2),n=t[0],r=t[1];o+=8;const c=e.subarray(o,o+n);if(o+=n,1313821514===r){const e=Object(l["a"])(c);a=JSON.parse(e),Object(i["a"])(a)}else 5130562===r&&(s=c)}if(Object(r["a"])(a)&&Object(r["a"])(s)){const e=a.buffers;if(Object(r["a"])(e)&&e.length>0){const t=e[0];t.extras._pipeline.source=s}}return a}t["a"]=d},"8e67":function(e,t,n){"use strict";var i=n("535a");function r(e,t,n){if(n=Object(i["a"])(n,!1),n){const n=e.indexOf(t);if(n>-1)return n}return e.push(t),e.length-1}t["a"]=r},"917f":function(e,t,n){"use strict";var i=n("abab");function r(e){switch(e){case i["a"].BYTE:return function(e,t,n,i,r){for(let a=0;a<n;++a)r[a]=e.getInt8(t+a*i)};case i["a"].UNSIGNED_BYTE:return function(e,t,n,i,r){for(let a=0;a<n;++a)r[a]=e.getUint8(t+a*i)};case i["a"].SHORT:return function(e,t,n,i,r){for(let a=0;a<n;++a)r[a]=e.getInt16(t+a*i,!0)};case i["a"].UNSIGNED_SHORT:return function(e,t,n,i,r){for(let a=0;a<n;++a)r[a]=e.getUint16(t+a*i,!0)};case i["a"].INT:return function(e,t,n,i,r){for(let a=0;a<n;++a)r[a]=e.getInt32(t+a*i,!0)};case i["a"].UNSIGNED_INT:return function(e,t,n,i,r){for(let a=0;a<n;++a)r[a]=e.getUint32(t+a*i,!0)};case i["a"].FLOAT:return function(e,t,n,i,r){for(let a=0;a<n;++a)r[a]=e.getFloat32(t+a*i,!0)};case i["a"].DOUBLE:return function(e,t,n,i,r){for(let a=0;a<n;++a)r[a]=e.getFloat64(t+a*i,!0)}}}t["a"]=r},9937:function(e,t,n){"use strict";var i=n("352a"),r=n("2f63");function a(){}a.objectLegacy=function(e,t){if(Object(r["a"])(e))for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n],a=t(i,n);if(Object(r["a"])(a))return a}},a.object=function(e,t){if(Object(r["a"])(e)){const n=e.length;for(let i=0;i<n;i++){const n=e[i],a=t(n,i);if(Object(r["a"])(a))return a}}},a.topLevel=function(e,t,n){const i=e[t];return Object(r["a"])(i)&&!Array.isArray(i)?a.objectLegacy(i,n):a.object(i,n)},a.accessor=function(e,t){return a.topLevel(e,"accessors",t)},a.accessorWithSemantic=function(e,t,n){const i={};return a.mesh(e,(function(e){return a.meshPrimitive(e,(function(e){const s=a.meshPrimitiveAttribute(e,(function(e,a){if(0===a.indexOf(t)&&!Object(r["a"])(i[e])){i[e]=!0;const t=n(e);if(Object(r["a"])(t))return t}}));return Object(r["a"])(s)?s:a.meshPrimitiveTarget(e,(function(e){return a.meshPrimitiveTargetAttribute(e,(function(e,a){if(0===a.indexOf(t)&&!Object(r["a"])(i[e])){i[e]=!0;const t=n(e);if(Object(r["a"])(t))return t}}))}))}))}))},a.accessorContainingVertexAttributeData=function(e,t){const n={};return a.mesh(e,(function(e){return a.meshPrimitive(e,(function(e){const i=a.meshPrimitiveAttribute(e,(function(e){if(!Object(r["a"])(n[e])){n[e]=!0;const i=t(e);if(Object(r["a"])(i))return i}}));return Object(r["a"])(i)?i:a.meshPrimitiveTarget(e,(function(e){return a.meshPrimitiveTargetAttribute(e,(function(e){if(!Object(r["a"])(n[e])){n[e]=!0;const i=t(e);if(Object(r["a"])(i))return i}}))}))}))}))},a.accessorContainingIndexData=function(e,t){const n={};return a.mesh(e,(function(e){return a.meshPrimitive(e,(function(e){const i=e.indices;if(Object(r["a"])(i)&&!Object(r["a"])(n[i])){n[i]=!0;const e=t(i);if(Object(r["a"])(e))return e}}))}))},a.animation=function(e,t){return a.topLevel(e,"animations",t)},a.animationChannel=function(e,t){const n=e.channels;return a.object(n,t)},a.animationSampler=function(e,t){const n=e.samplers;return a.object(n,t)},a.buffer=function(e,t){return a.topLevel(e,"buffers",t)},a.bufferView=function(e,t){return a.topLevel(e,"bufferViews",t)},a.camera=function(e,t){return a.topLevel(e,"cameras",t)},a.image=function(e,t){return a.topLevel(e,"images",t)},a.material=function(e,t){return a.topLevel(e,"materials",t)},a.materialValue=function(e,t){let n=e.values;Object(r["a"])(e.extensions)&&Object(r["a"])(e.extensions.KHR_techniques_webgl)&&(n=e.extensions.KHR_techniques_webgl.values);for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(r["a"])(e))return e}},a.mesh=function(e,t){return a.topLevel(e,"meshes",t)},a.meshPrimitive=function(e,t){const n=e.primitives;if(Object(r["a"])(n)){const e=n.length;for(let i=0;i<e;i++){const e=n[i],a=t(e,i);if(Object(r["a"])(a))return a}}},a.meshPrimitiveAttribute=function(e,t){const n=e.attributes;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(r["a"])(e))return e}},a.meshPrimitiveTarget=function(e,t){const n=e.targets;if(Object(r["a"])(n)){const e=n.length;for(let i=0;i<e;++i){const e=t(n[i],i);if(Object(r["a"])(e))return e}}},a.meshPrimitiveTargetAttribute=function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n],a=t(i,n);if(Object(r["a"])(a))return a}},a.node=function(e,t){return a.topLevel(e,"nodes",t)},a.nodeInTree=function(e,t,n){const i=e.nodes;if(Object(r["a"])(i)){const s=t.length;for(let o=0;o<s;o++){const s=t[o],c=i[s];if(Object(r["a"])(c)){let t=n(c,s);if(Object(r["a"])(t))return t;const i=c.children;if(Object(r["a"])(i)&&(t=a.nodeInTree(e,i,n),Object(r["a"])(t)))return t}}}},a.nodeInScene=function(e,t,n){const i=t.nodes;if(Object(r["a"])(i))return a.nodeInTree(e,i,n)},a.program=function(e,t){return Object(i["a"])(e,"KHR_techniques_webgl")?a.object(e.extensions.KHR_techniques_webgl.programs,t):a.topLevel(e,"programs",t)},a.sampler=function(e,t){return a.topLevel(e,"samplers",t)},a.scene=function(e,t){return a.topLevel(e,"scenes",t)},a.shader=function(e,t){return Object(i["a"])(e,"KHR_techniques_webgl")?a.object(e.extensions.KHR_techniques_webgl.shaders,t):a.topLevel(e,"shaders",t)},a.skin=function(e,t){return a.topLevel(e,"skins",t)},a.skinJoint=function(e,t){const n=e.joints;if(Object(r["a"])(n)){const e=n.length;for(let i=0;i<e;i++){const e=n[i],a=t(e);if(Object(r["a"])(a))return a}}},a.techniqueAttribute=function(e,t){const n=e.attributes;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(r["a"])(e))return e}},a.techniqueUniform=function(e,t){const n=e.uniforms;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(r["a"])(e))return e}},a.techniqueParameter=function(e,t){const n=e.parameters;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(r["a"])(e))return e}},a.technique=function(e,t){return Object(i["a"])(e,"KHR_techniques_webgl")?a.object(e.extensions.KHR_techniques_webgl.techniques,t):a.topLevel(e,"techniques",t)},a.texture=function(e,t){return a.topLevel(e,"textures",t)},t["a"]=a},a0f5:function(e,t,n){"use strict";var i=n("dd06"),r=n("abab"),a=n("535a"),s=n("2f63"),o=n("7d62"),c=n("4f04"),u=n("d940"),f=n("c888"),l=n("69e5"),h=n("a894"),b=n("d289"),d=n("6dc0"),m=n("e90c"),p=n("5770"),O=n("9d1c"),_=n("1dca"),g=n("fb17"),j=n("e3b4"),y=n("b7c8"),x=n("5a6c"),v=n("29ab"),w=n("63ae"),T=n("2e78"),S=n("894b"),P=n("a307"),E=n("3626"),I=n("6102"),R=n("25ef");function A(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this._hasPerInstanceColors=!0;let t=e.appearance;Object(s["a"])(t)||(t=new T["a"]),this.appearance=t,this.show=Object(a["a"])(e.show,!0),this.classificationType=Object(a["a"])(e.classificationType,x["a"].BOTH),this.debugShowBoundingVolume=Object(a["a"])(e.debugShowBoundingVolume,!1),this._debugShowShadowVolume=Object(a["a"])(e.debugShowShadowVolume,!1),this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:!1,interleave:Object(a["a"])(e.interleave,!1),releaseGeometryInstances:Object(a["a"])(e.releaseGeometryInstances,!0),allowPicking:Object(a["a"])(e.allowPicking,!0),asynchronous:Object(a["a"])(e.asynchronous,!0),compressVertices:!1,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0},this._zIndex=void 0,this._ready=!1;const n=this;this._readyPromise=new Promise((e,t)=>{n._completeLoad=()=>{this._ready=!0,this.releaseGeometryInstances&&(this.geometryInstances=void 0);const n=this._error;Object(s["a"])(n)?t(n):e(this)}}),this._primitive=void 0,this._sp=void 0,this._sp2D=void 0,this._spMorph=void 0,this._renderState=C(!1),this._renderState3DTiles=C(!0),this._renderStateMorph=d["a"].fromCache({cull:{enabled:!0,face:v["a"].FRONT},depthTest:{enabled:!0},blending:y["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1})}function V(e,t,n){const r=t.context,a=e._primitive,o=a._attributeLocations;let c=a._batchTable.getVertexShaderCallback()(j["a"]);c=S["a"]._appendShowToShader(a,c),c=S["a"]._appendDistanceDisplayConditionToShader(a,c),c=S["a"]._modifyShaderPosition(e,c,t.scene3DOnly);let u=a._batchTable.getVertexShaderCallback()(g["a"]);u=S["a"]._appendShowToShader(a,u),u=S["a"]._appendDistanceDisplayConditionToShader(a,u),u=S["a"]._modifyShaderPosition(e,u,t.scene3DOnly);let f=a._batchTable.getVertexShaderCallback()(O["a"]);const l=["GLOBE_MINIMUM_ALTITUDE "+t.mapProjection.ellipsoid.minimumRadius.toFixed(1)];let h="",b="";Object(s["a"])(n.material)?(b=Object(s["a"])(n.material)?n.material.shaderSource:"",-1!==b.search(/varying\s+float\s+v_polylineAngle;/g)&&l.push("ANGLE_VARYING"),-1!==b.search(/varying\s+float\s+v_width;/g)&&l.push("WIDTH_VARYING")):h="PER_INSTANCE_COLOR",l.push(h);const d=e.debugShowShadowVolume?["DEBUG_SHOW_VOLUME",h]:[h],y=new p["a"]({defines:l,sources:[c]}),x=new p["a"]({defines:d,sources:[b,f]});e._sp=m["a"].replaceCache({context:r,shaderProgram:a._sp,vertexShaderSource:y,fragmentShaderSource:x,attributeLocations:o});let v=r.shaderCache.getDerivedShaderProgram(e._sp,"2dColor");if(!Object(s["a"])(v)){const t=new p["a"]({defines:l.concat(["COLUMBUS_VIEW_2D"]),sources:[c]});v=r.shaderCache.createDerivedShaderProgram(e._sp,"2dColor",{context:r,shaderProgram:e._sp2D,vertexShaderSource:t,fragmentShaderSource:x,attributeLocations:o})}e._sp2D=v;let w=r.shaderCache.getDerivedShaderProgram(e._sp,"MorphColor");if(!Object(s["a"])(w)){const t=new p["a"]({defines:l.concat(["MAX_TERRAIN_HEIGHT "+i["a"]._defaultMaxTerrainHeight.toFixed(1)]),sources:[u]});f=a._batchTable.getVertexShaderCallback()(_["a"]);const n=new p["a"]({defines:d,sources:[b,f]});w=r.shaderCache.createDerivedShaderProgram(e._sp,"MorphColor",{context:r,shaderProgram:e._spMorph,vertexShaderSource:t,fragmentShaderSource:n,attributeLocations:o})}e._spMorph=w}function C(e){return d["a"].fromCache({cull:{enabled:!0},blending:y["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1,stencilTest:{enabled:e,frontFunction:I["a"].EQUAL,frontOperation:{fail:R["a"].KEEP,zFail:R["a"].KEEP,zPass:R["a"].KEEP},backFunction:I["a"].EQUAL,backOperation:{fail:R["a"].KEEP,zFail:R["a"].KEEP,zPass:R["a"].KEEP},reference:E["a"].CESIUM_3D_TILE_MASK,mask:E["a"].CESIUM_3D_TILE_MASK}})}function L(e,t,n,i,r,a){const o=e._primitive,c=o._va.length;r.length=c,a.length=c;const u=t instanceof w["a"],f=u?{}:n._uniforms,l=o._batchTable.getUniformMapCallback()(f);for(let d=0;d<c;d++){const t=o._va[d];let n=r[d];Object(s["a"])(n)||(n=r[d]=new h["a"]({owner:e,primitiveType:o._primitiveType})),n.vertexArray=t,n.renderState=e._renderState,n.shaderProgram=e._sp,n.uniformMap=l,n.pass=b["a"].TERRAIN_CLASSIFICATION,n.pickId="czm_batchTable_pickColor(v_endPlaneNormalEcAndBatchId.w)";const i=h["a"].shallowClone(n,n.derivedCommands.tileset);i.renderState=e._renderState3DTiles,i.pass=b["a"].CESIUM_3D_TILE_CLASSIFICATION,n.derivedCommands.tileset=i;const a=h["a"].shallowClone(n,n.derivedCommands.color2D);a.shaderProgram=e._sp2D,n.derivedCommands.color2D=a;const c=h["a"].shallowClone(i,i.derivedCommands.color2D);c.shaderProgram=e._sp2D,i.derivedCommands.color2D=c;const u=h["a"].shallowClone(n,n.derivedCommands.colorMorph);u.renderState=e._renderStateMorph,u.shaderProgram=e._spMorph,u.pickId="czm_batchTable_pickColor(v_batchId)",n.derivedCommands.colorMorph=u}}function D(e,t,n,i,r,a,s){n.mode===P["a"].MORPHING?t=t.derivedCommands.colorMorph:n.mode!==P["a"].SCENE3D&&(t=t.derivedCommands.color2D),t.modelMatrix=i,t.boundingVolume=a,t.cull=r,t.debugShowBoundingVolume=s,n.commandList.push(t)}function N(e,t,n,i,r,a,o){const c=e._primitive;let u;S["a"]._updateBoundingVolumes(c,t,r),t.mode===P["a"].SCENE3D?u=c._boundingSphereWC:t.mode===P["a"].COLUMBUS_VIEW?u=c._boundingSphereCV:t.mode===P["a"].SCENE2D&&Object(s["a"])(c._boundingSphere2D)?u=c._boundingSphere2D:Object(s["a"])(c._boundingSphereMorph)&&(u=c._boundingSphereMorph);const f=t.mode===P["a"].MORPHING,l=e.classificationType,h=l!==x["a"].CESIUM_3D_TILE,b=l!==x["a"].TERRAIN&&!f;let d;const m=t.passes;if(m.render||m.pick&&c.allowPicking){const i=n.length;for(let s=0;s<i;++s){const i=u[s];h&&(d=n[s],D(e,d,t,r,a,i,o)),b&&(d=n[s].derivedCommands.tileset,D(e,d,t,r,a,i,o))}}}Object.defineProperties(A.prototype,{interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},debugShowShadowVolume:{get:function(){return this._debugShowShadowVolume}}}),A.initializeTerrainHeights=function(){return i["a"].initialize()},A.prototype.update=function(e){if(!Object(s["a"])(this._primitive)&&!Object(s["a"])(this.geometryInstances))return;if(!i["a"].initialized)return void A.initializeTerrainHeights();let t;const n=this,a=this._primitiveOptions;if(!Object(s["a"])(this._primitive)){const i=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],o=i.length,c=new Array(o);let h;for(t=0;t<o;++t)if(h=i[t].attributes,!Object(s["a"])(h)||!Object(s["a"])(h.color)){this._hasPerInstanceColors=!1;break}for(t=0;t<o;++t){const a=i[t];h={};const o=a.attributes;for(const e in o)o.hasOwnProperty(e)&&(h[e]=o[e]);Object(s["a"])(h.width)||(h.width=new f["a"]({componentDatatype:r["a"].UNSIGNED_BYTE,componentsPerAttribute:1,value:[a.geometry.width]})),a.geometry._scene3DOnly=e.scene3DOnly,l["a"].setProjectionAndEllipsoid(a.geometry,e.mapProjection),c[t]=new u["a"]({geometry:a.geometry,attributes:h,id:a.id,pickPrimitive:n})}a.geometryInstances=c,a.appearance=this.appearance,a._createShaderProgramFunction=function(e,t,i){V(n,t,i)},a._createCommandsFunction=function(e,t,i,r,a,s,o){L(n,t,i,r,s,o)},a._updateAndQueueCommandsFunction=function(e,t,i,r,a,s,o,c){N(n,t,i,r,a,s,o)},this._primitive=new S["a"](a),this._primitive.readyPromise.then(this._completeLoad)}if(this.appearance instanceof w["a"]&&!this._hasPerInstanceColors)throw new c["a"]("All GeometryInstances must have color attributes to use PolylineColorAppearance with GroundPolylinePrimitive.");this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)},A.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},A.isSupported=function(e){return e.frameState.context.depthTexture},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._sp2D=void 0,this._spMorph=void 0,Object(o["a"])(this)},t["a"]=A},acad:function(e,t,n){"use strict";var i=n("dd06"),r=n("cef5"),a=n("be18"),s=n("bef8"),o=n("535a"),c=n("2f63"),u=n("7d62"),f=n("d940"),l=n("78e5"),h=n("eace"),b=n("c698"),d=n("e8b2"),m=n("5a6c"),p=n("3a8e"),O=n("a307"),_=n("2a1b");const g={u_globeMinimumAltitude:function(){return 55e3}};function j(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT);let t=e.appearance;const n=e.geometryInstances;if(!Object(c["a"])(t)&&Object(c["a"])(n)){const e=Array.isArray(n)?n:[n],i=e.length;for(let n=0;n<i;n++){const i=e[n].attributes;if(Object(c["a"])(i)&&Object(c["a"])(i.color)){t=new p["a"]({flat:!0});break}}}this.appearance=t,this.geometryInstances=e.geometryInstances,this.show=Object(o["a"])(e.show,!0),this.classificationType=Object(o["a"])(e.classificationType,m["a"].BOTH),this.debugShowBoundingVolume=Object(o["a"])(e.debugShowBoundingVolume,!1),this.debugShowShadowVolume=Object(o["a"])(e.debugShowShadowVolume,!1),this._boundingVolumes=[],this._boundingVolumes2D=[],this._ready=!1;const r=this;this._readyPromise=new Promise((e,t)=>{r._completeLoad=()=>{if(this._ready)return;this._ready=!0,this.releaseGeometryInstances&&(this.geometryInstances=void 0);const n=this._error;Object(c["a"])(n)?t(n):e(this)}}),this._primitive=void 0,this._maxHeight=void 0,this._minHeight=void 0,this._maxTerrainHeight=i["a"]._defaultMaxTerrainHeight,this._minTerrainHeight=i["a"]._defaultMinTerrainHeight,this._boundingSpheresKeys=[],this._boundingSpheres=[],this._useFragmentCulling=!1,this._zIndex=void 0;const a=this;this._classificationPrimitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:Object(o["a"])(e.vertexCacheOptimize,!1),interleave:Object(o["a"])(e.interleave,!1),releaseGeometryInstances:Object(o["a"])(e.releaseGeometryInstances,!0),allowPicking:Object(o["a"])(e.allowPicking,!0),asynchronous:Object(o["a"])(e.asynchronous,!0),compressVertices:Object(o["a"])(e.compressVertices,!0),_createBoundingVolumeFunction:void 0,_updateAndQueueCommandsFunction:void 0,_pickPrimitive:a,_extruded:!0,_uniformMap:g}}function y(e){return function(t,n){const i=n.maximumRadius,r=i/Math.cos(.5*t)-i;return e._maxHeight+r}}function x(e){return function(t,n){return e._minHeight}}Object.defineProperties(j.prototype,{vertexCacheOptimize:{get:function(){return this._classificationPrimitiveOptions.vertexCacheOptimize}},interleave:{get:function(){return this._classificationPrimitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._classificationPrimitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._classificationPrimitiveOptions.allowPicking}},asynchronous:{get:function(){return this._classificationPrimitiveOptions.asynchronous}},compressVertices:{get:function(){return this._classificationPrimitiveOptions.compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}}}),j.isSupported=d["a"].isSupported;const v=new a["a"],w=new a["a"],T=new a["a"],S=new s["a"],P=new h["a"];function E(e,t){const n=e.mapProjection.ellipsoid;if(!Object(c["a"])(t.attributes)||!Object(c["a"])(t.attributes.position3DHigh))return Object(c["a"])(t.rectangle)?t.rectangle:void 0;const i=t.attributes.position3DHigh.values,r=t.attributes.position3DLow.values,s=i.length;let o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let c=0;c<s;c+=3){const e=a["a"].unpack(i,c,v),t=a["a"].unpack(r,c,w),s=a["a"].add(e,t,T),h=n.cartesianToCartographic(s,S),b=h.latitude,d=h.longitude;o=Math.min(o,b),u=Math.min(u,d),f=Math.max(f,b),l=Math.max(l,d)}const h=P;return h.north=f,h.south=o,h.east=l,h.west=u,h}function I(e,t,n){const r=i["a"].getMinimumMaximumHeights(t,n);e._minTerrainHeight=r.minimumTerrainHeight,e._maxTerrainHeight=r.maximumTerrainHeight}function R(e,t,n){const i=t.mapProjection.ellipsoid,s=E(t,n),o=l["a"].fromRectangle(s,e._minHeight,e._maxHeight,i);if(e._boundingVolumes.push(o),!t.scene3DOnly){const n=t.mapProjection,i=r["a"].fromRectangleWithHeights2D(s,n,e._maxHeight,e._minHeight);a["a"].fromElements(i.center.z,i.center.x,i.center.y,i.center),e._boundingVolumes2D.push(i)}}function A(e,t){return Math.floor(e%t/2)}function V(e,t,n,i,r,a,s){const o=e._primitive;n.mode!==O["a"].SCENE3D&&t.shaderProgram===o._spColor&&o._needs2DShader&&(t=t.derivedCommands.appearance2D),t.owner=e,t.modelMatrix=i,t.boundingVolume=a,t.cull=r,t.debugShowBoundingVolume=s,n.commandList.push(t)}function C(e,t,n,i,r,a){const s=e._primitive;n.mode!==O["a"].SCENE3D&&t.shaderProgram===s._spPick&&s._needs2DShader&&(t=t.derivedCommands.pick2D),t.owner=e,t.modelMatrix=i,t.boundingVolume=a,t.cull=r,n.commandList.push(t)}function L(e,t,n,i,r,a,s,o){let c;c=t.mode===O["a"].SCENE3D?e._boundingVolumes:e._boundingVolumes2D;const u=e.classificationType,f=u!==m["a"].CESIUM_3D_TILE,l=u!==m["a"].TERRAIN,h=t.passes,b=e._primitive;let d,p,_;if(h.render){const i=n.length;for(d=0;d<i;++d)p=c[A(d,i)],f&&(_=n[d],V(e,_,t,r,a,p,s)),l&&(_=n[d].derivedCommands.tileset,V(e,_,t,r,a,p,s));if(t.invertClassification){const n=b._commandsIgnoreShow,i=n.length;for(d=0;d<i;++d)p=c[d],_=n[d],V(e,_,t,r,a,p,s)}}if(h.pick){const n=i.length;let s;for(e._useFragmentCulling||(s=b._primitive._pickOffsets),d=0;d<n;++d){if(p=c[A(d,n)],!e._useFragmentCulling){const e=s[A(d,n)];p=c[e.index]}f&&(_=i[d],C(e,_,t,r,a,p)),l&&(_=i[d].derivedCommands.tileset,C(e,_,t,r,a,p))}}}j.initializeTerrainHeights=function(){return i["a"].initialize()},j.prototype.update=function(e){if(!Object(c["a"])(this._primitive)&&!Object(c["a"])(this.geometryInstances))return;if(!i["a"].initialized)return void j.initializeTerrainHeights();const t=this,n=this._classificationPrimitiveOptions;if(!Object(c["a"])(this._primitive)){const r=e.mapProjection.ellipsoid;let a,s,o;const u=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],l=u.length,m=new Array(l);let p,O;for(p=0;p<l;++p){a=u[p],s=a.geometry;const t=E(e,s);Object(c["a"])(O)?Object(c["a"])(t)&&h["a"].union(O,t,O):O=h["a"].clone(t);const n=a.id;if(Object(c["a"])(n)&&Object(c["a"])(t)){const e=i["a"].getBoundingSphere(t,r);this._boundingSpheresKeys.push(n),this._boundingSpheres.push(e)}o=s.constructor,!Object(c["a"])(o)||Object(c["a"])(o.createShadowVolume)}I(this,O,r);const g=e.terrainExaggeration,v=e.terrainExaggerationRelativeHeight;this._minHeight=b["a"].getHeight(this._minTerrainHeight,g,v),this._maxHeight=b["a"].getHeight(this._maxTerrainHeight,g,v);const w=j._supportsMaterials(e.context);if(this._useFragmentCulling=w,w){let t,n=!0;for(p=0;p<l;++p)if(a=u[p],s=a.geometry,O=E(e,s),_["a"].shouldUseSphericalCoordinates(O)){n=!1;break}for(p=0;p<l;++p){a=u[p],s=a.geometry,o=s.constructor;const i=E(e,s),c=s.textureCoordinateRotationPoints;t=n?_["a"].getPlanarTextureCoordinateAttributes(i,c,r,e.mapProjection,this._maxHeight):_["a"].getSphericalExtentGeometryInstanceAttributes(i,c,r,e.mapProjection);const l=a.attributes;for(const e in l)l.hasOwnProperty(e)&&(t[e]=l[e]);m[p]=new f["a"]({geometry:o.createShadowVolume(s,x(this),y(this)),attributes:t,id:a.id})}}else for(p=0;p<l;++p)a=u[p],s=a.geometry,o=s.constructor,m[p]=new f["a"]({geometry:o.createShadowVolume(s,x(this),y(this)),attributes:a.attributes,id:a.id});n.geometryInstances=m,n.appearance=this.appearance,n._createBoundingVolumeFunction=function(e,n){R(t,e,n)},n._updateAndQueueCommandsFunction=function(e,n,i,r,a,s,o,c){L(t,n,i,r,a,s,o,c)},this._primitive=new d["a"](n)}this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowShadowVolume=this.debugShowShadowVolume,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e),e.afterRender.push(()=>{Object(c["a"])(this._primitive)&&this._primitive.ready&&this._completeLoad()})},j.prototype.getBoundingSphere=function(e){const t=this._boundingSpheresKeys.indexOf(e);if(-1!==t)return this._boundingSpheres[t]},j.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},j.prototype.isDestroyed=function(){return!1},j.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(u["a"])(this)},j._supportsMaterials=function(e){return e.depthTexture},j.supportsMaterials=function(e){return j._supportsMaterials(e.frameState.context)},t["a"]=j},bc46:function(e,t,n){"use strict";var i=n("8e67"),r=n("2f63");function a(e,t){let n=e.extensionsUsed;Object(r["a"])(n)||(n=[],e.extensionsUsed=n),Object(i["a"])(n,t,!0)}var s=a,o=n("c293"),c=n("917f"),u=n("8586"),f=n("abab");function l(e,t){const n=e.bufferViews,i=e.buffers,a=t.bufferView,s=Object(u["a"])(t.type);if(!Object(r["a"])(t.bufferView))return{min:new Array(s).fill(0),max:new Array(s).fill(0)};const l=new Array(s).fill(Number.POSITIVE_INFINITY),h=new Array(s).fill(Number.NEGATIVE_INFINITY),b=n[a],d=b.buffer,m=i[d],p=m.extras._pipeline.source,O=t.count,_=Object(o["a"])(e,t);let g=t.byteOffset+b.byteOffset+p.byteOffset;const j=t.componentType,y=f["a"].getSizeInBytes(j),x=new DataView(p.buffer),v=new Array(s),w=Object(c["a"])(j);for(let r=0;r<O;r++){w(x,g,s,y,v);for(let e=0;e<s;e++){const t=v[e];l[e]=Math.min(l[e],t),h[e]=Math.max(h[e],t)}g+=_}return{min:l,max:h}}var h=l,b=n("9937"),d=n("535a"),m=n("daa2");const p=[m["a"].FUNC_ADD,m["a"].FUNC_ADD],O=[m["a"].ONE,m["a"].ZERO,m["a"].ONE,m["a"].ZERO];function _(e,t){const n=e.enable;return!!Object(r["a"])(n)&&n.indexOf(t)>-1}const g=[m["a"].ZERO,m["a"].ONE,m["a"].SRC_COLOR,m["a"].ONE_MINUS_SRC_COLOR,m["a"].SRC_ALPHA,m["a"].ONE_MINUS_SRC_ALPHA,m["a"].DST_ALPHA,m["a"].ONE_MINUS_DST_ALPHA,m["a"].DST_COLOR,m["a"].ONE_MINUS_DST_COLOR];function j(e,t){if(!Object(r["a"])(e))return t;for(let n=0;n<4;n++)if(-1===g.indexOf(e[n]))return t;return e}function y(e){const t={},n={},i=e.techniques;return Object(r["a"])(i)?(b["a"].technique(e,(function(e,i){const a=e.states;if(Object(r["a"])(a)){const s=n[i]={};if(_(a,m["a"].BLEND)){s.alphaMode="BLEND";const e=a.functions;Object(r["a"])(e)&&(Object(r["a"])(e.blendEquationSeparate)||Object(r["a"])(e.blendFuncSeparate))&&(t[i]={blendEquation:Object(d["a"])(e.blendEquationSeparate,p),blendFactors:j(e.blendFuncSeparate,O)})}_(a,m["a"].CULL_FACE)||(s.doubleSided=!0),delete e.states}})),Object.keys(t).length>0&&(Object(r["a"])(e.extensions)||(e.extensions={}),s(e,"KHR_blend")),b["a"].material(e,(function(e){if(Object(r["a"])(e.technique)){const i=n[e.technique];b["a"].objectLegacy(i,(function(t,n){e[n]=t}));const a=t[e.technique];Object(r["a"])(a)&&(Object(r["a"])(e.extensions)||(e.extensions={}),e.extensions.KHR_blend=a)}})),e):e}var x=y;function v(e,t){let n=e.extensionsRequired;Object(r["a"])(n)||(n=[],e.extensionsRequired=n),Object(i["a"])(n,t,!0),s(e,t)}var w=v;function T(e){const t=e.techniques,n={},a={},o={};if(Object(r["a"])(t)){const t={programs:[],shaders:[],techniques:[]},c=e.glExtensionsUsed;delete e.glExtensionsUsed,b["a"].technique(e,(function(s,u){const f={name:s.name,program:void 0,attributes:{},uniforms:{}};let l;if(b["a"].techniqueAttribute(s,(function(e,t){l=s.parameters[e],f.attributes[t]={semantic:l.semantic}})),b["a"].techniqueUniform(s,(function(e,t){l=s.parameters[e],f.uniforms[t]={count:l.count,node:l.node,type:l.type,semantic:l.semantic,value:l.value},Object(r["a"])(n[u])||(n[u]={}),n[u][e]=t})),Object(r["a"])(o[s.program]))f.program=o[s.program];else{const n=e.programs[s.program],r={name:n.name,fragmentShader:void 0,vertexShader:void 0,glExtensions:c},a=e.shaders[n.fragmentShader];r.fragmentShader=Object(i["a"])(t.shaders,a,!0);const u=e.shaders[n.vertexShader];r.vertexShader=Object(i["a"])(t.shaders,u,!0),f.program=Object(i["a"])(t.programs,r),o[s.program]=f.program}a[u]=Object(i["a"])(t.techniques,f)})),t.techniques.length>0&&(Object(r["a"])(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=t,s(e,"KHR_techniques_webgl"),w(e,"KHR_techniques_webgl"))}return b["a"].material(e,(function(e){if(Object(r["a"])(e.technique)){const t={technique:a[e.technique]};b["a"].objectLegacy(e.values,(function(i,a){Object(r["a"])(t.values)||(t.values={});const s=n[e.technique][a];t.values[s]=i})),Object(r["a"])(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=t}delete e.technique,delete e.values})),delete e.techniques,delete e.programs,delete e.shaders,e}var S=T,P=n("d4da");function E(e,t){P["a"].typeOf.object("material",e),P["a"].defined("handler",t);const n=e.pbrMetallicRoughness;if(Object(r["a"])(n)){if(Object(r["a"])(n.baseColorTexture)){const e=n.baseColorTexture,i=t(e.index,e);if(Object(r["a"])(i))return i}if(Object(r["a"])(n.metallicRoughnessTexture)){const e=n.metallicRoughnessTexture,i=t(e.index,e);if(Object(r["a"])(i))return i}}if(Object(r["a"])(e.extensions)){const n=e.extensions.KHR_materials_pbrSpecularGlossiness;if(Object(r["a"])(n)){if(Object(r["a"])(n.diffuseTexture)){const e=n.diffuseTexture,i=t(e.index,e);if(Object(r["a"])(i))return i}if(Object(r["a"])(n.specularGlossinessTexture)){const e=n.specularGlossinessTexture,i=t(e.index,e);if(Object(r["a"])(i))return i}}const i=e.extensions.KHR_materials_common;if(Object(r["a"])(i)){const e=i.values.diffuse,n=i.values.ambient,a=i.values.emission,s=i.values.specular;if(Object(r["a"])(e)&&Object(r["a"])(e.index)){const n=t(e.index,e);if(Object(r["a"])(n))return n}if(Object(r["a"])(n)&&Object(r["a"])(n.index)){const e=t(n.index,n);if(Object(r["a"])(e))return e}if(Object(r["a"])(a)&&Object(r["a"])(a.index)){const e=t(a.index,a);if(Object(r["a"])(e))return e}if(Object(r["a"])(s)&&Object(r["a"])(s.index)){const e=t(s.index,s);if(Object(r["a"])(e))return e}}}const i=b["a"].materialValue(e,(function(e){if(Object(r["a"])(e.index)){const n=t(e.index,e);if(Object(r["a"])(n))return n}}));if(Object(r["a"])(i))return i;if(Object(r["a"])(e.emissiveTexture)){const n=e.emissiveTexture,i=t(n.index,n);if(Object(r["a"])(i))return i}if(Object(r["a"])(e.normalTexture)){const n=e.normalTexture,i=t(n.index,n);if(Object(r["a"])(i))return i}if(Object(r["a"])(e.occlusionTexture)){const n=e.occlusionTexture,i=t(n.index,n);if(Object(r["a"])(i))return i}}var I=E,R=n("352a");const A=["mesh","node","material","accessor","bufferView","buffer","texture","sampler","image"];function V(e,t){return t=Object(d["a"])(t,A),A.forEach((function(n){t.indexOf(n)>-1&&L(e,n)})),e}const C={accessor:"accessors",buffer:"buffers",bufferView:"bufferViews",image:"images",node:"nodes",material:"materials",mesh:"meshes",sampler:"samplers",texture:"textures"};function L(e,t){const n=C[t],i=e[n];if(Object(r["a"])(i)){let n=0;const r=N[t](e),a=i.length;for(let i=0;i<a;++i)r[i]||(D[t](e,i-n),n++)}}function D(){}function N(){}function M(e,t,n){const i=e.nodes[t];return!(Object(r["a"])(i.mesh)||Object(r["a"])(i.camera)||Object(r["a"])(i.skin)||Object(r["a"])(i.weights)||Object(r["a"])(i.extras)||Object(r["a"])(i.extensions)&&0!==Object.keys(i.extensions).length||Object(r["a"])(n[t]))&&(!Object(r["a"])(i.children)||0===i.children.filter((function(t){return!M(e,t,n)})).length)}D.accessor=function(e,t){const n=e.accessors;n.splice(t,1),b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){b["a"].meshPrimitiveAttribute(e,(function(n,i){n>t&&e.attributes[i]--})),b["a"].meshPrimitiveTarget(e,(function(e){b["a"].meshPrimitiveTargetAttribute(e,(function(n,i){n>t&&e[i]--}))}));const n=e.indices;Object(r["a"])(n)&&n>t&&e.indices--}))})),b["a"].skin(e,(function(e){Object(r["a"])(e.inverseBindMatrices)&&e.inverseBindMatrices>t&&e.inverseBindMatrices--})),b["a"].animation(e,(function(e){b["a"].animationSampler(e,(function(e){Object(r["a"])(e.input)&&e.input>t&&e.input--,Object(r["a"])(e.output)&&e.output>t&&e.output--}))}))},D.buffer=function(e,t){const n=e.buffers;n.splice(t,1),b["a"].bufferView(e,(function(e){Object(r["a"])(e.buffer)&&e.buffer>t&&e.buffer--,Object(r["a"])(e.extensions)&&Object(r["a"])(e.extensions.EXT_meshopt_compression)&&e.extensions.EXT_meshopt_compression.buffer--}))},D.bufferView=function(e,t){const n=e.bufferViews;if(n.splice(t,1),b["a"].accessor(e,(function(e){Object(r["a"])(e.bufferView)&&e.bufferView>t&&e.bufferView--})),b["a"].shader(e,(function(e){Object(r["a"])(e.bufferView)&&e.bufferView>t&&e.bufferView--})),b["a"].image(e,(function(e){Object(r["a"])(e.bufferView)&&e.bufferView>t&&e.bufferView--})),Object(R["a"])(e,"KHR_draco_mesh_compression")&&b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){Object(r["a"])(e.extensions)&&Object(r["a"])(e.extensions.KHR_draco_mesh_compression)&&e.extensions.KHR_draco_mesh_compression.bufferView>t&&e.extensions.KHR_draco_mesh_compression.bufferView--}))})),Object(R["a"])(e,"EXT_feature_metadata")){const n=e.extensions.EXT_feature_metadata,i=n.featureTables;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=n.properties;if(Object(r["a"])(a))for(const e in a)if(a.hasOwnProperty(e)){const n=a[e];Object(r["a"])(n.bufferView)&&n.bufferView>t&&n.bufferView--,Object(r["a"])(n.arrayOffsetBufferView)&&n.arrayOffsetBufferView>t&&n.arrayOffsetBufferView--,Object(r["a"])(n.stringOffsetBufferView)&&n.stringOffsetBufferView>t&&n.stringOffsetBufferView--}}}},D.image=function(e,t){const n=e.images;n.splice(t,1),b["a"].texture(e,(function(e){Object(r["a"])(e.source)&&e.source>t&&--e.source;const n=e.extensions;Object(r["a"])(n)&&Object(r["a"])(n.EXT_texture_webp)&&n.EXT_texture_webp.source>t?--e.extensions.EXT_texture_webp.source:Object(r["a"])(n)&&Object(r["a"])(n.KHR_texture_basisu)&&n.KHR_texture_basisu.source>t&&--e.extensions.KHR_texture_basisu.source}))},D.mesh=function(e,t){const n=e.meshes;n.splice(t,1),b["a"].node(e,(function(e){Object(r["a"])(e.mesh)&&(e.mesh>t?e.mesh--:e.mesh===t&&delete e.mesh)}))},D.node=function(e,t){const n=e.nodes;n.splice(t,1),b["a"].skin(e,(function(e){Object(r["a"])(e.skeleton)&&e.skeleton>t&&e.skeleton--,e.joints=e.joints.map((function(e){return e>t?e-1:e}))})),b["a"].animation(e,(function(e){b["a"].animationChannel(e,(function(e){Object(r["a"])(e.target)&&Object(r["a"])(e.target.node)&&e.target.node>t&&e.target.node--}))})),b["a"].technique(e,(function(e){b["a"].techniqueUniform(e,(function(e){Object(r["a"])(e.node)&&e.node>t&&e.node--}))})),b["a"].node(e,(function(e){Object(r["a"])(e.children)&&(e.children=e.children.filter((function(e){return e!==t})).map((function(e){return e>t?e-1:e})))})),b["a"].scene(e,(function(e){e.nodes=e.nodes.filter((function(e){return e!==t})).map((function(e){return e>t?e-1:e}))}))},D.material=function(e,t){const n=e.materials;n.splice(t,1),b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){Object(r["a"])(e.material)&&e.material>t&&e.material--}))}))},D.sampler=function(e,t){const n=e.samplers;n.splice(t,1),b["a"].texture(e,(function(e){Object(r["a"])(e.sampler)&&e.sampler>t&&--e.sampler}))},D.texture=function(e,t){const n=e.textures;if(n.splice(t,1),b["a"].material(e,(function(e){I(e,(function(e,n){n.index>t&&--n.index}))})),Object(R["a"])(e,"EXT_feature_metadata")){b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){const n=e.extensions;if(Object(r["a"])(n)&&Object(r["a"])(n.EXT_feature_metadata)){const e=n.EXT_feature_metadata,i=e.featureIdTextures;if(Object(r["a"])(i)){const e=i.length;for(let n=0;n<e;++n){const e=i[n],r=e.featureIds.texture;r.index>t&&--r.index}}}}))}));const n=e.extensions.EXT_feature_metadata,i=n.featureTextures;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=n.properties;if(Object(r["a"])(a))for(const e in a)if(a.hasOwnProperty(e)){const n=a[e],i=n.texture;i.index>t&&--i.index}}}},N.accessor=function(e){const t={};return b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){b["a"].meshPrimitiveAttribute(e,(function(e){t[e]=!0})),b["a"].meshPrimitiveTarget(e,(function(e){b["a"].meshPrimitiveTargetAttribute(e,(function(e){t[e]=!0}))}));const n=e.indices;Object(r["a"])(n)&&(t[n]=!0)}))})),b["a"].skin(e,(function(e){Object(r["a"])(e.inverseBindMatrices)&&(t[e.inverseBindMatrices]=!0)})),b["a"].animation(e,(function(e){b["a"].animationSampler(e,(function(e){Object(r["a"])(e.input)&&(t[e.input]=!0),Object(r["a"])(e.output)&&(t[e.output]=!0)}))})),Object(R["a"])(e,"EXT_mesh_gpu_instancing")&&b["a"].node(e,(function(e){Object(r["a"])(e.extensions)&&Object(r["a"])(e.extensions.EXT_mesh_gpu_instancing)&&Object.keys(e.extensions.EXT_mesh_gpu_instancing.attributes).forEach((function(n){const i=e.extensions.EXT_mesh_gpu_instancing.attributes[n];t[i]=!0}))})),t},N.buffer=function(e){const t={};return b["a"].bufferView(e,(function(e){Object(r["a"])(e.buffer)&&(t[e.buffer]=!0),Object(r["a"])(e.extensions)&&Object(r["a"])(e.extensions.EXT_meshopt_compression)&&(t[e.extensions.EXT_meshopt_compression.buffer]=!0)})),t},N.bufferView=function(e){const t={};if(b["a"].accessor(e,(function(e){Object(r["a"])(e.bufferView)&&(t[e.bufferView]=!0)})),b["a"].shader(e,(function(e){Object(r["a"])(e.bufferView)&&(t[e.bufferView]=!0)})),b["a"].image(e,(function(e){Object(r["a"])(e.bufferView)&&(t[e.bufferView]=!0)})),Object(R["a"])(e,"KHR_draco_mesh_compression")&&b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){Object(r["a"])(e.extensions)&&Object(r["a"])(e.extensions.KHR_draco_mesh_compression)&&(t[e.extensions.KHR_draco_mesh_compression.bufferView]=!0)}))})),Object(R["a"])(e,"EXT_feature_metadata")){const n=e.extensions.EXT_feature_metadata,i=n.featureTables;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=n.properties;if(Object(r["a"])(a))for(const e in a)if(a.hasOwnProperty(e)){const n=a[e];Object(r["a"])(n.bufferView)&&(t[n.bufferView]=!0),Object(r["a"])(n.arrayOffsetBufferView)&&(t[n.arrayOffsetBufferView]=!0),Object(r["a"])(n.stringOffsetBufferView)&&(t[n.stringOffsetBufferView]=!0)}}}return t},N.image=function(e){const t={};return b["a"].texture(e,(function(e){Object(r["a"])(e.source)&&(t[e.source]=!0),Object(r["a"])(e.extensions)&&Object(r["a"])(e.extensions.EXT_texture_webp)?t[e.extensions.EXT_texture_webp.source]=!0:Object(r["a"])(e.extensions)&&Object(r["a"])(e.extensions.KHR_texture_basisu)&&(t[e.extensions.KHR_texture_basisu.source]=!0)})),t},N.mesh=function(e){const t={};return b["a"].node(e,(function(n){if(Object(r["a"])(n.mesh&&Object(r["a"])(e.meshes))){const i=e.meshes[n.mesh];Object(r["a"])(i)&&Object(r["a"])(i.primitives)&&i.primitives.length>0&&(t[n.mesh]=!0)}})),t},N.node=function(e){const t={};return b["a"].skin(e,(function(e){Object(r["a"])(e.skeleton)&&(t[e.skeleton]=!0),b["a"].skinJoint(e,(function(e){t[e]=!0}))})),b["a"].animation(e,(function(e){b["a"].animationChannel(e,(function(e){Object(r["a"])(e.target)&&Object(r["a"])(e.target.node)&&(t[e.target.node]=!0)}))})),b["a"].technique(e,(function(e){b["a"].techniqueUniform(e,(function(e){Object(r["a"])(e.node)&&(t[e.node]=!0)}))})),b["a"].node(e,(function(n,i){M(e,i,t)||(t[i]=!0)})),t},N.material=function(e){const t={};return b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){Object(r["a"])(e.material)&&(t[e.material]=!0)}))})),t},N.texture=function(e){const t={};if(b["a"].material(e,(function(e){I(e,(function(e){t[e]=!0}))})),Object(R["a"])(e,"EXT_feature_metadata")){b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){const n=e.extensions;if(Object(r["a"])(n)&&Object(r["a"])(n.EXT_feature_metadata)){const e=n.EXT_feature_metadata,i=e.featureIdTextures;if(Object(r["a"])(i)){const e=i.length;for(let n=0;n<e;++n){const e=i[n],r=e.featureIds.texture;t[r.index]=!0}}}}))}));const n=e.extensions.EXT_feature_metadata,i=n.featureTextures;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=n.properties;if(Object(r["a"])(a))for(const e in a)if(a.hasOwnProperty(e)){const n=a[e],i=n.texture;t[i.index]=!0}}}return t},N.sampler=function(e){const t={};return b["a"].texture(e,(function(e){Object(r["a"])(e.sampler)&&(t[e.sampler]=!0)})),t};var q=V;function H(e,t){const n={byteLength:t.length,extras:{_pipeline:{source:t}}},r=Object(i["a"])(e.buffers,n),a={buffer:r,byteOffset:0,byteLength:t.length};return Object(i["a"])(e.bufferViews,a)}var F=H;function B(e,t){const n=Object(o["a"])(e,t),i=f["a"].getSizeInBytes(t.componentType),a=Object(u["a"])(t.type),s=t.count,l=new Array(a*s);if(!Object(r["a"])(t.bufferView))return l.fill(0);const h=e.bufferViews[t.bufferView],b=e.buffers[h.buffer].extras._pipeline.source;let d=t.byteOffset+h.byteOffset+b.byteOffset;const m=new DataView(b.buffer),p=new Array(a),O=Object(c["a"])(t.componentType);for(let r=0;r<s;++r){O(m,d,a,i,p);for(let e=0;e<a;++e)l[r*a+e]=p[e];d+=n}return l}var k=B;function U(e){let t;return b["a"].accessorWithSemantic(e,"JOINTS_0",(function(n){const i=e.accessors[n];t=i.componentType,t===m["a"].BYTE?K(e,i,f["a"].UNSIGNED_BYTE):t!==m["a"].UNSIGNED_BYTE&&t!==m["a"].UNSIGNED_SHORT&&K(e,i,f["a"].UNSIGNED_SHORT)})),b["a"].accessorWithSemantic(e,"WEIGHTS_0",(function(n){const i=e.accessors[n];t=i.componentType,t===m["a"].BYTE?K(e,i,f["a"].UNSIGNED_BYTE):t===m["a"].SHORT&&K(e,i,f["a"].UNSIGNED_SHORT)})),e}function K(e,t,n){const i=f["a"].createTypedArray(n,k(e,t)),r=new Uint8Array(i.buffer);t.bufferView=F(e,r),t.componentType=n,t.byteOffset=0}var G=U,z=n("be18"),X=n("a561"),Y=n("dc1c"),J=n("52f0"),W=n("0260");const Z={.8:re,"1.0":Ee,"2.0":void 0};function Q(e,t){t=Object(d["a"])(t,d["a"].EMPTY_OBJECT);const n=t.targetVersion;let i=e.version;e.asset=Object(d["a"])(e.asset,{version:"1.0"}),e.asset.version=Object(d["a"])(e.asset.version,"1.0"),i=Object(d["a"])(i,e.asset.version).toString(),Object.prototype.hasOwnProperty.call(Z,i)||(Object(r["a"])(i)&&(i=i.substring(0,3)),Object.prototype.hasOwnProperty.call(Z,i)||(i="1.0"));let a=Z[i];while(Object(r["a"])(a)){if(i===n)break;a(e,t),i=e.asset.version,a=Z[i]}return e}function $(e){const t=e.materials;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.instanceTechnique;Object(r["a"])(i)&&(e.technique=i.technique,e.values=i.values,delete e.instanceTechnique)}}function ee(e){const t=e.meshes;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.primitives;if(Object(r["a"])(i)){const e=i.length;for(let t=0;t<e;++t){const e=i[t],n=Object(d["a"])(e.primitive,m["a"].TRIANGLES);e.mode=Object(d["a"])(e.mode,n),delete e.primitive}}}}function te(e){const t=e.nodes,n=new z["a"],i=new W["a"];for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const e=t[a];if(Object(r["a"])(e.rotation)){const t=e.rotation;z["a"].fromArray(t,0,n),W["a"].fromAxisAngle(n,t[3],i),e.rotation=[i.x,i.y,i.z,i.w]}const s=e.instanceSkin;Object(r["a"])(s)&&(e.skeletons=s.skeletons,e.skin=s.skin,e.meshes=s.meshes,delete e.instanceSkin)}}function ne(e){const t=e.animations,n=e.accessors,i=e.bufferViews,a=e.buffers,s={},o=new z["a"],c=new W["a"];for(const l in t)if(Object.prototype.hasOwnProperty.call(t,l)){const e=t[l],h=e.channels,b=e.parameters,d=e.samplers;if(Object(r["a"])(h)){const e=h.length;for(let t=0;t<e;++t){const e=h[t];if("rotation"===e.target.path){const t=b[d[e.sampler].output];if(Object(r["a"])(s[t]))continue;s[t]=!0;const l=n[t],h=i[l.bufferView],m=a[h.buffer],p=m.extras._pipeline.source,O=p.byteOffset+h.byteOffset+l.byteOffset,_=l.componentType,g=l.count,j=Object(u["a"])(l.type),y=l.count*j,x=f["a"].createArrayBufferView(_,p.buffer,O,y);for(let e=0;e<g;e++){const t=e*j;z["a"].unpack(x,t,o);const n=x[t+3];W["a"].fromAxisAngle(o,n,c),W["a"].pack(c,x,t)}}}}}}function ie(e){const t=e.techniques;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.passes;if(Object(r["a"])(i)){const t=Object(d["a"])(e.pass,"defaultPass");if(Object.prototype.hasOwnProperty.call(i,t)){const n=i[t],r=n.instanceProgram;e.attributes=Object(d["a"])(e.attributes,r.attributes),e.program=Object(d["a"])(e.program,r.program),e.uniforms=Object(d["a"])(e.uniforms,r.uniforms),e.states=Object(d["a"])(e.states,n.states)}delete e.passes,delete e.pass}}}function re(e){Object(r["a"])(e.asset)||(e.asset={});const t=e.asset;if(t.version="1.0","string"===typeof t.profile){const e=t.profile.split(" ");t.profile={api:e[0],version:e[1]}}else t.profile={};if(Object(r["a"])(e.version)&&delete e.version,$(e),ee(e),te(e),ne(e),ie(e),Object(r["a"])(e.allExtensions)&&(e.extensionsUsed=e.allExtensions,delete e.allExtensions),Object(r["a"])(e.lights)){const t=Object(d["a"])(e.extensions,{});e.extensions=t;const n=Object(d["a"])(t.KHR_materials_common,{});t.KHR_materials_common=n,n.lights=e.lights,delete e.lights,s(e,"KHR_materials_common")}}function ae(e){const t=e.animations;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.parameters;if(Object(r["a"])(i)){const t=e.samplers;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];n.input=i[n.input],n.output=i[n.output]}delete e.parameters}}}function se(e,t){const n=[];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];t[i]=n.length,n.push(a),Object(r["a"])(a.name)||(a.name=i)}return n}function oe(e){let t;const n={accessors:{},animations:{},buffers:{},bufferViews:{},cameras:{},images:{},materials:{},meshes:{},nodes:{},programs:{},samplers:{},scenes:{},shaders:{},skins:{},textures:{},techniques:{}};let a;const s={},o=e.nodes;for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a=o[i].jointName,Object(r["a"])(a)&&(s[a]=i));for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&Object(r["a"])(n[i])){const t={},r=e[i];e[i]=se(r,t),n[i]=t}for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(s[a]=n.nodes[s[a]]);Object(r["a"])(e.scene)&&(e.scene=n.scenes[e.scene]),b["a"].bufferView(e,(function(e){Object(r["a"])(e.buffer)&&(e.buffer=n.buffers[e.buffer])})),b["a"].accessor(e,(function(e){Object(r["a"])(e.bufferView)&&(e.bufferView=n.bufferViews[e.bufferView])})),b["a"].shader(e,(function(e){const t=e.extensions;if(Object(r["a"])(t)){const i=t.KHR_binary_glTF;Object(r["a"])(i)&&(e.bufferView=n.bufferViews[i.bufferView],delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}})),b["a"].program(e,(function(e){Object(r["a"])(e.vertexShader)&&(e.vertexShader=n.shaders[e.vertexShader]),Object(r["a"])(e.fragmentShader)&&(e.fragmentShader=n.shaders[e.fragmentShader])})),b["a"].technique(e,(function(e){Object(r["a"])(e.program)&&(e.program=n.programs[e.program]),b["a"].techniqueParameter(e,(function(e){Object(r["a"])(e.node)&&(e.node=n.nodes[e.node]);const t=e.value;"string"===typeof t&&(e.value={index:n.textures[t]})}))})),b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){Object(r["a"])(e.indices)&&(e.indices=n.accessors[e.indices]),b["a"].meshPrimitiveAttribute(e,(function(t,i){e.attributes[i]=n.accessors[t]})),Object(r["a"])(e.material)&&(e.material=n.materials[e.material])}))})),b["a"].node(e,(function(a){let s=a.children;if(Object(r["a"])(s)){const e=s.length;for(t=0;t<e;++t)s[t]=n.nodes[s[t]]}if(Object(r["a"])(a.meshes)){const o=a.meshes,c=o.length;if(c>0)for(a.mesh=n.meshes[o[0]],t=1;t<c;++t){const c={mesh:n.meshes[o[t]]},u=Object(i["a"])(e.nodes,c);Object(r["a"])(s)||(s=[],a.children=s),s.push(u)}delete a.meshes}if(Object(r["a"])(a.camera)&&(a.camera=n.cameras[a.camera]),Object(r["a"])(a.skin)&&(a.skin=n.skins[a.skin]),Object(r["a"])(a.skeletons)){const t=a.skeletons,i=t.length;if(i>0&&Object(r["a"])(a.skin)){const i=e.skins[a.skin];i.skeleton=n.nodes[t[0]]}delete a.skeletons}Object(r["a"])(a.jointName)&&delete a.jointName})),b["a"].skin(e,(function(e){Object(r["a"])(e.inverseBindMatrices)&&(e.inverseBindMatrices=n.accessors[e.inverseBindMatrices]);const i=e.jointNames;if(Object(r["a"])(i)){const n=[],r=i.length;for(t=0;t<r;++t)n[t]=s[i[t]];e.joints=n,delete e.jointNames}})),b["a"].scene(e,(function(e){const i=e.nodes;if(Object(r["a"])(i)){const e=i.length;for(t=0;t<e;++t)i[t]=n.nodes[i[t]]}})),b["a"].animation(e,(function(e){const t={};e.samplers=se(e.samplers,t),b["a"].animationSampler(e,(function(e){e.input=n.accessors[e.input],e.output=n.accessors[e.output]})),b["a"].animationChannel(e,(function(e){e.sampler=t[e.sampler];const i=e.target;Object(r["a"])(i)&&(i.node=n.nodes[i.id],delete i.id)}))})),b["a"].material(e,(function(e){Object(r["a"])(e.technique)&&(e.technique=n.techniques[e.technique]),b["a"].materialValue(e,(function(t,i){"string"===typeof t&&(e.values[i]={index:n.textures[t]})}));const t=e.extensions;if(Object(r["a"])(t)){const e=t.KHR_materials_common;Object(r["a"])(e)&&b["a"].materialValue(e,(function(t,i){"string"===typeof t&&(e.values[i]={index:n.textures[t]})}))}})),b["a"].image(e,(function(e){const t=e.extensions;if(Object(r["a"])(t)){const i=t.KHR_binary_glTF;Object(r["a"])(i)&&(e.bufferView=n.bufferViews[i.bufferView],e.mimeType=i.mimeType,delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}})),b["a"].texture(e,(function(e){Object(r["a"])(e.sampler)&&(e.sampler=n.samplers[e.sampler]),Object(r["a"])(e.source)&&(e.source=n.images[e.source])}))}function ce(e){b["a"].animation(e,(function(e){b["a"].animationSampler(e,(function(e){delete e.name}))}))}function ue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];Array.isArray(n)&&0===n.length&&delete e[t]}b["a"].node(e,(function(e){Object(r["a"])(e.children)&&0===e.children.length&&delete e.children}))}function fe(e){const t=e.asset;delete t.profile,delete t.premultipliedAlpha}const le={CESIUM_RTC:!0,KHR_materials_common:!0,WEB3D_quantized_attributes:!0};function he(e){const t=e.extensionsUsed;if(e.extensionsRequired=Object(d["a"])(e.extensionsRequired,[]),Object(r["a"])(t)){const n=t.length;for(let i=0;i<n;++i){const n=t[i];Object(r["a"])(le[n])&&e.extensionsRequired.push(n)}}}function be(e){b["a"].buffer(e,(function(e){delete e.type}))}function de(e){b["a"].texture(e,(function(e){delete e.format,delete e.internalFormat,delete e.target,delete e.type}))}function me(e){b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){b["a"].meshPrimitiveAttribute(e,(function(t,n){"TEXCOORD"===n?e.attributes.TEXCOORD_0=t:"COLOR"===n&&(e.attributes.COLOR_0=t)})),delete e.attributes.TEXCOORD,delete e.attributes.COLOR}))})),b["a"].technique(e,(function(e){b["a"].techniqueParameter(e,(function(e){const t=e.semantic;Object(r["a"])(t)&&("TEXCOORD"===t?e.semantic="TEXCOORD_0":"COLOR"===t&&(e.semantic="COLOR_0"))}))}))}const pe={POSITION:!0,NORMAL:!0,TANGENT:!0},Oe={COLOR:"COLOR",JOINT:"JOINTS",JOINTS:"JOINTS",TEXCOORD:"TEXCOORD",WEIGHT:"WEIGHTS",WEIGHTS:"WEIGHTS"};function _e(e){const t={};b["a"].mesh(e,(function(e){b["a"].meshPrimitive(e,(function(e){b["a"].meshPrimitiveAttribute(e,(function(e,n){if("_"!==n.charAt(0)){const e=n.search(/_[0-9]+/g);let i,a=n,s="_0";e>=0&&(a=n.substring(0,e),s=n.substring(e));const o=Oe[a];Object(r["a"])(o)?(i=o+s,t[n]=i):Object(r["a"])(pe[a])||(i="_"+n,t[n]=i)}}));for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n],a=e.attributes[n];Object(r["a"])(a)&&(delete e.attributes[n],e.attributes[i]=a)}}))})),b["a"].technique(e,(function(e){b["a"].techniqueParameter(e,(function(e){const n=t[e.semantic];Object(r["a"])(n)&&(e.semantic=n)}))}))}function ge(e){b["a"].camera(e,(function(e){const t=e.perspective;if(Object(r["a"])(t)){const e=t.aspectRatio;Object(r["a"])(e)&&0===e&&delete t.aspectRatio;const n=t.yfov;Object(r["a"])(n)&&0===n&&(t.yfov=1)}}))}function je(e,t){return Object(r["a"])(t.byteStride)&&0!==t.byteStride?t.byteStride:Object(o["a"])(e,t)}function ye(e){b["a"].buffer(e,(function(e){Object(r["a"])(e.byteLength)||(e.byteLength=e.extras._pipeline.source.length)})),b["a"].accessor(e,(function(t){const n=t.bufferView;if(Object(r["a"])(n)){const i=e.bufferViews[n],r=je(e,t),a=t.byteOffset+t.count*r;i.byteLength=Math.max(Object(d["a"])(i.byteLength,0),a)}}))}function xe(e){let t,n,a;const s=e.bufferViews,o={};b["a"].accessorContainingVertexAttributeData(e,(function(t){const n=e.accessors[t];Object(r["a"])(n.bufferView)&&(o[n.bufferView]=!0)}));const c={};b["a"].accessor(e,(function(e){Object(r["a"])(e.bufferView)&&(c[e.bufferView]=Object(d["a"])(c[e.bufferView],[]),c[e.bufferView].push(e))}));for(const r in c)if(Object.prototype.hasOwnProperty.call(c,r)){a=s[r];const u=c[r];u.sort((function(e,t){return e.byteOffset-t.byteOffset}));let f=0,l=0;const h=u.length;for(t=0;t<h;++t){let c=u[t];const b=je(e,c),d=c.byteOffset,m=c.count*b;delete c.byteStride;const p=t<h-1,O=p?je(e,u[t+1]):void 0;if(b!==O){const e=Object(Y["a"])(a,!0);o[r]&&(e.byteStride=b),e.byteOffset+=f,e.byteLength=d+m-f;const h=Object(i["a"])(s,e);for(n=l;n<=t;++n)c=u[n],c.bufferView=h,c.byteOffset=c.byteOffset-f;f=p?u[t+1].byteOffset:void 0,l=t+1}}}q(e,["accessor","bufferView","buffer"])}function ve(e){b["a"].accessorWithSemantic(e,"POSITION",(function(t){const n=e.accessors[t];if(!Object(r["a"])(n.min)||!Object(r["a"])(n.max)){const t=h(e,n);n.min=t.min,n.max=t.max}}))}function we(e){return(!Object(r["a"])(e.children)||0===e.children.length)&&(!Object(r["a"])(e.meshes)||0===e.meshes.length)&&!Object(r["a"])(e.camera)&&!Object(r["a"])(e.skin)&&!Object(r["a"])(e.skeletons)&&!Object(r["a"])(e.jointName)&&(!Object(r["a"])(e.translation)||z["a"].fromArray(e.translation).equals(z["a"].ZERO))&&(!Object(r["a"])(e.scale)||z["a"].fromArray(e.scale).equals(new z["a"](1,1,1)))&&(!Object(r["a"])(e.rotation)||X["a"].fromArray(e.rotation).equals(new X["a"](0,0,0,1)))&&(!Object(r["a"])(e.matrix)||J["a"].fromColumnMajorArray(e.matrix).equals(J["a"].IDENTITY))&&!Object(r["a"])(e.extensions)&&!Object(r["a"])(e.extras)}function Te(e,t){b["a"].scene(e,(function(e){const n=e.nodes;if(Object(r["a"])(n)){const e=n.length;for(let i=e;i>=0;--i)if(n[i]===t)return void n.splice(i,1)}})),b["a"].node(e,(function(n,i){if(Object(r["a"])(n.children)){const r=n.children.indexOf(t);r>-1&&(n.children.splice(r,1),we(n)&&Te(e,i))}})),delete e.nodes[t]}function Se(e){return b["a"].node(e,(function(t,n){we(t)&&Te(e,n)})),e}function Pe(e){b["a"].animation(e,(function(t){b["a"].animationSampler(t,(function(t){const n=e.accessors[t.input];if(!Object(r["a"])(n.min)||!Object(r["a"])(n.max)){const t=h(e,n);n.min=t.min,n.max=t.max}}))}))}function Ee(e){e.asset=Object(d["a"])(e.asset,{}),e.asset.version="2.0",$(e),ae(e),Se(e),oe(e),ce(e),fe(e),he(e),ye(e),xe(e),ve(e),Pe(e),be(e),de(e),me(e),_e(e),G(e),ge(e),x(e),S(e),ue(e)}t["a"]=Q},c293:function(e,t,n){"use strict";var i=n("8586"),r=n("abab"),a=n("2f63");function s(e,t){const n=t.bufferView;if(Object(a["a"])(n)){const t=e.bufferViews[n];if(Object(a["a"])(t.byteStride)&&t.byteStride>0)return t.byteStride}return r["a"].getSizeInBytes(t.componentType)*Object(i["a"])(t.type)}t["a"]=s}}]);