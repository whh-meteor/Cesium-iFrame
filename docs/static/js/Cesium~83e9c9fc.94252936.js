(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~83e9c9fc"],{"00f8":function(e,t,i){"use strict";function n(e){this.context=e,this.framebuffer=void 0,this.blendingEnabled=void 0,this.scissorTest=void 0,this.viewport=void 0}t["a"]=n},"0134":function(e,t,i){"use strict";var n=i("77af"),r=i("670c"),o=i("be18"),a=i("a561"),s=i("bef8"),c=i("bd8d"),u=i("535a"),l=i("2f63"),h=i("c52f"),f=i("6cbd"),_=i("93da"),d=i("df07"),p=i("52f0"),m=i("713f"),g=i("08db"),b=i("f806"),y=i("a307"),v=i("e065");function O(){this.globeDepthTexture=void 0,this.gamma=void 0,this._viewport=new n["a"],this._viewportCartesian4=new a["a"],this._viewportDirty=!1,this._viewportOrthographicMatrix=p["a"].clone(p["a"].IDENTITY),this._viewportTransformation=p["a"].clone(p["a"].IDENTITY),this._model=p["a"].clone(p["a"].IDENTITY),this._view=p["a"].clone(p["a"].IDENTITY),this._inverseView=p["a"].clone(p["a"].IDENTITY),this._projection=p["a"].clone(p["a"].IDENTITY),this._infiniteProjection=p["a"].clone(p["a"].IDENTITY),this._entireFrustum=new r["a"],this._currentFrustum=new r["a"],this._frustumPlanes=new a["a"],this._farDepthFromNearPlusOne=void 0,this._log2FarDepthFromNearPlusOne=void 0,this._oneOverLog2FarDepthFromNearPlusOne=void 0,this._frameState=void 0,this._temeToPseudoFixed=d["a"].clone(p["a"].IDENTITY),this._view3DDirty=!0,this._view3D=new p["a"],this._inverseView3DDirty=!0,this._inverseView3D=new p["a"],this._inverseModelDirty=!0,this._inverseModel=new p["a"],this._inverseTransposeModelDirty=!0,this._inverseTransposeModel=new d["a"],this._viewRotation=new d["a"],this._inverseViewRotation=new d["a"],this._viewRotation3D=new d["a"],this._inverseViewRotation3D=new d["a"],this._inverseProjectionDirty=!0,this._inverseProjection=new p["a"],this._modelViewDirty=!0,this._modelView=new p["a"],this._modelView3DDirty=!0,this._modelView3D=new p["a"],this._modelViewRelativeToEyeDirty=!0,this._modelViewRelativeToEye=new p["a"],this._inverseModelViewDirty=!0,this._inverseModelView=new p["a"],this._inverseModelView3DDirty=!0,this._inverseModelView3D=new p["a"],this._viewProjectionDirty=!0,this._viewProjection=new p["a"],this._inverseViewProjectionDirty=!0,this._inverseViewProjection=new p["a"],this._modelViewProjectionDirty=!0,this._modelViewProjection=new p["a"],this._inverseModelViewProjectionDirty=!0,this._inverseModelViewProjection=new p["a"],this._modelViewProjectionRelativeToEyeDirty=!0,this._modelViewProjectionRelativeToEye=new p["a"],this._modelViewInfiniteProjectionDirty=!0,this._modelViewInfiniteProjection=new p["a"],this._normalDirty=!0,this._normal=new d["a"],this._normal3DDirty=!0,this._normal3D=new d["a"],this._inverseNormalDirty=!0,this._inverseNormal=new d["a"],this._inverseNormal3DDirty=!0,this._inverseNormal3D=new d["a"],this._encodedCameraPositionMCDirty=!0,this._encodedCameraPositionMC=new f["a"],this._cameraPosition=new o["a"],this._sunPositionWC=new o["a"],this._sunPositionColumbusView=new o["a"],this._sunDirectionWC=new o["a"],this._sunDirectionEC=new o["a"],this._moonDirectionEC=new o["a"],this._lightDirectionWC=new o["a"],this._lightDirectionEC=new o["a"],this._lightColor=new o["a"],this._lightColorHdr=new o["a"],this._pass=void 0,this._mode=void 0,this._mapProjection=void 0,this._ellipsoid=void 0,this._cameraDirection=new o["a"],this._cameraRight=new o["a"],this._cameraUp=new o["a"],this._frustum2DWidth=0,this._eyeHeight=0,this._eyeHeight2D=new r["a"],this._pixelRatio=1,this._orthographicIn3D=!1,this._backgroundColor=new c["a"],this._brdfLut=void 0,this._environmentMap=void 0,this._sphericalHarmonicCoefficients=void 0,this._specularEnvironmentMaps=void 0,this._specularEnvironmentMapsDimensions=new r["a"],this._specularEnvironmentMapsMaximumLOD=void 0,this._fogDensity=void 0,this._invertClassificationColor=void 0,this._splitPosition=0,this._pixelSizePerMeter=void 0,this._geometricToleranceOverMeter=void 0,this._minimumDisableDepthTestDistance=void 0}function T(e,t){p["a"].clone(t,e._view),p["a"].getMatrix3(t,e._viewRotation),e._view3DDirty=!0,e._inverseView3DDirty=!0,e._modelViewDirty=!0,e._modelView3DDirty=!0,e._modelViewRelativeToEyeDirty=!0,e._inverseModelViewDirty=!0,e._inverseModelView3DDirty=!0,e._viewProjectionDirty=!0,e._inverseViewProjectionDirty=!0,e._modelViewProjectionDirty=!0,e._modelViewProjectionRelativeToEyeDirty=!0,e._modelViewInfiniteProjectionDirty=!0,e._normalDirty=!0,e._inverseNormalDirty=!0,e._normal3DDirty=!0,e._inverseNormal3DDirty=!0}function E(e,t){p["a"].clone(t,e._inverseView),p["a"].getMatrix3(t,e._inverseViewRotation)}function D(e,t){p["a"].clone(t,e._projection),e._inverseProjectionDirty=!0,e._viewProjectionDirty=!0,e._inverseViewProjectionDirty=!0,e._modelViewProjectionDirty=!0,e._modelViewProjectionRelativeToEyeDirty=!0}function S(e,t){p["a"].clone(t,e._infiniteProjection),e._modelViewInfiniteProjectionDirty=!0}function x(e,t){o["a"].clone(t.positionWC,e._cameraPosition),o["a"].clone(t.directionWC,e._cameraDirection),o["a"].clone(t.rightWC,e._cameraRight),o["a"].clone(t.upWC,e._cameraUp);const i=t.positionCartographic;Object(l["a"])(i)?e._eyeHeight=i.height:e._eyeHeight=-e._ellipsoid.maximumRadius,e._encodedCameraPositionMCDirty=!0}Object.defineProperties(O.prototype,{frameState:{get:function(){return this._frameState}},viewport:{get:function(){return this._viewport},set:function(e){if(!n["a"].equals(e,this._viewport)){n["a"].clone(e,this._viewport);const t=this._viewport,i=this._viewportCartesian4;i.x=t.x,i.y=t.y,i.z=t.width,i.w=t.height,this._viewportDirty=!0}}},viewportCartesian4:{get:function(){return this._viewportCartesian4}},viewportOrthographic:{get:function(){return N(this),this._viewportOrthographicMatrix}},viewportTransformation:{get:function(){return N(this),this._viewportTransformation}},model:{get:function(){return this._model},set:function(e){p["a"].clone(e,this._model),this._modelView3DDirty=!0,this._inverseModelView3DDirty=!0,this._inverseModelDirty=!0,this._inverseTransposeModelDirty=!0,this._modelViewDirty=!0,this._inverseModelViewDirty=!0,this._modelViewRelativeToEyeDirty=!0,this._inverseModelViewDirty=!0,this._modelViewProjectionDirty=!0,this._inverseModelViewProjectionDirty=!0,this._modelViewProjectionRelativeToEyeDirty=!0,this._modelViewInfiniteProjectionDirty=!0,this._normalDirty=!0,this._inverseNormalDirty=!0,this._normal3DDirty=!0,this._inverseNormal3DDirty=!0,this._encodedCameraPositionMCDirty=!0}},inverseModel:{get:function(){return this._inverseModelDirty&&(this._inverseModelDirty=!1,p["a"].inverse(this._model,this._inverseModel)),this._inverseModel}},inverseTransposeModel:{get:function(){const e=this._inverseTransposeModel;return this._inverseTransposeModelDirty&&(this._inverseTransposeModelDirty=!1,p["a"].getMatrix3(this.inverseModel,e),d["a"].transpose(e,e)),e}},view:{get:function(){return this._view}},view3D:{get:function(){return oe(this),this._view3D}},viewRotation:{get:function(){return oe(this),this._viewRotation}},viewRotation3D:{get:function(){return oe(this),this._viewRotation3D}},inverseView:{get:function(){return this._inverseView}},inverseView3D:{get:function(){return ae(this),this._inverseView3D}},inverseViewRotation:{get:function(){return this._inverseViewRotation}},inverseViewRotation3D:{get:function(){return ae(this),this._inverseViewRotation3D}},projection:{get:function(){return this._projection}},inverseProjection:{get:function(){return C(this),this._inverseProjection}},infiniteProjection:{get:function(){return this._infiniteProjection}},modelView:{get:function(){return R(this),this._modelView}},modelView3D:{get:function(){return L(this),this._modelView3D}},modelViewRelativeToEye:{get:function(){return G(this),this._modelViewRelativeToEye}},inverseModelView:{get:function(){return M(this),this._inverseModelView}},inverseModelView3D:{get:function(){return B(this),this._inverseModelView3D}},viewProjection:{get:function(){return F(this),this._viewProjection}},inverseViewProjection:{get:function(){return V(this),this._inverseViewProjection}},modelViewProjection:{get:function(){return U(this),this._modelViewProjection}},inverseModelViewProjection:{get:function(){return z(this),this._inverseModelViewProjection}},modelViewProjectionRelativeToEye:{get:function(){return k(this),this._modelViewProjectionRelativeToEye}},modelViewInfiniteProjection:{get:function(){return H(this),this._modelViewInfiniteProjection}},normal:{get:function(){return W(this),this._normal}},normal3D:{get:function(){return Y(this),this._normal3D}},inverseNormal:{get:function(){return $(this),this._inverseNormal}},inverseNormal3D:{get:function(){return K(this),this._inverseNormal3D}},entireFrustum:{get:function(){return this._entireFrustum}},currentFrustum:{get:function(){return this._currentFrustum}},frustumPlanes:{get:function(){return this._frustumPlanes}},farDepthFromNearPlusOne:{get:function(){return this._farDepthFromNearPlusOne}},log2FarDepthFromNearPlusOne:{get:function(){return this._log2FarDepthFromNearPlusOne}},oneOverLog2FarDepthFromNearPlusOne:{get:function(){return this._oneOverLog2FarDepthFromNearPlusOne}},eyeHeight:{get:function(){return this._eyeHeight}},eyeHeight2D:{get:function(){return this._eyeHeight2D}},sunPositionWC:{get:function(){return this._sunPositionWC}},sunPositionColumbusView:{get:function(){return this._sunPositionColumbusView}},sunDirectionWC:{get:function(){return this._sunDirectionWC}},sunDirectionEC:{get:function(){return this._sunDirectionEC}},moonDirectionEC:{get:function(){return this._moonDirectionEC}},lightDirectionWC:{get:function(){return this._lightDirectionWC}},lightDirectionEC:{get:function(){return this._lightDirectionEC}},lightColor:{get:function(){return this._lightColor}},lightColorHdr:{get:function(){return this._lightColorHdr}},encodedCameraPositionMCHigh:{get:function(){return X(this),this._encodedCameraPositionMC.high}},encodedCameraPositionMCLow:{get:function(){return X(this),this._encodedCameraPositionMC.low}},temeToPseudoFixedMatrix:{get:function(){return this._temeToPseudoFixed}},pixelRatio:{get:function(){return this._pixelRatio}},fogDensity:{get:function(){return this._fogDensity}},geometricToleranceOverMeter:{get:function(){return this._geometricToleranceOverMeter}},pass:{get:function(){return this._pass}},backgroundColor:{get:function(){return this._backgroundColor}},brdfLut:{get:function(){return this._brdfLut}},environmentMap:{get:function(){return this._environmentMap}},sphericalHarmonicCoefficients:{get:function(){return this._sphericalHarmonicCoefficients}},specularEnvironmentMaps:{get:function(){return this._specularEnvironmentMaps}},specularEnvironmentMapsDimensions:{get:function(){return this._specularEnvironmentMapsDimensions}},specularEnvironmentMapsMaximumLOD:{get:function(){return this._specularEnvironmentMapsMaximumLOD}},splitPosition:{get:function(){return this._splitPosition}},minimumDisableDepthTestDistance:{get:function(){return this._minimumDisableDepthTestDistance}},invertClassificationColor:{get:function(){return this._invertClassificationColor}},orthographicIn3D:{get:function(){return this._orthographicIn3D}},ellipsoid:{get:function(){return Object(u["a"])(this._ellipsoid,h["a"].WGS84)}}});let P=new d["a"];const w=new s["a"];function A(e,t){Object(l["a"])(b["a"].computeIcrfToFixedMatrix(t.time,P))||(P=b["a"].computeTemeToPseudoFixedMatrix(t.time,P));let i=g["a"].computeSunPositionInEarthInertialFrame(t.time,e._sunPositionWC);d["a"].multiplyByVector(P,i,i),o["a"].normalize(i,e._sunDirectionWC),i=d["a"].multiplyByVector(e.viewRotation3D,i,e._sunDirectionEC),o["a"].normalize(i,i),i=g["a"].computeMoonPositionInEarthInertialFrame(t.time,e._moonDirectionEC),d["a"].multiplyByVector(P,i,i),d["a"].multiplyByVector(e.viewRotation3D,i,i),o["a"].normalize(i,i);const n=t.mapProjection,r=n.ellipsoid,a=r.cartesianToCartographic(e._sunPositionWC,w);n.project(a,e._sunPositionColumbusView)}O.prototype.updateCamera=function(e){T(this,e.viewMatrix),E(this,e.inverseViewMatrix),x(this,e),this._entireFrustum.x=e.frustum.near,this._entireFrustum.y=e.frustum.far,this.updateFrustum(e.frustum),this._orthographicIn3D=this._mode!==y["a"].SCENE2D&&e.frustum instanceof m["a"]},O.prototype.updateFrustum=function(e){D(this,e.projectionMatrix),Object(l["a"])(e.infiniteProjectionMatrix)&&S(this,e.infiniteProjectionMatrix),this._currentFrustum.x=e.near,this._currentFrustum.y=e.far,this._farDepthFromNearPlusOne=e.far-e.near+1,this._log2FarDepthFromNearPlusOne=_["a"].log2(this._farDepthFromNearPlusOne),this._oneOverLog2FarDepthFromNearPlusOne=1/this._log2FarDepthFromNearPlusOne,Object(l["a"])(e._offCenterFrustum)&&(e=e._offCenterFrustum),this._frustumPlanes.x=e.top,this._frustumPlanes.y=e.bottom,this._frustumPlanes.z=e.left,this._frustumPlanes.w=e.right},O.prototype.updatePass=function(e){this._pass=e};const j=[],I=new v["a"];function N(e){if(e._viewportDirty){const t=e._viewport;p["a"].computeOrthographicOffCenter(t.x,t.x+t.width,t.y,t.y+t.height,0,1,e._viewportOrthographicMatrix),p["a"].computeViewportTransformation(t,0,1,e._viewportTransformation),e._viewportDirty=!1}}function C(e){e._inverseProjectionDirty&&(e._inverseProjectionDirty=!1,e._mode===y["a"].SCENE2D||e._mode===y["a"].MORPHING||e._orthographicIn3D?p["a"].clone(p["a"].ZERO,e._inverseProjection):p["a"].inverse(e._projection,e._inverseProjection))}function R(e){e._modelViewDirty&&(e._modelViewDirty=!1,p["a"].multiplyTransformation(e._view,e._model,e._modelView))}function L(e){e._modelView3DDirty&&(e._modelView3DDirty=!1,p["a"].multiplyTransformation(e.view3D,e._model,e._modelView3D))}function M(e){e._inverseModelViewDirty&&(e._inverseModelViewDirty=!1,p["a"].inverse(e.modelView,e._inverseModelView))}function B(e){e._inverseModelView3DDirty&&(e._inverseModelView3DDirty=!1,p["a"].inverse(e.modelView3D,e._inverseModelView3D))}function F(e){e._viewProjectionDirty&&(e._viewProjectionDirty=!1,p["a"].multiply(e._projection,e._view,e._viewProjection))}function V(e){e._inverseViewProjectionDirty&&(e._inverseViewProjectionDirty=!1,p["a"].inverse(e.viewProjection,e._inverseViewProjection))}function U(e){e._modelViewProjectionDirty&&(e._modelViewProjectionDirty=!1,p["a"].multiply(e._projection,e.modelView,e._modelViewProjection))}function G(e){if(e._modelViewRelativeToEyeDirty){e._modelViewRelativeToEyeDirty=!1;const t=e.modelView,i=e._modelViewRelativeToEye;i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=0,i[13]=0,i[14]=0,i[15]=t[15]}}function z(e){e._inverseModelViewProjectionDirty&&(e._inverseModelViewProjectionDirty=!1,p["a"].inverse(e.modelViewProjection,e._inverseModelViewProjection))}function k(e){e._modelViewProjectionRelativeToEyeDirty&&(e._modelViewProjectionRelativeToEyeDirty=!1,p["a"].multiply(e._projection,e.modelViewRelativeToEye,e._modelViewProjectionRelativeToEye))}function H(e){e._modelViewInfiniteProjectionDirty&&(e._modelViewInfiniteProjectionDirty=!1,p["a"].multiply(e._infiniteProjection,e.modelView,e._modelViewInfiniteProjection))}function W(e){if(e._normalDirty){e._normalDirty=!1;const t=e._normal;p["a"].getMatrix3(e.inverseModelView,t),d["a"].getRotation(t,t),d["a"].transpose(t,t)}}function Y(e){if(e._normal3DDirty){e._normal3DDirty=!1;const t=e._normal3D;p["a"].getMatrix3(e.inverseModelView3D,t),d["a"].getRotation(t,t),d["a"].transpose(t,t)}}function $(e){e._inverseNormalDirty&&(e._inverseNormalDirty=!1,p["a"].getMatrix3(e.inverseModelView,e._inverseNormal),d["a"].getRotation(e._inverseNormal,e._inverseNormal))}function K(e){e._inverseNormal3DDirty&&(e._inverseNormal3DDirty=!1,p["a"].getMatrix3(e.inverseModelView3D,e._inverseNormal3D),d["a"].getRotation(e._inverseNormal3D,e._inverseNormal3D))}O.prototype.update=function(e){this._mode=e.mode,this._mapProjection=e.mapProjection,this._ellipsoid=e.mapProjection.ellipsoid,this._pixelRatio=e.pixelRatio;const t=e.camera;this.updateCamera(t),e.mode===y["a"].SCENE2D?(this._frustum2DWidth=t.frustum.right-t.frustum.left,this._eyeHeight2D.x=.5*this._frustum2DWidth,this._eyeHeight2D.y=this._eyeHeight2D.x*this._eyeHeight2D.x):(this._frustum2DWidth=0,this._eyeHeight2D.x=0,this._eyeHeight2D.y=0),A(this,e);const i=Object(u["a"])(e.light,I);i instanceof v["a"]?(this._lightDirectionWC=o["a"].clone(this._sunDirectionWC,this._lightDirectionWC),this._lightDirectionEC=o["a"].clone(this._sunDirectionEC,this._lightDirectionEC)):(this._lightDirectionWC=o["a"].normalize(o["a"].negate(i.direction,this._lightDirectionWC),this._lightDirectionWC),this._lightDirectionEC=d["a"].multiplyByVector(this.viewRotation3D,this._lightDirectionWC,this._lightDirectionEC));const n=i.color;let a=o["a"].fromElements(n.red,n.green,n.blue,this._lightColorHdr);a=o["a"].multiplyByScalar(a,i.intensity,a);const s=o["a"].maximumComponent(a);s>1?o["a"].divideByScalar(a,s,this._lightColor):o["a"].clone(a,this._lightColor);const h=e.brdfLutGenerator,f=Object(l["a"])(h)?h.colorTexture:void 0;this._brdfLut=f,this._environmentMap=Object(u["a"])(e.environmentMap,e.context.defaultCubeMap),this._sphericalHarmonicCoefficients=Object(u["a"])(e.sphericalHarmonicCoefficients,j),this._specularEnvironmentMaps=e.specularEnvironmentMaps,this._specularEnvironmentMapsMaximumLOD=e.specularEnvironmentMapsMaximumLOD,Object(l["a"])(this._specularEnvironmentMaps)&&r["a"].clone(this._specularEnvironmentMaps.dimensions,this._specularEnvironmentMapsDimensions),this._fogDensity=e.fog.density,this._invertClassificationColor=e.invertClassificationColor,this._frameState=e,this._temeToPseudoFixed=b["a"].computeTemeToPseudoFixedMatrix(e.time,this._temeToPseudoFixed),this._splitPosition=e.splitPosition*e.context.drawingBufferWidth;const _=t.frustum.fov,p=this._viewport;let m;m=Object(l["a"])(_)?p.height>p.width?2*Math.tan(.5*_)/p.height:2*Math.tan(.5*_)/p.width:1/Math.max(p.width,p.height),this._geometricToleranceOverMeter=m*e.maximumScreenSpaceError,c["a"].clone(e.backgroundColor,this._backgroundColor),this._minimumDisableDepthTestDistance=e.minimumDisableDepthTestDistance,this._minimumDisableDepthTestDistance*=this._minimumDisableDepthTestDistance,this._minimumDisableDepthTestDistance===Number.POSITIVE_INFINITY&&(this._minimumDisableDepthTestDistance=-1)};const J=new o["a"];function X(e){e._encodedCameraPositionMCDirty&&(e._encodedCameraPositionMCDirty=!1,p["a"].multiplyByPoint(e.inverseModel,e._cameraPosition,J),f["a"].fromCartesian(J,e._encodedCameraPositionMC))}const q=new o["a"],Q=new o["a"],Z=new o["a"],ee=new o["a"],te=new s["a"],ie=new o["a"],ne=new p["a"];function re(e,t,i,n,r,a,s,c){const u=q;u.x=e.y,u.y=e.z,u.z=e.x;const h=Q;h.x=i.y,h.y=i.z,h.z=i.x;const f=Z;f.x=n.y,f.y=n.z,f.z=n.x;const d=ee;d.x=t.y,d.y=t.z,d.z=t.x,a===y["a"].SCENE2D&&(u.z=.5*r);const m=s.unproject(u,te);m.longitude=_["a"].clamp(m.longitude,-Math.PI,Math.PI),m.latitude=_["a"].clamp(m.latitude,-_["a"].PI_OVER_TWO,_["a"].PI_OVER_TWO);const g=s.ellipsoid,v=g.cartographicToCartesian(m,ie),O=b["a"].eastNorthUpToFixedFrame(v,g,ne);return p["a"].multiplyByPointAsVector(O,h,h),p["a"].multiplyByPointAsVector(O,f,f),p["a"].multiplyByPointAsVector(O,d,d),Object(l["a"])(c)||(c=new p["a"]),c[0]=h.x,c[1]=f.x,c[2]=-d.x,c[3]=0,c[4]=h.y,c[5]=f.y,c[6]=-d.y,c[7]=0,c[8]=h.z,c[9]=f.z,c[10]=-d.z,c[11]=0,c[12]=-o["a"].dot(h,v),c[13]=-o["a"].dot(f,v),c[14]=o["a"].dot(d,v),c[15]=1,c}function oe(e){e._view3DDirty&&(e._mode===y["a"].SCENE3D?p["a"].clone(e._view,e._view3D):re(e._cameraPosition,e._cameraDirection,e._cameraRight,e._cameraUp,e._frustum2DWidth,e._mode,e._mapProjection,e._view3D),p["a"].getMatrix3(e._view3D,e._viewRotation3D),e._view3DDirty=!1)}function ae(e){e._inverseView3DDirty&&(p["a"].inverseTransformation(e.view3D,e._inverseView3D),p["a"].getMatrix3(e._inverseView3D,e._inverseViewRotation3D),e._inverseView3DDirty=!1)}t["a"]=O},"03f1":function(e,t,i){"use strict";var n=i("daa2");const r={NEAREST:n["a"].NEAREST,LINEAR:n["a"].LINEAR,NEAREST_MIPMAP_NEAREST:n["a"].NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:n["a"].LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:n["a"].NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:n["a"].LINEAR_MIPMAP_LINEAR,validate:function(e){return e===r.NEAREST||e===r.LINEAR||e===r.NEAREST_MIPMAP_NEAREST||e===r.LINEAR_MIPMAP_NEAREST||e===r.NEAREST_MIPMAP_LINEAR||e===r.LINEAR_MIPMAP_LINEAR}};t["a"]=Object.freeze(r)},"23b6":function(e,t,i){"use strict";var n=i("daa2");const r={CLAMP_TO_EDGE:n["a"].CLAMP_TO_EDGE,REPEAT:n["a"].REPEAT,MIRRORED_REPEAT:n["a"].MIRRORED_REPEAT,validate:function(e){return e===r.CLAMP_TO_EDGE||e===r.REPEAT||e===r.MIRRORED_REPEAT}};t["a"]=Object.freeze(r)},3022:function(e,t,i){"use strict";var n=i("daa2");const r={NEAREST:n["a"].NEAREST,LINEAR:n["a"].LINEAR,validate:function(e){return e===r.NEAREST||e===r.LINEAR}};t["a"]=Object.freeze(r)},3550:function(e,t,i){"use strict";var n=i("daa2");const r={RGBA4:n["a"].RGBA4,RGBA8:n["a"].RGBA8,RGBA16F:n["a"].RGBA16F,RGBA32F:n["a"].RGBA32F,RGB5_A1:n["a"].RGB5_A1,RGB565:n["a"].RGB565,DEPTH_COMPONENT16:n["a"].DEPTH_COMPONENT16,STENCIL_INDEX8:n["a"].STENCIL_INDEX8,DEPTH_STENCIL:n["a"].DEPTH_STENCIL,DEPTH24_STENCIL8:n["a"].DEPTH24_STENCIL8,validate:function(e){return e===r.RGBA4||e===r.RGBA8||e===r.RGBA16F||e===r.RGBA32F||e===r.RGB5_A1||e===r.RGB565||e===r.DEPTH_COMPONENT16||e===r.STENCIL_INDEX8||e===r.DEPTH_STENCIL||e===r.DEPTH24_STENCIL8},getColorFormat:function(e){return e===n["a"].FLOAT?r.RGBA32F:e===n["a"].HALF_FLOAT_OES?r.RGBA16F:r.RGBA8}};t["a"]=Object.freeze(r)},4521:function(e,t,i){"use strict";var n=i("2f63"),r=i("7d62"),o=i("e90c"),a=i("5770");function s(e){this._context=e,this._shaders={},this._numberOfShaders=0,this._shadersToRelease={}}function c(e,t){const i=t.derivedKeywords,n=i.length;for(let r=0;r<n;++r){const n=i[r]+t.keyword,o=e._shaders[n];c(e,o)}delete e._shaders[t.keyword],t.shaderProgram.finalDestroy()}Object.defineProperties(s.prototype,{numberOfShaders:{get:function(){return this._numberOfShaders}}}),s.prototype.replaceShaderProgram=function(e){return Object(n["a"])(e.shaderProgram)&&e.shaderProgram.destroy(),this.getShaderProgram(e)},s.prototype.getShaderProgram=function(e){let t=e.vertexShaderSource,i=e.fragmentShaderSource;const r=e.attributeLocations;"string"===typeof t&&(t=new a["a"]({sources:[t]})),"string"===typeof i&&(i=new a["a"]({sources:[i]}));const s=t.createCombinedVertexShader(this._context),c=i.createCombinedFragmentShader(this._context),u=s+c+JSON.stringify(r);let l;if(Object(n["a"])(this._shaders[u]))l=this._shaders[u],delete this._shadersToRelease[u];else{const e=this._context,n=new o["a"]({gl:e._gl,logShaderCompilation:e.logShaderCompilation,debugShaders:e.debugShaders,vertexShaderSource:t,vertexShaderText:s,fragmentShaderSource:i,fragmentShaderText:c,attributeLocations:r});l={cache:this,shaderProgram:n,keyword:u,derivedKeywords:[],count:0},n._cachedShader=l,this._shaders[u]=l,++this._numberOfShaders}return++l.count,l.shaderProgram},s.prototype.replaceDerivedShaderProgram=function(e,t,i){const r=e._cachedShader,o=t+r.keyword,a=this._shaders[o];if(Object(n["a"])(a)){c(this,a);const e=r.derivedKeywords.indexOf(t);e>-1&&r.derivedKeywords.splice(e,1)}return this.createDerivedShaderProgram(e,t,i)},s.prototype.getDerivedShaderProgram=function(e,t){const i=e._cachedShader,r=t+i.keyword,o=this._shaders[r];if(Object(n["a"])(o))return o.shaderProgram},s.prototype.createDerivedShaderProgram=function(e,t,i){const n=e._cachedShader,r=t+n.keyword;let s=i.vertexShaderSource,c=i.fragmentShaderSource;const u=i.attributeLocations;"string"===typeof s&&(s=new a["a"]({sources:[s]})),"string"===typeof c&&(c=new a["a"]({sources:[c]}));const l=this._context,h=s.createCombinedVertexShader(l),f=c.createCombinedFragmentShader(l),_=new o["a"]({gl:l._gl,logShaderCompilation:l.logShaderCompilation,debugShaders:l.debugShaders,vertexShaderSource:s,vertexShaderText:h,fragmentShaderSource:c,fragmentShaderText:f,attributeLocations:u}),d={cache:this,shaderProgram:_,keyword:r,derivedKeywords:[],count:0};return n.derivedKeywords.push(t),_._cachedShader=d,this._shaders[r]=d,_},s.prototype.destroyReleasedShaderPrograms=function(){const e=this._shadersToRelease;for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];c(this,i),--this._numberOfShaders}this._shadersToRelease={}},s.prototype.releaseShaderProgram=function(e){if(Object(n["a"])(e)){const t=e._cachedShader;t&&0===--t.count&&(this._shadersToRelease[t.keyword]=t)}},s.prototype.isDestroyed=function(){return!1},s.prototype.destroy=function(){const e=this._shaders;for(const t in e)e.hasOwnProperty(t)&&e[t].shaderProgram.finalDestroy();return Object(r["a"])(this)},t["a"]=s},5770:function(e,t,i){"use strict";var n=i("535a"),r=i("2f63"),o=i("99fe"),a=i("726d"),s=i("e945");function c(e){return e=e.replace(/\/\/.*/g,""),e.replace(/\/\*\*[\s\S]*?\*\//gm,(function(e){const t=e.match(/\n/gm).length;let i="";for(let n=0;n<t;++n)i+="\n";return i}))}function u(e,t,i){let n;for(let r=0;r<i.length;++r)i[r].name===e&&(n=i[r]);return Object(r["a"])(n)||(t=c(t),n={name:e,glslSource:t,dependsOn:[],requiredBy:[],evaluated:!1},i.push(n)),n}function l(e,t){if(e.evaluated)return;e.evaluated=!0;let i=e.glslSource.match(/\bczm_[a-zA-Z0-9_]*/g);Object(r["a"])(i)&&null!==i&&(i=i.filter((function(e,t){return i.indexOf(e)===t})),i.forEach((function(i){if(i!==e.name&&d._czmBuiltinsAndUniforms.hasOwnProperty(i)){const n=u(i,d._czmBuiltinsAndUniforms[i],t);e.dependsOn.push(n),n.requiredBy.push(e),l(n,t)}})))}function h(e){const t=[],i=[];while(e.length>0){const n=e.pop();i.push(n),0===n.requiredBy.length&&t.push(n)}while(t.length>0){const i=t.shift();e.push(i);for(let e=0;e<i.dependsOn.length;++e){const n=i.dependsOn[e],r=n.requiredBy.indexOf(i);n.requiredBy.splice(r,1),0===n.requiredBy.length&&t.push(n)}}const n=[];for(let r=0;r<i.length;++r)0!==i[r].requiredBy.length&&n.push(i[r])}function f(e){const t=[],i=u("main",e,t);l(i,t),h(t);let n="";for(let r=t.length-1;r>=0;--r)n=n+t[r].glslSource+"\n";return n.replace(i.glslSource,"")}function _(e,t,i){let n,a,s="";const u=e.sources;if(Object(r["a"])(u))for(n=0,a=u.length;n<a;++n)s+="\n#line 0\n"+u[n];let l;s=c(s),s=s.replace(/#version\s+(.*?)\n/gm,(function(e,t){return l=t,"\n"}));const h=[];s=s.replace(/#extension.*\n/gm,(function(e){return h.push(e),"\n"})),s=s.replace(/precision\s(lowp|mediump|highp)\s(float|int);/,"");const _=e.pickColorQualifier;Object(r["a"])(_)&&(s=d.createPickFragmentShaderSource(s,_));let p="";Object(r["a"])(l)&&(p=`#version ${l}\n`);const m=h.length;for(n=0;n<m;n++)p+=h[n];t&&(p+="#ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    precision highp int;\n#else\n    precision mediump float;\n    precision mediump int;\n    #define highp mediump\n#endif\n\n");const g=e.defines;if(Object(r["a"])(g))for(n=0,a=g.length;n<a;++n){const e=g[n];0!==e.length&&(p+=`#define ${e}\n`)}return i.webgl2&&(p+="#define OUTPUT_DECLARATION\n\n"),i.textureFloatLinear&&(p+="#define OES_texture_float_linear\n\n"),i.floatingPointTexture&&(p+="#define OES_texture_float\n\n"),e.includeBuiltIns&&(p+=f(s)),p+="\n#line 0\n",p+=s,i.webgl2&&(p=Object(o["a"])(p,t,!0)),p}function d(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.pickColorQualifier;this.defines=Object(r["a"])(e.defines)?e.defines.slice(0):[],this.sources=Object(r["a"])(e.sources)?e.sources.slice(0):[],this.pickColorQualifier=t,this.includeBuiltIns=Object(n["a"])(e.includeBuiltIns,!0)}d.prototype.clone=function(){return new d({sources:this.sources,defines:this.defines,pickColorQualifier:this.pickColorQualifier,includeBuiltIns:this.includeBuiltIns})},d.replaceMain=function(e,t){return t=`void ${t}()`,e.replace(/void\s+main\s*\(\s*(?:void)?\s*\)/g,t)},d.prototype.createCombinedVertexShader=function(e){return _(this,!1,e)},d.prototype.createCombinedFragmentShader=function(e){return _(this,!0,e)},d._czmBuiltinsAndUniforms={};for(const v in a["a"])a["a"].hasOwnProperty(v)&&(d._czmBuiltinsAndUniforms[v]=a["a"][v]);for(const v in s["a"])if(s["a"].hasOwnProperty(v)){const e=s["a"][v];"function"===typeof e.getDeclaration&&(d._czmBuiltinsAndUniforms[v]=e.getDeclaration(v))}function p(e,t){const i=e.defines,n=i.length;for(let r=0;r<n;++r)if(i[r]===t)return!0;return!1}function m(e,t){const i=e.sources,n=i.length;for(let r=0;r<n;++r)if(-1!==i[r].indexOf(t))return!0;return!1}function g(e,t){const i=t.length;for(let n=0;n<i;++n){const i=t[n];if(m(e,i))return i}}d.createPickVertexShaderSource=function(e){const t=d.replaceMain(e,"czm_old_main"),i="attribute vec4 pickColor; \nvarying vec4 czm_pickColor; \nvoid main() \n{ \n    czm_old_main(); \n    czm_pickColor = pickColor; \n}";return`${t}\n${i}`},d.createPickFragmentShaderSource=function(e,t){const i=d.replaceMain(e,"czm_old_main"),n=t+" vec4 czm_pickColor; \nvoid main() \n{ \n    czm_old_main(); \n    if (gl_FragColor.a == 0.0) { \n       discard; \n    } \n    gl_FragColor = czm_pickColor; \n}";return`${i}\n${n}`};const b=["v_normalEC","v_normal"];d.findNormalVarying=function(e){return m(e,"#ifdef HAS_NORMALS")?p(e,"HAS_NORMALS")?"v_normalEC":void 0:g(e,b)};const y=["v_positionEC"];d.findPositionVarying=function(e){return g(e,y)},t["a"]=d},"61ec":function(e,t,i){"use strict";var n=i("2f63"),r=i("7d62");function o(){this._textures={},this._numberOfTextures=0,this._texturesToRelease={}}Object.defineProperties(o.prototype,{numberOfTextures:{get:function(){return this._numberOfTextures}}}),o.prototype.getTexture=function(e){const t=this._textures[e];if(Object(n["a"])(t))return delete this._texturesToRelease[e],++t.count,t.texture},o.prototype.addTexture=function(e,t){const i={texture:t,count:1};t.finalDestroy=t.destroy;const n=this;t.destroy=function(){0===--i.count&&(n._texturesToRelease[e]=i)},this._textures[e]=i,++this._numberOfTextures},o.prototype.destroyReleasedTextures=function(){const e=this._texturesToRelease;for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];delete this._textures[t],i.texture.finalDestroy(),--this._numberOfTextures}this._texturesToRelease={}},o.prototype.isDestroyed=function(){return!1},o.prototype.destroy=function(){const e=this._textures;for(const t in e)e.hasOwnProperty(t)&&e[t].texture.finalDestroy();return Object(r["a"])(this)},t["a"]=o},"6c84":function(e,t,i){"use strict";var n=i("535a"),r=i("2f63"),o=i("3022"),a=i("03f1"),s=i("23b6");function c(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=Object(n["a"])(e.wrapS,s["a"].CLAMP_TO_EDGE),i=Object(n["a"])(e.wrapT,s["a"].CLAMP_TO_EDGE),c=Object(n["a"])(e.minificationFilter,a["a"].LINEAR),u=Object(n["a"])(e.magnificationFilter,o["a"].LINEAR),l=Object(r["a"])(e.maximumAnisotropy)?e.maximumAnisotropy:1;this._wrapS=t,this._wrapT=i,this._minificationFilter=c,this._magnificationFilter=u,this._maximumAnisotropy=l}Object.defineProperties(c.prototype,{wrapS:{get:function(){return this._wrapS}},wrapT:{get:function(){return this._wrapT}},minificationFilter:{get:function(){return this._minificationFilter}},magnificationFilter:{get:function(){return this._magnificationFilter}},maximumAnisotropy:{get:function(){return this._maximumAnisotropy}}}),c.equals=function(e,t){return e===t||Object(r["a"])(e)&&Object(r["a"])(t)&&e._wrapS===t._wrapS&&e._wrapT===t._wrapT&&e._minificationFilter===t._minificationFilter&&e._magnificationFilter===t._magnificationFilter&&e._maximumAnisotropy===t._maximumAnisotropy},c.NEAREST=Object.freeze(new c({wrapS:s["a"].CLAMP_TO_EDGE,wrapT:s["a"].CLAMP_TO_EDGE,minificationFilter:a["a"].NEAREST,magnificationFilter:o["a"].NEAREST})),t["a"]=c},"6dc0":function(e,t,i){"use strict";var n=i("77af"),r=i("bd8d"),o=i("535a"),a=i("2f63"),s=i("daa2"),c=i("b48e");function u(e){const t=Object(o["a"])(e,o["a"].EMPTY_OBJECT),i=Object(o["a"])(t.cull,o["a"].EMPTY_OBJECT),u=Object(o["a"])(t.polygonOffset,o["a"].EMPTY_OBJECT),l=Object(o["a"])(t.scissorTest,o["a"].EMPTY_OBJECT),h=Object(o["a"])(l.rectangle,o["a"].EMPTY_OBJECT),f=Object(o["a"])(t.depthRange,o["a"].EMPTY_OBJECT),_=Object(o["a"])(t.depthTest,o["a"].EMPTY_OBJECT),d=Object(o["a"])(t.colorMask,o["a"].EMPTY_OBJECT),p=Object(o["a"])(t.blending,o["a"].EMPTY_OBJECT),m=Object(o["a"])(p.color,o["a"].EMPTY_OBJECT),g=Object(o["a"])(t.stencilTest,o["a"].EMPTY_OBJECT),b=Object(o["a"])(g.frontOperation,o["a"].EMPTY_OBJECT),y=Object(o["a"])(g.backOperation,o["a"].EMPTY_OBJECT),v=Object(o["a"])(t.sampleCoverage,o["a"].EMPTY_OBJECT),O=t.viewport;this.frontFace=Object(o["a"])(t.frontFace,c["a"].COUNTER_CLOCKWISE),this.cull={enabled:Object(o["a"])(i.enabled,!1),face:Object(o["a"])(i.face,s["a"].BACK)},this.lineWidth=Object(o["a"])(t.lineWidth,1),this.polygonOffset={enabled:Object(o["a"])(u.enabled,!1),factor:Object(o["a"])(u.factor,0),units:Object(o["a"])(u.units,0)},this.scissorTest={enabled:Object(o["a"])(l.enabled,!1),rectangle:n["a"].clone(h)},this.depthRange={near:Object(o["a"])(f.near,0),far:Object(o["a"])(f.far,1)},this.depthTest={enabled:Object(o["a"])(_.enabled,!1),func:Object(o["a"])(_.func,s["a"].LESS)},this.colorMask={red:Object(o["a"])(d.red,!0),green:Object(o["a"])(d.green,!0),blue:Object(o["a"])(d.blue,!0),alpha:Object(o["a"])(d.alpha,!0)},this.depthMask=Object(o["a"])(t.depthMask,!0),this.stencilMask=Object(o["a"])(t.stencilMask,-1),this.blending={enabled:Object(o["a"])(p.enabled,!1),color:new r["a"](Object(o["a"])(m.red,0),Object(o["a"])(m.green,0),Object(o["a"])(m.blue,0),Object(o["a"])(m.alpha,0)),equationRgb:Object(o["a"])(p.equationRgb,s["a"].FUNC_ADD),equationAlpha:Object(o["a"])(p.equationAlpha,s["a"].FUNC_ADD),functionSourceRgb:Object(o["a"])(p.functionSourceRgb,s["a"].ONE),functionSourceAlpha:Object(o["a"])(p.functionSourceAlpha,s["a"].ONE),functionDestinationRgb:Object(o["a"])(p.functionDestinationRgb,s["a"].ZERO),functionDestinationAlpha:Object(o["a"])(p.functionDestinationAlpha,s["a"].ZERO)},this.stencilTest={enabled:Object(o["a"])(g.enabled,!1),frontFunction:Object(o["a"])(g.frontFunction,s["a"].ALWAYS),backFunction:Object(o["a"])(g.backFunction,s["a"].ALWAYS),reference:Object(o["a"])(g.reference,0),mask:Object(o["a"])(g.mask,-1),frontOperation:{fail:Object(o["a"])(b.fail,s["a"].KEEP),zFail:Object(o["a"])(b.zFail,s["a"].KEEP),zPass:Object(o["a"])(b.zPass,s["a"].KEEP)},backOperation:{fail:Object(o["a"])(y.fail,s["a"].KEEP),zFail:Object(o["a"])(y.zFail,s["a"].KEEP),zPass:Object(o["a"])(y.zPass,s["a"].KEEP)}},this.sampleCoverage={enabled:Object(o["a"])(v.enabled,!1),value:Object(o["a"])(v.value,1),invert:Object(o["a"])(v.invert,!1)},this.viewport=Object(a["a"])(O)?new n["a"](O.x,O.y,O.width,O.height):void 0,this.id=0,this._applyFunctions=[]}let l=0,h={};function f(e,t,i){i?e.enable(t):e.disable(t)}function _(e,t){e.frontFace(t.frontFace)}function d(e,t){const i=t.cull,n=i.enabled;f(e,e.CULL_FACE,n),n&&e.cullFace(i.face)}function p(e,t){e.lineWidth(t.lineWidth)}function m(e,t){const i=t.polygonOffset,n=i.enabled;f(e,e.POLYGON_OFFSET_FILL,n),n&&e.polygonOffset(i.factor,i.units)}function g(e,t,i){const n=t.scissorTest,r=Object(a["a"])(i.scissorTest)?i.scissorTest.enabled:n.enabled;if(f(e,e.SCISSOR_TEST,r),r){const t=Object(a["a"])(i.scissorTest)?i.scissorTest.rectangle:n.rectangle;e.scissor(t.x,t.y,t.width,t.height)}}function b(e,t){const i=t.depthRange;e.depthRange(i.near,i.far)}function y(e,t){const i=t.depthTest,n=i.enabled;f(e,e.DEPTH_TEST,n),n&&e.depthFunc(i.func)}function v(e,t){const i=t.colorMask;e.colorMask(i.red,i.green,i.blue,i.alpha)}function O(e,t){e.depthMask(t.depthMask)}function T(e,t){e.stencilMask(t.stencilMask)}function E(e,t){e.blendColor(t.red,t.green,t.blue,t.alpha)}function D(e,t,i){const n=t.blending,r=Object(a["a"])(i.blendingEnabled)?i.blendingEnabled:n.enabled;f(e,e.BLEND,r),r&&(E(e,n.color),e.blendEquationSeparate(n.equationRgb,n.equationAlpha),e.blendFuncSeparate(n.functionSourceRgb,n.functionDestinationRgb,n.functionSourceAlpha,n.functionDestinationAlpha))}function S(e,t){const i=t.stencilTest,n=i.enabled;if(f(e,e.STENCIL_TEST,n),n){const t=i.frontFunction,n=i.backFunction,r=i.reference,o=i.mask;e.stencilFunc(t,r,o),e.stencilFuncSeparate(e.BACK,n,r,o),e.stencilFuncSeparate(e.FRONT,t,r,o);const a=i.frontOperation,s=a.fail,c=a.zFail,u=a.zPass;e.stencilOpSeparate(e.FRONT,s,c,u);const l=i.backOperation,h=l.fail,f=l.zFail,_=l.zPass;e.stencilOpSeparate(e.BACK,h,f,_)}}function x(e,t){const i=t.sampleCoverage,n=i.enabled;f(e,e.SAMPLE_COVERAGE,n),n&&e.sampleCoverage(i.value,i.invert)}u.fromCache=function(e){const t=JSON.stringify(e);let i=h[t];if(Object(a["a"])(i))return++i.referenceCount,i.state;let n=new u(e);const r=JSON.stringify(n);return i=h[r],Object(a["a"])(i)||(n.id=l++,i={referenceCount:0,state:n},h[r]=i),++i.referenceCount,h[t]={referenceCount:1,state:i.state},i.state},u.removeFromCache=function(e){const t=new u(e),i=JSON.stringify(t),n=h[i],r=JSON.stringify(e),o=h[r];Object(a["a"])(o)&&(--o.referenceCount,0===o.referenceCount&&(delete h[r],Object(a["a"])(n)&&--n.referenceCount)),Object(a["a"])(n)&&0===n.referenceCount&&delete h[i]},u.getCache=function(){return h},u.clearCache=function(){h={}};const P=new n["a"];function w(e,t,i){let n=Object(o["a"])(t.viewport,i.viewport);Object(a["a"])(n)||(n=P,n.width=i.context.drawingBufferWidth,n.height=i.context.drawingBufferHeight),i.context.uniformState.viewport=n,e.viewport(n.x,n.y,n.width,n.height)}function A(e,t){const i=[];return e.frontFace!==t.frontFace&&i.push(_),e.cull.enabled===t.cull.enabled&&e.cull.face===t.cull.face||i.push(d),e.lineWidth!==t.lineWidth&&i.push(p),e.polygonOffset.enabled===t.polygonOffset.enabled&&e.polygonOffset.factor===t.polygonOffset.factor&&e.polygonOffset.units===t.polygonOffset.units||i.push(m),e.depthRange.near===t.depthRange.near&&e.depthRange.far===t.depthRange.far||i.push(b),e.depthTest.enabled===t.depthTest.enabled&&e.depthTest.func===t.depthTest.func||i.push(y),e.colorMask.red===t.colorMask.red&&e.colorMask.green===t.colorMask.green&&e.colorMask.blue===t.colorMask.blue&&e.colorMask.alpha===t.colorMask.alpha||i.push(v),e.depthMask!==t.depthMask&&i.push(O),e.stencilMask!==t.stencilMask&&i.push(T),e.stencilTest.enabled===t.stencilTest.enabled&&e.stencilTest.frontFunction===t.stencilTest.frontFunction&&e.stencilTest.backFunction===t.stencilTest.backFunction&&e.stencilTest.reference===t.stencilTest.reference&&e.stencilTest.mask===t.stencilTest.mask&&e.stencilTest.frontOperation.fail===t.stencilTest.frontOperation.fail&&e.stencilTest.frontOperation.zFail===t.stencilTest.frontOperation.zFail&&e.stencilTest.backOperation.fail===t.stencilTest.backOperation.fail&&e.stencilTest.backOperation.zFail===t.stencilTest.backOperation.zFail&&e.stencilTest.backOperation.zPass===t.stencilTest.backOperation.zPass||i.push(S),e.sampleCoverage.enabled===t.sampleCoverage.enabled&&e.sampleCoverage.value===t.sampleCoverage.value&&e.sampleCoverage.invert===t.sampleCoverage.invert||i.push(x),i}u.apply=function(e,t,i){_(e,t),d(e,t),p(e,t),m(e,t),b(e,t),y(e,t),v(e,t),O(e,t),T(e,t),S(e,t),x(e,t),g(e,t,i),D(e,t,i),w(e,t,i)},u.partialApply=function(e,t,i,n,r,o){if(t!==i){let n=i._applyFunctions[t.id];Object(a["a"])(n)||(n=A(t,i),i._applyFunctions[t.id]=n);const r=n.length;for(let t=0;t<r;++t)n[t](e,i)}const s=Object(a["a"])(n.scissorTest)?n.scissorTest:t.scissorTest,c=Object(a["a"])(r.scissorTest)?r.scissorTest:i.scissorTest;(s!==c||o)&&g(e,i,r);const u=Object(a["a"])(n.blendingEnabled)?n.blendingEnabled:t.blending.enabled,l=Object(a["a"])(r.blendingEnabled)?r.blendingEnabled:i.blending.enabled;(u!==l||l&&t.blending!==i.blending)&&D(e,i,r),t===i&&n===r&&n.context===r.context||w(e,i,r)},u.getState=function(e){return{frontFace:e.frontFace,cull:{enabled:e.cull.enabled,face:e.cull.face},lineWidth:e.lineWidth,polygonOffset:{enabled:e.polygonOffset.enabled,factor:e.polygonOffset.factor,units:e.polygonOffset.units},scissorTest:{enabled:e.scissorTest.enabled,rectangle:n["a"].clone(e.scissorTest.rectangle)},depthRange:{near:e.depthRange.near,far:e.depthRange.far},depthTest:{enabled:e.depthTest.enabled,func:e.depthTest.func},colorMask:{red:e.colorMask.red,green:e.colorMask.green,blue:e.colorMask.blue,alpha:e.colorMask.alpha},depthMask:e.depthMask,stencilMask:e.stencilMask,blending:{enabled:e.blending.enabled,color:r["a"].clone(e.blending.color),equationRgb:e.blending.equationRgb,equationAlpha:e.blending.equationAlpha,functionSourceRgb:e.blending.functionSourceRgb,functionSourceAlpha:e.blending.functionSourceAlpha,functionDestinationRgb:e.blending.functionDestinationRgb,functionDestinationAlpha:e.blending.functionDestinationAlpha},stencilTest:{enabled:e.stencilTest.enabled,frontFunction:e.stencilTest.frontFunction,backFunction:e.stencilTest.backFunction,reference:e.stencilTest.reference,mask:e.stencilTest.mask,frontOperation:{fail:e.stencilTest.frontOperation.fail,zFail:e.stencilTest.frontOperation.zFail,zPass:e.stencilTest.frontOperation.zPass},backOperation:{fail:e.stencilTest.backOperation.fail,zFail:e.stencilTest.backOperation.zFail,zPass:e.stencilTest.backOperation.zPass}},sampleCoverage:{enabled:e.sampleCoverage.enabled,value:e.sampleCoverage.value,invert:e.sampleCoverage.invert},viewport:Object(a["a"])(e.viewport)?n["a"].clone(e.viewport):void 0}},t["a"]=u},"6ef5":function(e,t,i){"use strict";var n=i("daa2");const r={UNSIGNED_BYTE:n["a"].UNSIGNED_BYTE,UNSIGNED_SHORT:n["a"].UNSIGNED_SHORT,UNSIGNED_INT:n["a"].UNSIGNED_INT,FLOAT:n["a"].FLOAT,HALF_FLOAT:n["a"].HALF_FLOAT_OES,UNSIGNED_INT_24_8:n["a"].UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:n["a"].UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:n["a"].UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:n["a"].UNSIGNED_SHORT_5_6_5,toWebGLConstant:function(e,t){switch(e){case r.UNSIGNED_BYTE:return n["a"].UNSIGNED_BYTE;case r.UNSIGNED_SHORT:return n["a"].UNSIGNED_SHORT;case r.UNSIGNED_INT:return n["a"].UNSIGNED_INT;case r.FLOAT:return n["a"].FLOAT;case r.HALF_FLOAT:return t.webgl2?n["a"].HALF_FLOAT:n["a"].HALF_FLOAT_OES;case r.UNSIGNED_INT_24_8:return n["a"].UNSIGNED_INT_24_8;case r.UNSIGNED_SHORT_4_4_4_4:return n["a"].UNSIGNED_SHORT_4_4_4_4;case r.UNSIGNED_SHORT_5_5_5_1:return n["a"].UNSIGNED_SHORT_5_5_5_1;case r.UNSIGNED_SHORT_5_6_5:return r.UNSIGNED_SHORT_5_6_5}},isPacked:function(e){return e===r.UNSIGNED_INT_24_8||e===r.UNSIGNED_SHORT_4_4_4_4||e===r.UNSIGNED_SHORT_5_5_5_1||e===r.UNSIGNED_SHORT_5_6_5},sizeInBytes:function(e){switch(e){case r.UNSIGNED_BYTE:return 1;case r.UNSIGNED_SHORT:case r.UNSIGNED_SHORT_4_4_4_4:case r.UNSIGNED_SHORT_5_5_5_1:case r.UNSIGNED_SHORT_5_6_5:case r.HALF_FLOAT:return 2;case r.UNSIGNED_INT:case r.FLOAT:case r.UNSIGNED_INT_24_8:return 4}},validate:function(e){return e===r.UNSIGNED_BYTE||e===r.UNSIGNED_SHORT||e===r.UNSIGNED_INT||e===r.FLOAT||e===r.HALF_FLOAT||e===r.UNSIGNED_INT_24_8||e===r.UNSIGNED_SHORT_4_4_4_4||e===r.UNSIGNED_SHORT_5_5_5_1||e===r.UNSIGNED_SHORT_5_6_5}};t["a"]=Object.freeze(r)},"7c5e":function(e,t,i){"use strict";var n=i("abab"),r=i("535a"),o=i("2f63"),a=i("7d62"),s=i("d2c7"),c=i("0123"),u=i("93da"),l=i("283e"),h=i("f20a"),f=i("8b68"),_=i("b997");function d(e,t,i,a){const s=Object(o["a"])(t.vertexBuffer),c=Object(o["a"])(t.value),u=t.value?t.value.length:t.componentsPerAttribute,l={index:Object(r["a"])(t.index,i),enabled:Object(r["a"])(t.enabled,!0),vertexBuffer:t.vertexBuffer,value:c?t.value.slice(0):void 0,componentsPerAttribute:u,componentDatatype:Object(r["a"])(t.componentDatatype,n["a"].FLOAT),normalize:Object(r["a"])(t.normalize,!1),offsetInBytes:Object(r["a"])(t.offsetInBytes,0),strideInBytes:Object(r["a"])(t.strideInBytes,0),instanceDivisor:Object(r["a"])(t.instanceDivisor,0)};if(s)l.vertexAttrib=function(e){const t=this.index;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer._getBuffer()),e.vertexAttribPointer(t,this.componentsPerAttribute,this.componentDatatype,this.normalize,this.strideInBytes,this.offsetInBytes),e.enableVertexAttribArray(t),this.instanceDivisor>0&&(a.glVertexAttribDivisor(t,this.instanceDivisor),a._vertexAttribDivisors[t]=this.instanceDivisor,a._previousDrawInstanced=!0)},l.disableVertexAttribArray=function(e){e.disableVertexAttribArray(this.index),this.instanceDivisor>0&&a.glVertexAttribDivisor(i,0)};else{switch(l.componentsPerAttribute){case 1:l.vertexAttrib=function(e){e.vertexAttrib1fv(this.index,this.value)};break;case 2:l.vertexAttrib=function(e){e.vertexAttrib2fv(this.index,this.value)};break;case 3:l.vertexAttrib=function(e){e.vertexAttrib3fv(this.index,this.value)};break;case 4:l.vertexAttrib=function(e){e.vertexAttrib4fv(this.index,this.value)};break}l.disableVertexAttribArray=function(e){}}e.push(l)}function p(e,t,i){for(let n=0;n<t.length;++n){const i=t[n];i.enabled&&i.vertexAttrib(e)}Object(o["a"])(i)&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i._getBuffer())}function m(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.context,i=t._gl,a=e.attributes,s=e.indexBuffer;let c;const u=[];let l,h=1,f=!1,_=!1,m=a.length;for(c=0;c<m;++c)d(u,a[c],c,t);for(m=u.length,c=0;c<m;++c){const e=u[c];if(Object(o["a"])(e.vertexBuffer)&&0===e.instanceDivisor){const t=e.strideInBytes||e.componentsPerAttribute*n["a"].getSizeInBytes(e.componentDatatype);h=e.vertexBuffer.sizeInBytes/t;break}}for(c=0;c<m;++c)u[c].instanceDivisor>0&&(f=!0),Object(o["a"])(u[c].value)&&(_=!0);t.vertexArrayObject&&(l=t.glCreateVertexArray(),t.glBindVertexArray(l),p(i,u,s),t.glBindVertexArray(null)),this._numberOfVertices=h,this._hasInstancedAttributes=f,this._hasConstantAttributes=_,this._context=t,this._gl=i,this._vao=l,this._attributes=u,this._indexBuffer=s}function g(e){return e.values.length/e.componentsPerAttribute}function b(e){return n["a"].getSizeInBytes(e.componentDatatype)*e.componentsPerAttribute}function y(e){let t,i,r;const a=[];for(i in e)e.hasOwnProperty(i)&&Object(o["a"])(e[i])&&Object(o["a"])(e[i].values)&&(a.push(i),e[i].componentDatatype===n["a"].DOUBLE&&(e[i].componentDatatype=n["a"].FLOAT,e[i].values=n["a"].createTypedArray(n["a"].FLOAT,e[i].values)));let s;const c=a.length;if(c>0)for(s=g(e[a[0]]),t=1;t<c;++t){const i=g(e[a[t]]);if(i!==s)throw new l["a"](`Each attribute list must have the same number of vertices.  Attribute ${a[t]} has a different number of vertices (${i.toString()}) than attribute ${a[0]} (${s.toString()}).`)}a.sort((function(t,i){return n["a"].getSizeInBytes(e[i].componentDatatype)-n["a"].getSizeInBytes(e[t].componentDatatype)}));let u=0;const h={};for(t=0;t<c;++t)i=a[t],r=e[i],h[i]=u,u+=b(r);if(u>0){const o=n["a"].getSizeInBytes(e[a[0]].componentDatatype),l=u%o;0!==l&&(u+=o-l);const f=s*u,_=new ArrayBuffer(f),d={};for(t=0;t<c;++t){i=a[t];const r=n["a"].getSizeInBytes(e[i].componentDatatype);d[i]={pointer:n["a"].createTypedArray(e[i].componentDatatype,_),index:h[i]/r,strideInComponentType:u/r}}for(t=0;t<s;++t)for(let n=0;n<c;++n){i=a[n],r=e[i];const o=r.values,s=d[i],c=s.pointer,u=r.componentsPerAttribute;for(let e=0;e<u;++e)c[s.index+e]=o[t*u+e];s.index+=s.strideInComponentType}return{buffer:_,offsetsInBytes:h,vertexSizeInBytes:u}}}function v(e){const t=e._context,i=e._hasInstancedAttributes;if(!i&&!t._previousDrawInstanced)return;t._previousDrawInstanced=i;const n=t._vertexAttribDivisors,r=e._attributes,o=_["a"].maximumVertexAttributes;let a;if(i){const e=r.length;for(a=0;a<e;++a){const e=r[a];if(e.enabled){const i=e.instanceDivisor,r=e.index;i!==n[r]&&(t.glVertexAttribDivisor(r,i),n[r]=i)}}}else for(a=0;a<o;++a)n[a]>0&&(t.glVertexAttribDivisor(a,0),n[a]=0)}function O(e,t){const i=e._attributes,n=i.length;for(let r=0;r<n;++r){const e=i[r];e.enabled&&Object(o["a"])(e.value)&&e.vertexAttrib(t)}}m.fromGeometry=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.context,i=Object(r["a"])(e.geometry,r["a"].EMPTY_OBJECT),a=Object(r["a"])(e.bufferUsage,f["a"].DYNAMIC_DRAW),l=Object(r["a"])(e.attributeLocations,r["a"].EMPTY_OBJECT),_=Object(r["a"])(e.interleave,!1),d=e.vertexArrayAttributes;let p,g,b;const v=Object(o["a"])(d)?d:[],O=i.attributes;if(_){const e=y(O);if(Object(o["a"])(e)){b=h["a"].createVertexBuffer({context:t,typedArray:e.buffer,usage:a});const i=e.offsetsInBytes,n=e.vertexSizeInBytes;for(p in O)O.hasOwnProperty(p)&&Object(o["a"])(O[p])&&(g=O[p],Object(o["a"])(g.values)?v.push({index:l[p],vertexBuffer:b,componentDatatype:g.componentDatatype,componentsPerAttribute:g.componentsPerAttribute,normalize:g.normalize,offsetInBytes:i[p],strideInBytes:n}):v.push({index:l[p],value:g.value,componentDatatype:g.componentDatatype,normalize:g.normalize}))}}else for(p in O)if(O.hasOwnProperty(p)&&Object(o["a"])(O[p])){g=O[p];let e=g.componentDatatype;e===n["a"].DOUBLE&&(e=n["a"].FLOAT),b=void 0,Object(o["a"])(g.values)&&(b=h["a"].createVertexBuffer({context:t,typedArray:n["a"].createTypedArray(e,g.values),usage:a})),v.push({index:l[p],vertexBuffer:b,value:g.value,componentDatatype:e,componentsPerAttribute:g.componentsPerAttribute,normalize:g.normalize})}let T;const E=i.indices;return Object(o["a"])(E)&&(T=s["a"].computeNumberOfVertices(i)>=u["a"].SIXTY_FOUR_KILOBYTES&&t.elementIndexUint?h["a"].createIndexBuffer({context:t,typedArray:new Uint32Array(E),usage:a,indexDatatype:c["a"].UNSIGNED_INT}):h["a"].createIndexBuffer({context:t,typedArray:new Uint16Array(E),usage:a,indexDatatype:c["a"].UNSIGNED_SHORT})),new m({context:t,attributes:v,indexBuffer:T})},Object.defineProperties(m.prototype,{numberOfAttributes:{get:function(){return this._attributes.length}},numberOfVertices:{get:function(){return this._numberOfVertices}},indexBuffer:{get:function(){return this._indexBuffer}}}),m.prototype.getAttribute=function(e){return this._attributes[e]},m.prototype._bind=function(){Object(o["a"])(this._vao)?(this._context.glBindVertexArray(this._vao),this._context.instancedArrays&&v(this),this._hasConstantAttributes&&O(this,this._gl)):p(this._gl,this._attributes,this._indexBuffer)},m.prototype._unBind=function(){if(Object(o["a"])(this._vao))this._context.glBindVertexArray(null);else{const e=this._attributes,t=this._gl;for(let i=0;i<e.length;++i){const n=e[i];n.enabled&&n.disableVertexAttribArray(t)}this._indexBuffer&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}},m.prototype.isDestroyed=function(){return!1},m.prototype.destroy=function(){const e=this._attributes;for(let i=0;i<e.length;++i){const t=e[i].vertexBuffer;Object(o["a"])(t)&&!t.isDestroyed()&&t.vertexArrayDestroyable&&t.destroy()}const t=this._indexBuffer;return Object(o["a"])(t)&&!t.isDestroyed()&&t.vertexArrayDestroyable&&t.destroy(),Object(o["a"])(this._vao)&&this._context.glDeleteVertexArray(this._vao),Object(a["a"])(this)},t["a"]=m},"8a65":function(e,t,i){"use strict";var n=i("535a"),r=i("2f63"),o=i("7d62"),a=i("b997"),s=i("3550");function c(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.context,i=t._gl,o=(a["a"].maximumRenderbufferSize,Object(n["a"])(e.format,s["a"].RGBA4)),c=Object(r["a"])(e.width)?e.width:i.drawingBufferWidth,u=Object(r["a"])(e.height)?e.height:i.drawingBufferHeight,l=Object(n["a"])(e.numSamples,1);this._gl=i,this._format=o,this._width=c,this._height=u,this._renderbuffer=this._gl.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this._renderbuffer),l>1?i.renderbufferStorageMultisample(i.RENDERBUFFER,l,o,c,u):i.renderbufferStorage(i.RENDERBUFFER,o,c,u),i.bindRenderbuffer(i.RENDERBUFFER,null)}Object.defineProperties(c.prototype,{format:{get:function(){return this._format}},width:{get:function(){return this._width}},height:{get:function(){return this._height}}}),c.prototype._getRenderbuffer=function(){return this._renderbuffer},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){return this._gl.deleteRenderbuffer(this._renderbuffer),Object(o["a"])(this)},t["a"]=c},"9d80":function(e,t,i){"use strict";var n=i("abab"),r=i("535a"),o=i("2f63"),a=i("7d62"),s=i("93da"),c=i("f20a"),u=i("8b68"),l=i("7c5e");function h(e,t,i,a){const s=h._verifyAttributes(t);i=Object(r["a"])(i,0);const c=[],u={};let l,f;const _=s.length;for(let n=0;n<_;++n){const e=s[n];e.vertexBuffer?c.push(e):(f=e.usage,l=u[f],Object(o["a"])(l)||(l=u[f]=[]),l.push(e))}function d(e,t){return n["a"].getSizeInBytes(t.componentDatatype)-n["a"].getSizeInBytes(e.componentDatatype)}for(f in this._allBuffers=[],u)if(u.hasOwnProperty(f)){l=u[f],l.sort(d);const e=h._vertexSizeInBytes(l),t=l[0].usage,i={vertexSizeInBytes:e,vertexBuffer:void 0,usage:t,needsCommit:!1,arrayBuffer:void 0,arrayViews:h._createArrayViews(l,e)};this._allBuffers.push(i)}this._size=0,this._instanced=Object(r["a"])(a,!1),this._precreated=c,this._context=e,this.writers=void 0,this.va=void 0,this.resize(i)}h._verifyAttributes=function(e){const t=[];for(let o=0;o<e.length;++o){const i=e[o],a={index:Object(r["a"])(i.index,o),enabled:Object(r["a"])(i.enabled,!0),componentsPerAttribute:i.componentsPerAttribute,componentDatatype:Object(r["a"])(i.componentDatatype,n["a"].FLOAT),normalize:Object(r["a"])(i.normalize,!1),vertexBuffer:i.vertexBuffer,usage:Object(r["a"])(i.usage,u["a"].STATIC_DRAW)};t.push(a)}const i=new Array(t.length);for(let n=0;n<t.length;++n){const e=t[n],r=e.index;i[r]=!0}return t},h._vertexSizeInBytes=function(e){let t=0;const i=e.length;for(let s=0;s<i;++s){const i=e[s];t+=i.componentsPerAttribute*n["a"].getSizeInBytes(i.componentDatatype)}const r=i>0?n["a"].getSizeInBytes(e[0].componentDatatype):0,o=r>0?t%r:0,a=0===o?0:r-o;return t+=a,t},h._createArrayViews=function(e,t){const i=[];let r=0;const o=e.length;for(let a=0;a<o;++a){const o=e[a],s=o.componentDatatype;i.push({index:o.index,enabled:o.enabled,componentsPerAttribute:o.componentsPerAttribute,componentDatatype:s,normalize:o.normalize,offsetInBytes:r,vertexSizeInComponentType:t/n["a"].getSizeInBytes(s),view:void 0}),r+=o.componentsPerAttribute*n["a"].getSizeInBytes(s)}return i},h.prototype.resize=function(e){this._size=e;const t=this._allBuffers;this.writers=[];for(let i=0,n=t.length;i<n;++i){const e=t[i];h._resize(e,this._size),h._appendWriters(this.writers,e)}p(this)},h._resize=function(e,t){if(e.vertexSizeInBytes>0){const i=new ArrayBuffer(t*e.vertexSizeInBytes);if(Object(o["a"])(e.arrayBuffer)){const t=new Uint8Array(i),n=new Uint8Array(e.arrayBuffer),r=n.length;for(let e=0;e<r;++e)t[e]=n[e]}const r=e.arrayViews,a=r.length;for(let e=0;e<a;++e){const t=r[e];t.view=n["a"].createArrayBufferView(t.componentDatatype,i,t.offsetInBytes)}e.arrayBuffer=i}};const f=[function(e,t,i){return function(n,r){t[n*i]=r,e.needsCommit=!0}},function(e,t,i){return function(n,r,o){const a=n*i;t[a]=r,t[a+1]=o,e.needsCommit=!0}},function(e,t,i){return function(n,r,o,a){const s=n*i;t[s]=r,t[s+1]=o,t[s+2]=a,e.needsCommit=!0}},function(e,t,i){return function(n,r,o,a,s){const c=n*i;t[c]=r,t[c+1]=o,t[c+2]=a,t[c+3]=s,e.needsCommit=!0}}];function _(e,t){if(t.needsCommit&&t.vertexSizeInBytes>0){t.needsCommit=!1;const i=t.vertexBuffer,n=e._size*t.vertexSizeInBytes,r=Object(o["a"])(i);if(!r||i.sizeInBytes<n)return r&&i.destroy(),t.vertexBuffer=c["a"].createVertexBuffer({context:e._context,typedArray:t.arrayBuffer,usage:t.usage}),t.vertexBuffer.vertexArrayDestroyable=!1,!0;t.vertexBuffer.copyFromArrayView(t.arrayBuffer)}return!1}function d(e,t,i){if(e.needsCommit&&e.vertexSizeInBytes>0){const n=e.vertexSizeInBytes*t,r=e.vertexSizeInBytes*i;e.vertexBuffer.copyFromArrayView(new Uint8Array(e.arrayBuffer,n,r),n)}}function p(e){const t=e.va;if(!Object(o["a"])(t))return;const i=t.length;for(let n=0;n<i;++n)t[n].va.destroy();e.va=void 0}h._appendWriters=function(e,t){const i=t.arrayViews,n=i.length;for(let r=0;r<n;++r){const n=i[r];e[n.index]=f[n.componentsPerAttribute-1](t,n.view,n.vertexSizeInComponentType)}},h.prototype.commit=function(e){let t=!1;const i=this._allBuffers;let n,r,a;for(r=0,a=i.length;r<a;++r)n=i[r],t=_(this,n)||t;if(t||!Object(o["a"])(this.va)){p(this);const t=this.va=[],c=s["a"].SIXTY_FOUR_KILOBYTES-4,u=Object(o["a"])(e)&&!this._instanced?Math.ceil(this._size/c):1;for(let o=0;o<u;++o){let s=[];for(r=0,a=i.length;r<a;++r){n=i[r];const e=o*(n.vertexSizeInBytes*c);h._appendAttributes(s,n,e,this._instanced)}s=s.concat(this._precreated),t.push({va:new l["a"]({context:this._context,attributes:s,indexBuffer:e}),indicesCount:1.5*(o!==u-1?c:this._size%c)})}}},h._appendAttributes=function(e,t,i,n){const r=t.arrayViews,o=r.length;for(let a=0;a<o;++a){const o=r[a];e.push({index:o.index,enabled:o.enabled,componentsPerAttribute:o.componentsPerAttribute,componentDatatype:o.componentDatatype,normalize:o.normalize,vertexBuffer:t.vertexBuffer,offsetInBytes:i+o.offsetInBytes,strideInBytes:t.vertexSizeInBytes,instanceDivisor:n?1:0})}},h.prototype.subCommit=function(e,t){const i=this._allBuffers;for(let n=0,r=i.length;n<r;++n)d(i[n],e,t)},h.prototype.endSubCommits=function(){const e=this._allBuffers;for(let t=0,i=e.length;t<i;++t)e[t].needsCommit=!1},h.prototype.isDestroyed=function(){return!1},h.prototype.destroy=function(){const e=this._allBuffers;for(let t=0,i=e.length;t<i;++t){const i=e[t];i.vertexBuffer=i.vertexBuffer&&i.vertexBuffer.destroy()}return p(this),Object(a["a"])(this)},t["a"]=h},a3a3:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("dc1c"),r=i("2f63"),o=i("535a"),a=i("ef54"),s=i("e90c"),c=i("5770");function u(e){this.name=e,this.fields=[]}function l(e){this.signature=e,this.body=[]}function h(){this._positionAttributeLine=void 0,this._nextAttributeLocation=1,this._attributeLocations={},this._attributeLines=[],this._structs={},this._functions={},this._vertexShaderParts={defineLines:[],uniformLines:[],shaderLines:[],varyingLines:[],structIds:[],functionIds:[]},this._fragmentShaderParts={defineLines:[],uniformLines:[],shaderLines:[],varyingLines:[],structIds:[],functionIds:[]}}function f(e){const t=[],i=[];let n,r,o,a,s=e._vertexShaderParts.structIds;for(n=0;n<s.length;n++)r=s[n],o=e._structs[r],a=o.generateGlslLines(),t.push.apply(t,a);for(s=e._fragmentShaderParts.structIds,n=0;n<s.length;n++)r=s[n],o=e._structs[r],a=o.generateGlslLines(),i.push.apply(i,a);return{vertexLines:t,fragmentLines:i}}function _(e){switch(e){case"mat2":return 2;case"mat3":return 3;case"mat4":return 4;default:return 1}}function d(e){const t=[],i=[];let n,r,o,a,s=e._vertexShaderParts.functionIds;for(n=0;n<s.length;n++)r=s[n],o=e._functions[r],a=o.generateGlslLines(),t.push.apply(t,a);for(s=e._fragmentShaderParts.functionIds,n=0;n<s.length;n++)r=s[n],o=e._functions[r],a=o.generateGlslLines(),i.push.apply(i,a);return{vertexLines:t,fragmentLines:i}}u.prototype.addField=function(e,t){const i=`    ${e} ${t};`;this.fields.push(i)},u.prototype.generateGlslLines=function(){let e=this.fields;return 0===e.length&&(e=["    float _empty;"]),[].concat("struct "+this.name,"{",e,"};")},l.prototype.addLines=function(e){const t=e.map((function(e){return"    "+e}));Array.prototype.push.apply(this.body,t)},l.prototype.generateGlslLines=function(){return[].concat(this.signature,"{",this.body,"}")},Object.defineProperties(h.prototype,{attributeLocations:{get:function(){return this._attributeLocations}}}),h.prototype.addDefine=function(e,t,i){i=Object(o["a"])(i,a["a"].BOTH);let n=e;Object(r["a"])(t)&&(n+=" "+t.toString()),a["a"].includesVertexShader(i)&&this._vertexShaderParts.defineLines.push(n),a["a"].includesFragmentShader(i)&&this._fragmentShaderParts.defineLines.push(n)},h.prototype.addStruct=function(e,t,i){this._structs[e]=new u(t),a["a"].includesVertexShader(i)&&this._vertexShaderParts.structIds.push(e),a["a"].includesFragmentShader(i)&&this._fragmentShaderParts.structIds.push(e)},h.prototype.addStructField=function(e,t,i){this._structs[e].addField(t,i)},h.prototype.addFunction=function(e,t,i){this._functions[e]=new l(t),a["a"].includesVertexShader(i)&&this._vertexShaderParts.functionIds.push(e),a["a"].includesFragmentShader(i)&&this._fragmentShaderParts.functionIds.push(e)},h.prototype.addFunctionLines=function(e,t){this._functions[e].addLines(t)},h.prototype.addUniform=function(e,t,i){i=Object(o["a"])(i,a["a"].BOTH);const n=`uniform ${e} ${t};`;a["a"].includesVertexShader(i)&&this._vertexShaderParts.uniformLines.push(n),a["a"].includesFragmentShader(i)&&this._fragmentShaderParts.uniformLines.push(n)},h.prototype.setPositionAttribute=function(e,t){return this._positionAttributeLine=`attribute ${e} ${t};`,this._attributeLocations[t]=0,0},h.prototype.addAttribute=function(e,t){const i=`attribute ${e} ${t};`;this._attributeLines.push(i);const n=this._nextAttributeLocation;return this._attributeLocations[t]=n,this._nextAttributeLocation+=_(e),n},h.prototype.addVarying=function(e,t){const i=`varying ${e} ${t};`;this._vertexShaderParts.varyingLines.push(i),this._fragmentShaderParts.varyingLines.push(i)},h.prototype.addVertexLines=function(e){Array.prototype.push.apply(this._vertexShaderParts.shaderLines,e)},h.prototype.addFragmentLines=function(e){Array.prototype.push.apply(this._fragmentShaderParts.shaderLines,e)},h.prototype.buildShaderProgram=function(e){const t=Object(r["a"])(this._positionAttributeLine)?[this._positionAttributeLine]:[],i=f(this),n=d(this),o=t.concat(this._attributeLines,this._vertexShaderParts.uniformLines,this._vertexShaderParts.varyingLines,i.vertexLines,n.vertexLines,this._vertexShaderParts.shaderLines).join("\n"),a=new c["a"]({defines:this._vertexShaderParts.defineLines,sources:[o]}),u=this._fragmentShaderParts.uniformLines.concat(this._fragmentShaderParts.varyingLines,i.fragmentLines,n.fragmentLines,this._fragmentShaderParts.shaderLines).join("\n"),l=new c["a"]({defines:this._fragmentShaderParts.defineLines,sources:[u]});return s["a"].fromCache({context:e,vertexShaderSource:a,fragmentShaderSource:l,attributeLocations:this._attributeLocations})},h.prototype.clone=function(){return Object(n["a"])(this,!0)}},a913:function(e,t,i){"use strict";var n=i("670c"),r=i("71ce"),o=i("535a"),a=i("2f63"),s=i("7d62"),c=i("e42d"),u=i("b0e6"),l=i("6ef5"),h=i("6c84"),f=i("3022"),_=i("03f1");function d(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT);const t=e.context;let i=e.width,s=e.height;const u=e.source;Object(a["a"])(u)&&(Object(a["a"])(i)||(i=Object(o["a"])(u.videoWidth,u.width)),Object(a["a"])(s)||(s=Object(o["a"])(u.videoHeight,u.height)));const f=Object(o["a"])(e.pixelFormat,c["a"].RGBA),_=Object(o["a"])(e.pixelDatatype,l["a"].UNSIGNED_BYTE),d=c["a"].toInternalFormat(f,_,t),p=c["a"].isCompressedFormat(d),m=e.preMultiplyAlpha||f===c["a"].RGB||f===c["a"].LUMINANCE,g=Object(o["a"])(e.flipY,!0),b=Object(o["a"])(e.skipColorSpaceConversion,!1);let y=!0;const v=t._gl,O=v.TEXTURE_2D,T=v.createTexture();v.activeTexture(v.TEXTURE0),v.bindTexture(O,T);let E,D=4;if(Object(a["a"])(u)&&Object(a["a"])(u.arrayBufferView)&&!p&&(D=c["a"].alignmentInBytes(f,_,i)),v.pixelStorei(v.UNPACK_ALIGNMENT,D),b?v.pixelStorei(v.UNPACK_COLORSPACE_CONVERSION_WEBGL,v.NONE):v.pixelStorei(v.UNPACK_COLORSPACE_CONVERSION_WEBGL,v.BROWSER_DEFAULT_WEBGL),Object(a["a"])(u))if(Object(a["a"])(u.arrayBufferView)){v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1);let e,n,r,o=u.arrayBufferView;if(p){if(v.compressedTexImage2D(O,0,d,i,s,0,o),Object(a["a"])(u.mipLevels))for(n=i,r=s,e=0;e<u.mipLevels.length;++e)n=0|Math.floor(n/2),n<1&&(n=1),r=0|Math.floor(r/2),r<1&&(r=1),v.compressedTexImage2D(O,e+1,d,n,r,0,u.mipLevels[e])}else if(g&&(o=c["a"].flipY(o,f,_,i,s)),v.texImage2D(O,0,d,i,s,0,f,l["a"].toWebGLConstant(_,t),o),Object(a["a"])(u.mipLevels))for(n=i,r=s,e=0;e<u.mipLevels.length;++e)n=0|Math.floor(n/2),n<1&&(n=1),r=0|Math.floor(r/2),r<1&&(r=1),v.texImage2D(O,e+1,d,n,r,0,f,l["a"].toWebGLConstant(_,t),u.mipLevels[e])}else Object(a["a"])(u.framebuffer)?(v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1),u.framebuffer!==t.defaultFramebuffer&&u.framebuffer._bind(),v.copyTexImage2D(O,0,d,u.xOffset,u.yOffset,i,s,0),u.framebuffer!==t.defaultFramebuffer&&u.framebuffer._unBind()):(v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,g),v.texImage2D(O,0,d,f,l["a"].toWebGLConstant(_,t),u));else v.texImage2D(O,0,d,i,s,0,f,l["a"].toWebGLConstant(_,t),null),y=!1;v.bindTexture(O,null),E=p?c["a"].compressedTextureSizeInBytes(f,i,s):c["a"].textureSizeInBytes(f,_,i,s),this._id=Object(r["a"])(),this._context=t,this._textureFilterAnisotropic=t._textureFilterAnisotropic,this._textureTarget=O,this._texture=T,this._internalFormat=d,this._pixelFormat=f,this._pixelDatatype=_,this._width=i,this._height=s,this._dimensions=new n["a"](i,s),this._hasMipmap=!1,this._sizeInBytes=E,this._preMultiplyAlpha=m,this._flipY=g,this._initialized=y,this._sampler=void 0,this.sampler=Object(a["a"])(e.sampler)?e.sampler:new h["a"]}d.create=function(e){return new d(e)},d.fromFramebuffer=function(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT);const t=e.context,i=t._gl,n=Object(o["a"])(e.pixelFormat,c["a"].RGB),r=Object(o["a"])(e.framebufferXOffset,0),s=Object(o["a"])(e.framebufferYOffset,0),u=Object(o["a"])(e.width,i.drawingBufferWidth),l=Object(o["a"])(e.height,i.drawingBufferHeight),h=e.framebuffer,f=new d({context:t,width:u,height:l,pixelFormat:n,source:{framebuffer:Object(a["a"])(h)?h:t.defaultFramebuffer,xOffset:r,yOffset:s,width:u,height:l}});return f},Object.defineProperties(d.prototype,{id:{get:function(){return this._id}},sampler:{get:function(){return this._sampler},set:function(e){let t=e.minificationFilter,i=e.magnificationFilter;const n=this._context,r=this._pixelFormat,o=this._pixelDatatype,s=t===_["a"].NEAREST_MIPMAP_NEAREST||t===_["a"].NEAREST_MIPMAP_LINEAR||t===_["a"].LINEAR_MIPMAP_NEAREST||t===_["a"].LINEAR_MIPMAP_LINEAR;(o===l["a"].FLOAT&&!n.textureFloatLinear||o===l["a"].HALF_FLOAT&&!n.textureHalfFloatLinear)&&(t=s?_["a"].NEAREST_MIPMAP_NEAREST:_["a"].NEAREST,i=f["a"].NEAREST),n.webgl2&&c["a"].isDepthFormat(r)&&(t=_["a"].NEAREST,i=f["a"].NEAREST);const u=n._gl,h=this._textureTarget;u.activeTexture(u.TEXTURE0),u.bindTexture(h,this._texture),u.texParameteri(h,u.TEXTURE_MIN_FILTER,t),u.texParameteri(h,u.TEXTURE_MAG_FILTER,i),u.texParameteri(h,u.TEXTURE_WRAP_S,e.wrapS),u.texParameteri(h,u.TEXTURE_WRAP_T,e.wrapT),Object(a["a"])(this._textureFilterAnisotropic)&&u.texParameteri(h,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),u.bindTexture(h,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},dimensions:{get:function(){return this._dimensions}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(4*this._sizeInBytes/3):this._sizeInBytes}},_target:{get:function(){return this._textureTarget}}}),d.prototype.copyFrom=function(e){const t=Object(o["a"])(e.xOffset,0),i=Object(o["a"])(e.yOffset,0),n=e.source,r=this._context,s=r._gl,u=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(u,this._texture);const h=n.width,f=n.height;let _=n.arrayBufferView;const d=this._width,p=this._height,m=this._internalFormat,g=this._pixelFormat,b=this._pixelDatatype,y=this._preMultiplyAlpha,v=this._flipY,O=Object(o["a"])(e.skipColorSpaceConversion,!1);let T=4;Object(a["a"])(_)&&(T=c["a"].alignmentInBytes(g,b,h)),s.pixelStorei(s.UNPACK_ALIGNMENT,T),O?s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE):s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.BROWSER_DEFAULT_WEBGL);let E=!1;if(!this._initialized){if(0===t&&0===i&&h===d&&f===p)Object(a["a"])(_)?(s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,!1),v&&(_=c["a"].flipY(_,g,b,d,p)),s.texImage2D(u,0,m,d,p,0,g,l["a"].toWebGLConstant(b,r),_)):(s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,y),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,v),s.texImage2D(u,0,m,g,l["a"].toWebGLConstant(b,r),n)),E=!0;else{s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,!1);const e=c["a"].createTypedArray(g,b,d,p);s.texImage2D(u,0,m,d,p,0,g,l["a"].toWebGLConstant(b,r),e)}this._initialized=!0}E||(Object(a["a"])(_)?(s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,!1),v&&(_=c["a"].flipY(_,g,b,h,f)),s.texSubImage2D(u,0,t,i,h,f,g,l["a"].toWebGLConstant(b,r),_)):(s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,y),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,v),s.texSubImage2D(u,0,t,i,g,l["a"].toWebGLConstant(b,r),n))),s.bindTexture(u,null)},d.prototype.copyFromFramebuffer=function(e,t,i,n,r,a){e=Object(o["a"])(e,0),t=Object(o["a"])(t,0),i=Object(o["a"])(i,0),n=Object(o["a"])(n,0),r=Object(o["a"])(r,this._width),a=Object(o["a"])(a,this._height);const s=this._context._gl,c=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(c,this._texture),s.copyTexSubImage2D(c,0,e,t,i,n,r,a),s.bindTexture(c,null),this._initialized=!0},d.prototype.generateMipmap=function(e){e=Object(o["a"])(e,u["a"].DONT_CARE),this._hasMipmap=!0;const t=this._context._gl,i=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(i,this._texture),t.generateMipmap(i),t.bindTexture(i,null)},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),Object(s["a"])(this)},t["a"]=d},d289:function(e,t,i){"use strict";const n={ENVIRONMENT:0,COMPUTE:1,GLOBE:2,TERRAIN_CLASSIFICATION:3,CESIUM_3D_TILE:4,CESIUM_3D_TILE_CLASSIFICATION:5,CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW:6,OPAQUE:7,TRANSLUCENT:8,OVERLAY:9,NUMBER_OF_PASSES:10};t["a"]=Object.freeze(n)},e90c:function(e,t,i){"use strict";var n=i("535a"),r=i("2f63"),o=i("7d62"),a=i("283e"),s=i("e945"),c=i("b997"),u=i("5bfa"),l=i("1ca0");let h=0;function f(e){let t=e.vertexShaderText,i=e.fragmentShaderText;"undefined"!==typeof spector&&(t=t.replace(/^#line/gm,"//#line"),i=i.replace(/^#line/gm,"//#line"));const n=d(t,i);this._gl=e.gl,this._logShaderCompilation=e.logShaderCompilation,this._debugShaders=e.debugShaders,this._attributeLocations=e.attributeLocations,this._program=void 0,this._numberOfVertexAttributes=void 0,this._vertexAttributes=void 0,this._uniformsByName=void 0,this._uniforms=void 0,this._automaticUniforms=void 0,this._manualUniforms=void 0,this._duplicateUniformNames=n.duplicateUniformNames,this._cachedShader=void 0,this.maximumTextureUnitIndex=void 0,this._vertexShaderSource=e.vertexShaderSource,this._vertexShaderText=e.vertexShaderText,this._fragmentShaderSource=e.fragmentShaderSource,this._fragmentShaderText=n.fragmentShaderText,this.id=h++}function _(e){const t=[],i=e.match(/uniform.*?(?![^{]*})(?=[=\[;])/g);if(Object(r["a"])(i)){const e=i.length;for(let n=0;n<e;n++){const e=i[n].trim(),r=e.slice(e.lastIndexOf(" ")+1);t.push(r)}}return t}function d(e,t){const i={};if(!c["a"].highpFloatSupported||!c["a"].highpIntSupported){let n,r,o,a;const s=_(e),c=_(t),u=s.length,l=c.length;for(n=0;n<u;n++)for(r=0;r<l;r++)if(s[n]===c[r]){o=s[n],a="czm_mediump_"+o;const e=new RegExp(o+"\\b","g");t=t.replace(e,a),i[a]=o}}return{fragmentShaderText:t,duplicateUniformNames:i}}f.fromCache=function(e){return e=Object(n["a"])(e,n["a"].EMPTY_OBJECT),e.context.shaderCache.getShaderProgram(e)},f.replaceCache=function(e){return e=Object(n["a"])(e,n["a"].EMPTY_OBJECT),e.context.shaderCache.replaceShaderProgram(e)},Object.defineProperties(f.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},vertexAttributes:{get:function(){return O(this),this._vertexAttributes}},numberOfVertexAttributes:{get:function(){return O(this),this._numberOfVertexAttributes}},allUniforms:{get:function(){return O(this),this._uniformsByName}}});const p="[Cesium WebGL] ";function m(e,t){const i=t._vertexShaderText,n=t._fragmentShaderText,o=e.createShader(e.VERTEX_SHADER);e.shaderSource(o,i),e.compileShader(o);const s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,n),e.compileShader(s);const c=e.createProgram();e.attachShader(c,o),e.attachShader(c,s),e.deleteShader(o),e.deleteShader(s);const u=t._attributeLocations;if(Object(r["a"])(u))for(const r in u)u.hasOwnProperty(r)&&e.bindAttribLocation(c,u[r],r);let l;if(e.linkProgram(c),!e.getProgramParameter(c,e.LINK_STATUS)){const i=t._debugShaders;if(!e.getShaderParameter(s,e.COMPILE_STATUS)){if(l=e.getShaderInfoLog(s),console.error(`${p}Fragment shader compile log: ${l}`),Object(r["a"])(i)){const e=i.getTranslatedShaderSource(s);""!==e?console.error(`${p}Translated fragment shader source:\n${e}`):console.error(p+"Fragment shader translation failed.")}throw e.deleteProgram(c),new a["a"]("Fragment shader failed to compile.  Compile log: "+l)}if(!e.getShaderParameter(o,e.COMPILE_STATUS)){if(l=e.getShaderInfoLog(o),console.error(`${p}Vertex shader compile log: ${l}`),Object(r["a"])(i)){const e=i.getTranslatedShaderSource(o);""!==e?console.error(`${p}Translated vertex shader source:\n${e}`):console.error(p+"Vertex shader translation failed.")}throw e.deleteProgram(c),new a["a"]("Vertex shader failed to compile.  Compile log: "+l)}throw l=e.getProgramInfoLog(c),console.error(`${p}Shader program link log: ${l}`),Object(r["a"])(i)&&(console.error(`${p}Translated vertex shader source:\n${i.getTranslatedShaderSource(o)}`),console.error(`${p}Translated fragment shader source:\n${i.getTranslatedShaderSource(s)}`)),e.deleteProgram(c),new a["a"]("Program failed to link.  Link log: "+l)}const h=t._logShaderCompilation;return h&&(l=e.getShaderInfoLog(o),Object(r["a"])(l)&&l.length>0&&console.log(`${p}Vertex shader compile log: ${l}`)),h&&(l=e.getShaderInfoLog(s),Object(r["a"])(l)&&l.length>0&&console.log(`${p}Fragment shader compile log: ${l}`)),h&&(l=e.getProgramInfoLog(c),Object(r["a"])(l)&&l.length>0&&console.log(`${p}Shader program link log: ${l}`)),c}function g(e,t,i){const n={};for(let r=0;r<i;++r){const i=e.getActiveAttrib(t,r),o=e.getAttribLocation(t,i.name);n[i.name]={name:i.name,type:i.type,index:o}}return n}function b(e,t){const i={},n=[],o=[],a=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<a;++s){const a=e.getActiveUniform(t,s),c="[0]",h=-1!==a.name.indexOf(c,a.name.length-c.length)?a.name.slice(0,a.name.length-3):a.name;if(0!==h.indexOf("gl_"))if(a.name.indexOf("[")<0){const r=e.getUniformLocation(t,h);if(null!==r){const t=Object(u["a"])(e,a,h,r);i[h]=t,n.push(t),t._setSampler&&o.push(t)}}else{let s,c,u,f;const _=h.indexOf("[");if(_>=0){if(s=i[h.slice(0,_)],!Object(r["a"])(s))continue;c=s._locations,c.length<=1&&(u=s.value,f=e.getUniformLocation(t,h),null!==f&&(c.push(f),u.push(e.getUniform(t,f))))}else{c=[];for(let i=0;i<a.size;++i)f=e.getUniformLocation(t,`${h}[${i}]`),null!==f&&c.push(f);s=Object(l["a"])(e,a,h,c),i[h]=s,n.push(s),s._setSampler&&o.push(s)}}}return{uniformsByName:i,uniforms:n,samplerUniforms:o}}function y(e,t){const i=[],n=[];for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];let c=o;const u=e._duplicateUniformNames[c];Object(r["a"])(u)&&(a.name=u,c=u);const l=s["a"][c];Object(r["a"])(l)?i.push({uniform:a,automaticUniform:l}):n.push(a)}return{automaticUniforms:i,manualUniforms:n}}function v(e,t,i){e.useProgram(t);let n=0;const r=i.length;for(let o=0;o<r;++o)n=i[o]._setSampler(n);return e.useProgram(null),n}function O(e){Object(r["a"])(e._program)||T(e)}function T(e){const t=e._program,i=e._gl,n=m(i,e,e._debugShaders),r=i.getProgramParameter(n,i.ACTIVE_ATTRIBUTES),o=b(i,n),a=y(e,o.uniformsByName);e._program=n,e._numberOfVertexAttributes=r,e._vertexAttributes=g(i,n,r),e._uniformsByName=o.uniformsByName,e._uniforms=o.uniforms,e._automaticUniforms=a.automaticUniforms,e._manualUniforms=a.manualUniforms,e.maximumTextureUnitIndex=v(i,n,o.samplerUniforms),t&&e._gl.deleteProgram(t),"undefined"!==typeof spector&&(e._program.__SPECTOR_rebuildProgram=function(t,i,n,r){const o=e._vertexShaderText,a=e._fragmentShaderText,s=/ ! = /g;e._vertexShaderText=t.replace(s," != "),e._fragmentShaderText=i.replace(s," != ");try{T(e),n(e._program)}catch(c){e._vertexShaderText=o,e._fragmentShaderText=a;const t=/(?:Compile|Link) error: ([^]*)/,i=t.exec(c.message);r(i?i[1]:c.message)}})}f.prototype._bind=function(){O(this),this._gl.useProgram(this._program)},f.prototype._setUniforms=function(e,t,i){let n,o;if(Object(r["a"])(e)){const t=this._manualUniforms;for(n=t.length,o=0;o<n;++o){const i=t[o];i.value=e[i.name]()}}const a=this._automaticUniforms;for(n=a.length,o=0;o<n;++o){const e=a[o];e.uniform.value=e.automaticUniform.getValue(t)}const s=this._uniforms;for(n=s.length,o=0;o<n;++o)s[o].set();if(i){const e=this._gl,t=this._program;e.validateProgram(t)}},f.prototype.isDestroyed=function(){return!1},f.prototype.destroy=function(){this._cachedShader.cache.releaseShaderProgram(this)},f.prototype.finalDestroy=function(){return this._gl.deleteProgram(this._program),Object(o["a"])(this)},t["a"]=f},ef54:function(e,t,i){"use strict";const n={VERTEX:0,FRAGMENT:1,BOTH:2,includesVertexShader:function(e){return e===n.VERTEX||e===n.BOTH},includesFragmentShader:function(e){return e===n.FRAGMENT||e===n.BOTH}};t["a"]=Object.freeze(n)}}]);