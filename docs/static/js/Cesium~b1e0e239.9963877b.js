(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~b1e0e239"],{"5b54":function(e,t,i){"use strict";var r=i("535a"),n=i("d289");function a(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT),this.vertexArray=e.vertexArray,this.fragmentShaderSource=e.fragmentShaderSource,this.shaderProgram=e.shaderProgram,this.uniformMap=e.uniformMap,this.outputTexture=e.outputTexture,this.preExecute=e.preExecute,this.postExecute=e.postExecute,this.canceled=e.canceled,this.persists=Object(r["a"])(e.persists,!1),this.pass=n["a"].COMPUTE,this.owner=e.owner}a.prototype.execute=function(e){e.execute(this)},t["a"]=a},"8b68":function(e,t,i){"use strict";var r=i("daa2");const n={STREAM_DRAW:r["a"].STREAM_DRAW,STATIC_DRAW:r["a"].STATIC_DRAW,DYNAMIC_DRAW:r["a"].DYNAMIC_DRAW,validate:function(e){return e===n.STREAM_DRAW||e===n.STATIC_DRAW||e===n.DYNAMIC_DRAW}};t["a"]=Object.freeze(n)},"9ab9":function(e,t,i){"use strict";var r=i("535a"),n=i("2f63"),a=i("7d62"),s=i("e42d"),o=i("6ef5");function u(e,t,i,r,n,a,s,o,u,c,_){this._context=e,this._texture=t,this._textureTarget=i,this._targetFace=r,this._pixelDatatype=s,this._internalFormat=n,this._pixelFormat=a,this._size=o,this._preMultiplyAlpha=u,this._flipY=c,this._initialized=_}Object.defineProperties(u.prototype,{pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},_target:{get:function(){return this._targetFace}}}),u.prototype.copyFrom=function(e){const t=Object(r["a"])(e.xOffset,0),i=Object(r["a"])(e.yOffset,0),a=e.source,u=this._context._gl,c=this._textureTarget,_=this._targetFace;u.activeTexture(u.TEXTURE0),u.bindTexture(c,this._texture);const h=a.width,f=a.height;let l=a.arrayBufferView;const d=this._size,m=this._pixelFormat,p=this._internalFormat,T=this._pixelDatatype,b=this._preMultiplyAlpha,g=this._flipY,x=Object(r["a"])(e.skipColorSpaceConversion,!1);let E=4;Object(n["a"])(l)&&(E=s["a"].alignmentInBytes(m,T,h)),u.pixelStorei(u.UNPACK_ALIGNMENT,E),x?u.pixelStorei(u.UNPACK_COLORSPACE_CONVERSION_WEBGL,u.NONE):u.pixelStorei(u.UNPACK_COLORSPACE_CONVERSION_WEBGL,u.BROWSER_DEFAULT_WEBGL);let A=!1;if(!this._initialized){if(0===t&&0===i&&h===d&&f===d)Object(n["a"])(l)?(u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1),g&&(l=s["a"].flipY(l,m,T,d,d)),u.texImage2D(_,0,p,d,d,0,m,o["a"].toWebGLConstant(T,this._context),l)):(u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,g),u.texImage2D(_,0,p,m,o["a"].toWebGLConstant(T,this._context),a)),A=!0;else{u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1);const e=s["a"].createTypedArray(m,T,d,d);u.texImage2D(_,0,p,d,d,0,m,o["a"].toWebGLConstant(T,this._context),e)}this._initialized=!0}A||(Object(n["a"])(l)?(u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1),g&&(l=s["a"].flipY(l,m,T,h,f)),u.texSubImage2D(_,0,t,i,h,f,m,o["a"].toWebGLConstant(T,this._context),l)):(u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,g),u.texSubImage2D(_,0,t,i,m,o["a"].toWebGLConstant(T,this._context),a))),u.bindTexture(c,null)},u.prototype.copyFromFramebuffer=function(e,t,i,n,a,s){e=Object(r["a"])(e,0),t=Object(r["a"])(t,0),i=Object(r["a"])(i,0),n=Object(r["a"])(n,0),a=Object(r["a"])(a,this._size),s=Object(r["a"])(s,this._size);const o=this._context._gl,u=this._textureTarget;o.activeTexture(o.TEXTURE0),o.bindTexture(u,this._texture),o.copyTexSubImage2D(this._targetFace,0,e,t,i,n,a,s),o.bindTexture(u,null),this._initialized=!0};var c=u,_=i("b0e6"),h=i("6c84"),f=i("3022"),l=i("03f1");function d(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.context,i=e.source;let a,u;if(Object(n["a"])(i)){const e=[i.positiveX,i.negativeX,i.positiveY,i.negativeY,i.positiveZ,i.negativeZ];a=e[0].width,u=e[0].height}else a=e.width,u=e.height;const _=a,f=Object(r["a"])(e.pixelDatatype,o["a"].UNSIGNED_BYTE),l=Object(r["a"])(e.pixelFormat,s["a"].RGBA),d=s["a"].toInternalFormat(l,f,t),m=6*s["a"].textureSizeInBytes(l,f,_,_),p=e.preMultiplyAlpha||l===s["a"].RGB||l===s["a"].LUMINANCE,T=Object(r["a"])(e.flipY,!0),b=Object(r["a"])(e.skipColorSpaceConversion,!1),g=t._gl,x=g.TEXTURE_CUBE_MAP,E=g.createTexture();function A(e,i,r,u,c){let h=i.arrayBufferView;Object(n["a"])(h)||(h=i.bufferView);let m=4;Object(n["a"])(h)&&(m=s["a"].alignmentInBytes(l,f,a)),g.pixelStorei(g.UNPACK_ALIGNMENT,m),c?g.pixelStorei(g.UNPACK_COLORSPACE_CONVERSION_WEBGL,g.NONE):g.pixelStorei(g.UNPACK_COLORSPACE_CONVERSION_WEBGL,g.BROWSER_DEFAULT_WEBGL),Object(n["a"])(h)?(g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!1),u&&(h=s["a"].flipY(h,l,f,_,_)),g.texImage2D(e,0,d,_,_,0,l,o["a"].toWebGLConstant(f,t),h)):(g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,u),g.texImage2D(e,0,d,l,o["a"].toWebGLConstant(f,t),i))}g.activeTexture(g.TEXTURE0),g.bindTexture(x,E),Object(n["a"])(i)?(A(g.TEXTURE_CUBE_MAP_POSITIVE_X,i.positiveX,p,T,b),A(g.TEXTURE_CUBE_MAP_NEGATIVE_X,i.negativeX,p,T,b),A(g.TEXTURE_CUBE_MAP_POSITIVE_Y,i.positiveY,p,T,b),A(g.TEXTURE_CUBE_MAP_NEGATIVE_Y,i.negativeY,p,T,b),A(g.TEXTURE_CUBE_MAP_POSITIVE_Z,i.positiveZ,p,T,b),A(g.TEXTURE_CUBE_MAP_NEGATIVE_Z,i.negativeZ,p,T,b)):(g.texImage2D(g.TEXTURE_CUBE_MAP_POSITIVE_X,0,d,_,_,0,l,o["a"].toWebGLConstant(f,t),null),g.texImage2D(g.TEXTURE_CUBE_MAP_NEGATIVE_X,0,d,_,_,0,l,o["a"].toWebGLConstant(f,t),null),g.texImage2D(g.TEXTURE_CUBE_MAP_POSITIVE_Y,0,d,_,_,0,l,o["a"].toWebGLConstant(f,t),null),g.texImage2D(g.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,d,_,_,0,l,o["a"].toWebGLConstant(f,t),null),g.texImage2D(g.TEXTURE_CUBE_MAP_POSITIVE_Z,0,d,_,_,0,l,o["a"].toWebGLConstant(f,t),null),g.texImage2D(g.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,d,_,_,0,l,o["a"].toWebGLConstant(f,t),null)),g.bindTexture(x,null),this._context=t,this._textureFilterAnisotropic=t._textureFilterAnisotropic,this._textureTarget=x,this._texture=E,this._pixelFormat=l,this._pixelDatatype=f,this._size=_,this._hasMipmap=!1,this._sizeInBytes=m,this._preMultiplyAlpha=p,this._flipY=T,this._sampler=void 0;const O=Object(n["a"])(i);this._positiveX=new c(t,E,x,g.TEXTURE_CUBE_MAP_POSITIVE_X,d,l,f,_,p,T,O),this._negativeX=new c(t,E,x,g.TEXTURE_CUBE_MAP_NEGATIVE_X,d,l,f,_,p,T,O),this._positiveY=new c(t,E,x,g.TEXTURE_CUBE_MAP_POSITIVE_Y,d,l,f,_,p,T,O),this._negativeY=new c(t,E,x,g.TEXTURE_CUBE_MAP_NEGATIVE_Y,d,l,f,_,p,T,O),this._positiveZ=new c(t,E,x,g.TEXTURE_CUBE_MAP_POSITIVE_Z,d,l,f,_,p,T,O),this._negativeZ=new c(t,E,x,g.TEXTURE_CUBE_MAP_NEGATIVE_Z,d,l,f,_,p,T,O),this.sampler=Object(n["a"])(e.sampler)?e.sampler:new h["a"]}Object.defineProperties(d.prototype,{positiveX:{get:function(){return this._positiveX}},negativeX:{get:function(){return this._negativeX}},positiveY:{get:function(){return this._positiveY}},negativeY:{get:function(){return this._negativeY}},positiveZ:{get:function(){return this._positiveZ}},negativeZ:{get:function(){return this._negativeZ}},sampler:{get:function(){return this._sampler},set:function(e){let t=e.minificationFilter,i=e.magnificationFilter;const r=t===l["a"].NEAREST_MIPMAP_NEAREST||t===l["a"].NEAREST_MIPMAP_LINEAR||t===l["a"].LINEAR_MIPMAP_NEAREST||t===l["a"].LINEAR_MIPMAP_LINEAR,a=this._context,s=this._pixelDatatype;(s===o["a"].FLOAT&&!a.textureFloatLinear||s===o["a"].HALF_FLOAT&&!a.textureHalfFloatLinear)&&(t=r?l["a"].NEAREST_MIPMAP_NEAREST:l["a"].NEAREST,i=f["a"].NEAREST);const u=a._gl,c=this._textureTarget;u.activeTexture(u.TEXTURE0),u.bindTexture(c,this._texture),u.texParameteri(c,u.TEXTURE_MIN_FILTER,t),u.texParameteri(c,u.TEXTURE_MAG_FILTER,i),u.texParameteri(c,u.TEXTURE_WRAP_S,e.wrapS),u.texParameteri(c,u.TEXTURE_WRAP_T,e.wrapT),Object(n["a"])(this._textureFilterAnisotropic)&&u.texParameteri(c,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),u.bindTexture(c,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},width:{get:function(){return this._size}},height:{get:function(){return this._size}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(4*this._sizeInBytes/3):this._sizeInBytes}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},_target:{get:function(){return this._textureTarget}}}),d.prototype.generateMipmap=function(e){e=Object(r["a"])(e,_["a"].DONT_CARE),this._hasMipmap=!0;const t=this._context._gl,i=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(i,this._texture),t.generateMipmap(i),t.bindTexture(i,null)},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),this._positiveX=Object(a["a"])(this._positiveX),this._negativeX=Object(a["a"])(this._negativeX),this._positiveY=Object(a["a"])(this._positiveY),this._negativeY=Object(a["a"])(this._negativeY),this._positiveZ=Object(a["a"])(this._positiveZ),this._negativeZ=Object(a["a"])(this._negativeZ),Object(a["a"])(this)};t["a"]=d},a894:function(e,t,i){"use strict";var r=i("535a"),n=i("2f63"),a=i("1b8d");const s={CULL:1,OCCLUDE:2,EXECUTE_IN_CLOSEST_FRUSTUM:4,DEBUG_SHOW_BOUNDING_VOLUME:8,CAST_SHADOWS:16,RECEIVE_SHADOWS:32,PICK_ONLY:64,DEPTH_FOR_TRANSLUCENT_CLASSIFICATION:128};function o(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT),this._boundingVolume=e.boundingVolume,this._orientedBoundingBox=e.orientedBoundingBox,this._modelMatrix=e.modelMatrix,this._primitiveType=Object(r["a"])(e.primitiveType,a["a"].TRIANGLES),this._vertexArray=e.vertexArray,this._count=e.count,this._offset=Object(r["a"])(e.offset,0),this._instanceCount=Object(r["a"])(e.instanceCount,0),this._shaderProgram=e.shaderProgram,this._uniformMap=e.uniformMap,this._renderState=e.renderState,this._framebuffer=e.framebuffer,this._pass=e.pass,this._owner=e.owner,this._debugOverlappingFrustums=0,this._pickId=e.pickId,this._flags=0,this.cull=Object(r["a"])(e.cull,!0),this.occlude=Object(r["a"])(e.occlude,!0),this.executeInClosestFrustum=Object(r["a"])(e.executeInClosestFrustum,!1),this.debugShowBoundingVolume=Object(r["a"])(e.debugShowBoundingVolume,!1),this.castShadows=Object(r["a"])(e.castShadows,!1),this.receiveShadows=Object(r["a"])(e.receiveShadows,!1),this.pickOnly=Object(r["a"])(e.pickOnly,!1),this.depthForTranslucentClassification=Object(r["a"])(e.depthForTranslucentClassification,!1),this.dirty=!0,this.lastDirtyTime=0,this.derivedCommands={}}function u(e,t){return(e._flags&t)===t}function c(e,t,i){i?e._flags|=t:e._flags&=~t}Object.defineProperties(o.prototype,{boundingVolume:{get:function(){return this._boundingVolume},set:function(e){this._boundingVolume!==e&&(this._boundingVolume=e,this.dirty=!0)}},orientedBoundingBox:{get:function(){return this._orientedBoundingBox},set:function(e){this._orientedBoundingBox!==e&&(this._orientedBoundingBox=e,this.dirty=!0)}},cull:{get:function(){return u(this,s.CULL)},set:function(e){u(this,s.CULL)!==e&&(c(this,s.CULL,e),this.dirty=!0)}},occlude:{get:function(){return u(this,s.OCCLUDE)},set:function(e){u(this,s.OCCLUDE)!==e&&(c(this,s.OCCLUDE,e),this.dirty=!0)}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){this._modelMatrix!==e&&(this._modelMatrix=e,this.dirty=!0)}},primitiveType:{get:function(){return this._primitiveType},set:function(e){this._primitiveType!==e&&(this._primitiveType=e,this.dirty=!0)}},vertexArray:{get:function(){return this._vertexArray},set:function(e){this._vertexArray!==e&&(this._vertexArray=e,this.dirty=!0)}},count:{get:function(){return this._count},set:function(e){this._count!==e&&(this._count=e,this.dirty=!0)}},offset:{get:function(){return this._offset},set:function(e){this._offset!==e&&(this._offset=e,this.dirty=!0)}},instanceCount:{get:function(){return this._instanceCount},set:function(e){this._instanceCount!==e&&(this._instanceCount=e,this.dirty=!0)}},shaderProgram:{get:function(){return this._shaderProgram},set:function(e){this._shaderProgram!==e&&(this._shaderProgram=e,this.dirty=!0)}},castShadows:{get:function(){return u(this,s.CAST_SHADOWS)},set:function(e){u(this,s.CAST_SHADOWS)!==e&&(c(this,s.CAST_SHADOWS,e),this.dirty=!0)}},receiveShadows:{get:function(){return u(this,s.RECEIVE_SHADOWS)},set:function(e){u(this,s.RECEIVE_SHADOWS)!==e&&(c(this,s.RECEIVE_SHADOWS,e),this.dirty=!0)}},uniformMap:{get:function(){return this._uniformMap},set:function(e){this._uniformMap!==e&&(this._uniformMap=e,this.dirty=!0)}},renderState:{get:function(){return this._renderState},set:function(e){this._renderState!==e&&(this._renderState=e,this.dirty=!0)}},framebuffer:{get:function(){return this._framebuffer},set:function(e){this._framebuffer!==e&&(this._framebuffer=e,this.dirty=!0)}},pass:{get:function(){return this._pass},set:function(e){this._pass!==e&&(this._pass=e,this.dirty=!0)}},executeInClosestFrustum:{get:function(){return u(this,s.EXECUTE_IN_CLOSEST_FRUSTUM)},set:function(e){u(this,s.EXECUTE_IN_CLOSEST_FRUSTUM)!==e&&(c(this,s.EXECUTE_IN_CLOSEST_FRUSTUM,e),this.dirty=!0)}},owner:{get:function(){return this._owner},set:function(e){this._owner!==e&&(this._owner=e,this.dirty=!0)}},debugShowBoundingVolume:{get:function(){return u(this,s.DEBUG_SHOW_BOUNDING_VOLUME)},set:function(e){u(this,s.DEBUG_SHOW_BOUNDING_VOLUME)!==e&&(c(this,s.DEBUG_SHOW_BOUNDING_VOLUME,e),this.dirty=!0)}},debugOverlappingFrustums:{get:function(){return this._debugOverlappingFrustums},set:function(e){this._debugOverlappingFrustums!==e&&(this._debugOverlappingFrustums=e,this.dirty=!0)}},pickId:{get:function(){return this._pickId},set:function(e){this._pickId!==e&&(this._pickId=e,this.dirty=!0)}},pickOnly:{get:function(){return u(this,s.PICK_ONLY)},set:function(e){u(this,s.PICK_ONLY)!==e&&(c(this,s.PICK_ONLY,e),this.dirty=!0)}},depthForTranslucentClassification:{get:function(){return u(this,s.DEPTH_FOR_TRANSLUCENT_CLASSIFICATION)},set:function(e){u(this,s.DEPTH_FOR_TRANSLUCENT_CLASSIFICATION)!==e&&(c(this,s.DEPTH_FOR_TRANSLUCENT_CLASSIFICATION,e),this.dirty=!0)}}}),o.shallowClone=function(e,t){if(Object(n["a"])(e))return Object(n["a"])(t)||(t=new o),t._boundingVolume=e._boundingVolume,t._orientedBoundingBox=e._orientedBoundingBox,t._modelMatrix=e._modelMatrix,t._primitiveType=e._primitiveType,t._vertexArray=e._vertexArray,t._count=e._count,t._offset=e._offset,t._instanceCount=e._instanceCount,t._shaderProgram=e._shaderProgram,t._uniformMap=e._uniformMap,t._renderState=e._renderState,t._framebuffer=e._framebuffer,t._pass=e._pass,t._owner=e._owner,t._debugOverlappingFrustums=e._debugOverlappingFrustums,t._pickId=e._pickId,t._flags=e._flags,t.dirty=!0,t.lastDirtyTime=0,t},o.prototype.execute=function(e,t){e.draw(this,t)},t["a"]=o},ac3b:function(e,t,i){"use strict";var r=i("535a"),n=i("2f63"),a=i("7d62"),s=i("b997");function o(e,t,i){const r=e._gl;r.framebufferTexture2D(r.FRAMEBUFFER,t,i._target,i._texture,0)}function u(e,t,i){const r=e._gl;r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,i._getRenderbuffer())}function c(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.context,i=t._gl;s["a"].maximumColorAttachments;this._gl=i,this._framebuffer=i.createFramebuffer(),this._colorTextures=[],this._colorRenderbuffers=[],this._activeColorAttachments=[],this._depthTexture=void 0,this._depthRenderbuffer=void 0,this._stencilRenderbuffer=void 0,this._depthStencilTexture=void 0,this._depthStencilRenderbuffer=void 0,this.destroyAttachments=Object(r["a"])(e.destroyAttachments,!0);Object(n["a"])(e.depthTexture)||Object(n["a"])(e.depthRenderbuffer),Object(n["a"])(e.depthStencilTexture)||Object(n["a"])(e.depthStencilRenderbuffer);let a,c,_,h,f;if(this._bind(),Object(n["a"])(e.colorTextures)){const t=e.colorTextures;for(h=this._colorTextures.length=this._activeColorAttachments.length=t.length,_=0;_<h;++_)a=t[_],f=this._gl.COLOR_ATTACHMENT0+_,o(this,f,a),this._activeColorAttachments[_]=f,this._colorTextures[_]=a}if(Object(n["a"])(e.colorRenderbuffers)){const t=e.colorRenderbuffers;for(h=this._colorRenderbuffers.length=this._activeColorAttachments.length=t.length,_=0;_<h;++_)c=t[_],f=this._gl.COLOR_ATTACHMENT0+_,u(this,f,c),this._activeColorAttachments[_]=f,this._colorRenderbuffers[_]=c}Object(n["a"])(e.depthTexture)&&(a=e.depthTexture,o(this,this._gl.DEPTH_ATTACHMENT,a),this._depthTexture=a),Object(n["a"])(e.depthRenderbuffer)&&(c=e.depthRenderbuffer,u(this,this._gl.DEPTH_ATTACHMENT,c),this._depthRenderbuffer=c),Object(n["a"])(e.stencilRenderbuffer)&&(c=e.stencilRenderbuffer,u(this,this._gl.STENCIL_ATTACHMENT,c),this._stencilRenderbuffer=c),Object(n["a"])(e.depthStencilTexture)&&(a=e.depthStencilTexture,o(this,this._gl.DEPTH_STENCIL_ATTACHMENT,a),this._depthStencilTexture=a),Object(n["a"])(e.depthStencilRenderbuffer)&&(c=e.depthStencilRenderbuffer,u(this,this._gl.DEPTH_STENCIL_ATTACHMENT,c),this._depthStencilRenderbuffer=c),this._unBind()}Object.defineProperties(c.prototype,{status:{get:function(){this._bind();const e=this._gl.checkFramebufferStatus(this._gl.FRAMEBUFFER);return this._unBind(),e}},numberOfColorAttachments:{get:function(){return this._activeColorAttachments.length}},depthTexture:{get:function(){return this._depthTexture}},depthRenderbuffer:{get:function(){return this._depthRenderbuffer}},stencilRenderbuffer:{get:function(){return this._stencilRenderbuffer}},depthStencilTexture:{get:function(){return this._depthStencilTexture}},depthStencilRenderbuffer:{get:function(){return this._depthStencilRenderbuffer}},hasDepthAttachment:{get:function(){return!!(this.depthTexture||this.depthRenderbuffer||this.depthStencilTexture||this.depthStencilRenderbuffer)}}}),c.prototype._bind=function(){const e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer)},c.prototype._unBind=function(){const e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},c.prototype.bindDraw=function(){const e=this._gl;e.bindFramebuffer(e.DRAW_FRAMEBUFFER,this._framebuffer)},c.prototype.bindRead=function(){const e=this._gl;e.bindFramebuffer(e.READ_FRAMEBUFFER,this._framebuffer)},c.prototype._getActiveColorAttachments=function(){return this._activeColorAttachments},c.prototype.getColorTexture=function(e){return this._colorTextures[e]},c.prototype.getColorRenderbuffer=function(e){return this._colorRenderbuffers[e]},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){if(this.destroyAttachments){let e=0;const t=this._colorTextures;let i=t.length;for(;e<i;++e){const i=t[e];Object(n["a"])(i)&&i.destroy()}const r=this._colorRenderbuffers;for(i=r.length,e=0;e<i;++e){const t=r[e];Object(n["a"])(t)&&t.destroy()}this._depthTexture=this._depthTexture&&this._depthTexture.destroy(),this._depthRenderbuffer=this._depthRenderbuffer&&this._depthRenderbuffer.destroy(),this._stencilRenderbuffer=this._stencilRenderbuffer&&this._stencilRenderbuffer.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy()}return this._gl.deleteFramebuffer(this._framebuffer),Object(a["a"])(this)},t["a"]=c},aec5:function(e,t,i){"use strict";var r=i("77af"),n=i("bd8d"),a=i("2f63"),s=i("7d62"),o=i("1b8d"),u=i("3225"),c=i("f845"),_=i("a894"),h=i("ac3b"),f=i("6dc0"),l=i("e90c");function d(e){this._context=e}let m;const p=new _["a"]({primitiveType:o["a"].TRIANGLES}),T=new c["a"]({color:new n["a"](0,0,0,0)});function b(e,t){return new h["a"]({context:e,colorTextures:[t],destroyAttachments:!1})}function g(e,t){return l["a"].fromCache({context:e,vertexShaderSource:u["a"],fragmentShaderSource:t,attributeLocations:{position:0,textureCoordinates:1}})}function x(e,t){return Object(a["a"])(m)&&m.viewport.width===e&&m.viewport.height===t||(m=f["a"].fromCache({viewport:new r["a"](0,0,e,t)})),m}d.prototype.execute=function(e){Object(a["a"])(e.preExecute)&&e.preExecute(e);const t=e.outputTexture,i=t.width,r=t.height,n=this._context,s=Object(a["a"])(e.vertexArray)?e.vertexArray:n.getViewportQuadVertexArray(),o=Object(a["a"])(e.shaderProgram)?e.shaderProgram:g(n,e.fragmentShaderSource),u=b(n,t),c=x(i,r),_=e.uniformMap,h=T;h.framebuffer=u,h.renderState=c,h.execute(n);const f=p;f.vertexArray=s,f.renderState=c,f.shaderProgram=o,f.uniformMap=_,f.framebuffer=u,f.execute(n),u.destroy(),e.persists||(o.destroy(),Object(a["a"])(e.vertexArray)&&s.destroy()),Object(a["a"])(e.postExecute)&&e.postExecute(t)},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return Object(s["a"])(this)},t["a"]=d},b0e6:function(e,t,i){"use strict";var r=i("daa2");const n={DONT_CARE:r["a"].DONT_CARE,FASTEST:r["a"].FASTEST,NICEST:r["a"].NICEST,validate:function(e){return e===n.DONT_CARE||e===n.FASTEST||e===n.NICEST}};t["a"]=Object.freeze(n)},b997:function(e,t,i){"use strict";const r={_maximumCombinedTextureImageUnits:0,_maximumCubeMapSize:0,_maximumFragmentUniformVectors:0,_maximumTextureImageUnits:0,_maximumRenderbufferSize:0,_maximumTextureSize:0,_maximumVaryingVectors:0,_maximumVertexAttributes:0,_maximumVertexTextureImageUnits:0,_maximumVertexUniformVectors:0,_minimumAliasedLineWidth:0,_maximumAliasedLineWidth:0,_minimumAliasedPointSize:0,_maximumAliasedPointSize:0,_maximumViewportWidth:0,_maximumViewportHeight:0,_maximumTextureFilterAnisotropy:0,_maximumDrawBuffers:0,_maximumColorAttachments:0,_maximumSamples:0,_highpFloatSupported:!1,_highpIntSupported:!1};Object.defineProperties(r,{maximumCombinedTextureImageUnits:{get:function(){return r._maximumCombinedTextureImageUnits}},maximumCubeMapSize:{get:function(){return r._maximumCubeMapSize}},maximumFragmentUniformVectors:{get:function(){return r._maximumFragmentUniformVectors}},maximumTextureImageUnits:{get:function(){return r._maximumTextureImageUnits}},maximumRenderbufferSize:{get:function(){return r._maximumRenderbufferSize}},maximumTextureSize:{get:function(){return r._maximumTextureSize}},maximumVaryingVectors:{get:function(){return r._maximumVaryingVectors}},maximumVertexAttributes:{get:function(){return r._maximumVertexAttributes}},maximumVertexTextureImageUnits:{get:function(){return r._maximumVertexTextureImageUnits}},maximumVertexUniformVectors:{get:function(){return r._maximumVertexUniformVectors}},minimumAliasedLineWidth:{get:function(){return r._minimumAliasedLineWidth}},maximumAliasedLineWidth:{get:function(){return r._maximumAliasedLineWidth}},minimumAliasedPointSize:{get:function(){return r._minimumAliasedPointSize}},maximumAliasedPointSize:{get:function(){return r._maximumAliasedPointSize}},maximumViewportWidth:{get:function(){return r._maximumViewportWidth}},maximumViewportHeight:{get:function(){return r._maximumViewportHeight}},maximumTextureFilterAnisotropy:{get:function(){return r._maximumTextureFilterAnisotropy}},maximumDrawBuffers:{get:function(){return r._maximumDrawBuffers}},maximumColorAttachments:{get:function(){return r._maximumColorAttachments}},maximumSamples:{get:function(){return r._maximumSamples}},highpFloatSupported:{get:function(){return r._highpFloatSupported}},highpIntSupported:{get:function(){return r._highpIntSupported}}}),t["a"]=r},de02:function(e,t,i){"use strict";var r=i("dc1c"),n=i("bd8d"),a=i("abab"),s=i("71ce"),o=i("535a"),u=i("2f63"),c=i("7d62"),_=i("d2c7"),h=i("81d7"),f=i("7ceb"),l=i("52f0"),d=i("e42d"),m=i("1b8d"),p=i("283e"),T=i("daa2"),b=i("3225"),g=i("8b68"),x=i("f845"),E=i("b997"),A=i("9ab9"),O=i("a894"),y=i("00f8"),S=i("6ef5"),w=i("6dc0"),C=i("4521"),R=i("e90c"),F=i("a913"),L=i("61ec"),v=i("0134"),I=i("7c5e");function P(e,t){let i="WebGL Error:  ";switch(t){case e.INVALID_ENUM:i+="INVALID_ENUM";break;case e.INVALID_VALUE:i+="INVALID_VALUE";break;case e.INVALID_OPERATION:i+="INVALID_OPERATION";break;case e.OUT_OF_MEMORY:i+="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:i+="CONTEXT_LOST_WEBGL lost";break;default:i+=`Unknown (${t})`}return i}function V(e,t,i,r){let n=`${P(e,r)}: ${t.name}(`;for(let a=0;a<i.length;++a)0!==a&&(n+=", "),n+=i[a];return n+=");",n}function D(e,t,i){const r=e.getError();if(r!==e.NO_ERROR)throw new p["a"](V(e,t,i,r))}function M(e,t,i){return{get:function(){const r=e[t];return i(e,"get: "+t,r),e[t]},set:function(r){e[t]=r,i(e,"set: "+t,r)}}}function B(e,t){if(!Object(u["a"])(t))return e;function i(i){return function(){const r=i.apply(e,arguments);return t(e,i,arguments),r}}const r={};for(const n in e){const a=e[n];a instanceof Function?r[n]=i(a):Object.defineProperty(r,n,M(e,n,t))}return r}function j(e,t){const i=t.length;for(let r=0;r<i;++r){const i=e.getExtension(t[r]);if(i)return i}}function U(e,t){if("undefined"===typeof WebGLRenderingContext)throw new p["a"]("The browser does not support WebGL.  Visit http://get.webgl.org.");this._canvas=e,t=Object(r["a"])(t,!0),t=Object(o["a"])(t,{}),t.allowTextureFilterAnisotropic=Object(o["a"])(t.allowTextureFilterAnisotropic,!0);const i=Object(o["a"])(t.webgl,{});i.alpha=Object(o["a"])(i.alpha,!1),i.stencil=Object(o["a"])(i.stencil,!0);const a=Object(o["a"])(t.requestWebgl2,!1)&&"undefined"!==typeof WebGL2RenderingContext;let c,_=!1;const h=t.getWebGLStub;if(Object(u["a"])(h))c=h(e,i);else if(a&&(c=e.getContext("webgl2",i)||e.getContext("experimental-webgl2",i)||void 0,Object(u["a"])(c)&&(_=!0)),Object(u["a"])(c)||(c=e.getContext("webgl",i)||e.getContext("experimental-webgl",i)||void 0),!Object(u["a"])(c))throw new p["a"]("The browser supports WebGL, but initialization failed.");this._originalGLContext=c,this._gl=c,this._webgl2=_,this._id=Object(s["a"])(),this.validateFramebuffer=!1,this.validateShaderProgram=!1,this.logShaderCompilation=!1,this._throwOnWebGLError=!1,this._shaderCache=new C["a"](this),this._textureCache=new L["a"];const l=c;this._stencilBits=l.getParameter(l.STENCIL_BITS),E["a"]._maximumCombinedTextureImageUnits=l.getParameter(l.MAX_COMBINED_TEXTURE_IMAGE_UNITS),E["a"]._maximumCubeMapSize=l.getParameter(l.MAX_CUBE_MAP_TEXTURE_SIZE),E["a"]._maximumFragmentUniformVectors=l.getParameter(l.MAX_FRAGMENT_UNIFORM_VECTORS),E["a"]._maximumTextureImageUnits=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS),E["a"]._maximumRenderbufferSize=l.getParameter(l.MAX_RENDERBUFFER_SIZE),E["a"]._maximumTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),E["a"]._maximumVaryingVectors=l.getParameter(l.MAX_VARYING_VECTORS),E["a"]._maximumVertexAttributes=l.getParameter(l.MAX_VERTEX_ATTRIBS),E["a"]._maximumVertexTextureImageUnits=l.getParameter(l.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E["a"]._maximumVertexUniformVectors=l.getParameter(l.MAX_VERTEX_UNIFORM_VECTORS),E["a"]._maximumSamples=this._webgl2?l.getParameter(l.MAX_SAMPLES):0;const d=l.getParameter(l.ALIASED_LINE_WIDTH_RANGE);E["a"]._minimumAliasedLineWidth=d[0],E["a"]._maximumAliasedLineWidth=d[1];const m=l.getParameter(l.ALIASED_POINT_SIZE_RANGE);E["a"]._minimumAliasedPointSize=m[0],E["a"]._maximumAliasedPointSize=m[1];const b=l.getParameter(l.MAX_VIEWPORT_DIMS);E["a"]._maximumViewportWidth=b[0],E["a"]._maximumViewportHeight=b[1];const g=l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT);E["a"]._highpFloatSupported=0!==g.precision;const x=l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_INT);E["a"]._highpIntSupported=0!==x.rangeMax,this._antialias=l.getContextAttributes().antialias,this._standardDerivatives=!!j(l,["OES_standard_derivatives"]),this._blendMinmax=!!j(l,["EXT_blend_minmax"]),this._elementIndexUint=!!j(l,["OES_element_index_uint"]),this._depthTexture=!!j(l,["WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"]),this._fragDepth=!!j(l,["EXT_frag_depth"]),this._debugShaders=j(l,["WEBGL_debug_shaders"]),this._textureFloat=!!j(l,["OES_texture_float"]),this._textureHalfFloat=!!j(l,["OES_texture_half_float"]),this._textureFloatLinear=!!j(l,["OES_texture_float_linear"]),this._textureHalfFloatLinear=!!j(l,["OES_texture_half_float_linear"]),this._colorBufferFloat=!!j(l,["EXT_color_buffer_float","WEBGL_color_buffer_float"]),this._floatBlend=!!j(l,["EXT_float_blend"]),this._colorBufferHalfFloat=!!j(l,["EXT_color_buffer_half_float"]),this._s3tc=!!j(l,["WEBGL_compressed_texture_s3tc","MOZ_WEBGL_compressed_texture_s3tc","WEBKIT_WEBGL_compressed_texture_s3tc"]),this._pvrtc=!!j(l,["WEBGL_compressed_texture_pvrtc","WEBKIT_WEBGL_compressed_texture_pvrtc"]),this._astc=!!j(l,["WEBGL_compressed_texture_astc"]),this._etc=!!j(l,["WEBG_compressed_texture_etc"]),this._etc1=!!j(l,["WEBGL_compressed_texture_etc1"]),this._bc7=!!j(l,["EXT_texture_compression_bptc"]),f["a"].setKTX2SupportedFormats(this._s3tc,this._pvrtc,this._astc,this._etc,this._etc1,this._bc7);const A=t.allowTextureFilterAnisotropic?j(l,["EXT_texture_filter_anisotropic","WEBKIT_EXT_texture_filter_anisotropic"]):void 0;let O,S,R,F,I,P,V,D,M,B;if(this._textureFilterAnisotropic=A,E["a"]._maximumTextureFilterAnisotropy=Object(u["a"])(A)?l.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1,_){const e=this;O=function(){return e._gl.createVertexArray()},S=function(t){e._gl.bindVertexArray(t)},R=function(t){e._gl.deleteVertexArray(t)},F=function(e,t,i,r,n){l.drawElementsInstanced(e,t,i,r,n)},I=function(e,t,i,r){l.drawArraysInstanced(e,t,i,r)},P=function(e,t){l.vertexAttribDivisor(e,t)},V=function(e){l.drawBuffers(e)}}else D=j(l,["OES_vertex_array_object"]),Object(u["a"])(D)&&(O=function(){return D.createVertexArrayOES()},S=function(e){D.bindVertexArrayOES(e)},R=function(e){D.deleteVertexArrayOES(e)}),M=j(l,["ANGLE_instanced_arrays"]),Object(u["a"])(M)&&(F=function(e,t,i,r,n){M.drawElementsInstancedANGLE(e,t,i,r,n)},I=function(e,t,i,r){M.drawArraysInstancedANGLE(e,t,i,r)},P=function(e,t){M.vertexAttribDivisorANGLE(e,t)}),B=j(l,["WEBGL_draw_buffers"]),Object(u["a"])(B)&&(V=function(e){B.drawBuffersWEBGL(e)});this.glCreateVertexArray=O,this.glBindVertexArray=S,this.glDeleteVertexArray=R,this.glDrawElementsInstanced=F,this.glDrawArraysInstanced=I,this.glVertexAttribDivisor=P,this.glDrawBuffers=V,this._vertexArrayObject=!!D,this._instancedArrays=!!M,this._drawBuffers=!!B,E["a"]._maximumDrawBuffers=this.drawBuffers?l.getParameter(T["a"].MAX_DRAW_BUFFERS):1,E["a"]._maximumColorAttachments=this.drawBuffers?l.getParameter(T["a"].MAX_COLOR_ATTACHMENTS):1,this._clearColor=new n["a"](0,0,0,0),this._clearDepth=1,this._clearStencil=0;const U=new v["a"],N=new y["a"](this),z=w["a"].fromCache();this._defaultPassState=N,this._defaultRenderState=z,this._defaultTexture=void 0,this._defaultEmissiveTexture=void 0,this._defaultNormalTexture=void 0,this._defaultCubeMap=void 0,this._us=U,this._currentRenderState=z,this._currentPassState=N,this._currentFramebuffer=void 0,this._maxFrameTextureUnitIndex=0,this._vertexAttribDivisors=[],this._previousDrawInstanced=!1;for(let r=0;r<E["a"]._maximumVertexAttributes;r++)this._vertexAttribDivisors.push(0);this._pickObjects={},this._nextPickColor=new Uint32Array(1),this.options=t,this.cache={},w["a"].apply(l,z,N)}const N={};function z(e){}function W(e,t,i,r){const n=e._currentRenderState,a=e._currentPassState;e._currentRenderState=t,e._currentPassState=i,w["a"].partialApply(e._gl,n,t,a,i,r)}let G;function X(e,t){if(t!==e._currentFramebuffer){e._currentFramebuffer=t;let i=G;if(Object(u["a"])(t))t._bind(),z(e),i=t._getActiveColorAttachments();else{const t=e._gl;t.bindFramebuffer(t.FRAMEBUFFER,null)}e.drawBuffers&&e.glDrawBuffers(i)}}Object.defineProperties(U.prototype,{id:{get:function(){return this._id}},webgl2:{get:function(){return this._webgl2}},canvas:{get:function(){return this._canvas}},shaderCache:{get:function(){return this._shaderCache}},textureCache:{get:function(){return this._textureCache}},uniformState:{get:function(){return this._us}},stencilBits:{get:function(){return this._stencilBits}},stencilBuffer:{get:function(){return this._stencilBits>=8}},antialias:{get:function(){return this._antialias}},msaa:{get:function(){return this._webgl2}},standardDerivatives:{get:function(){return this._standardDerivatives||this._webgl2}},floatBlend:{get:function(){return this._floatBlend}},blendMinmax:{get:function(){return this._blendMinmax||this._webgl2}},elementIndexUint:{get:function(){return this._elementIndexUint||this._webgl2}},depthTexture:{get:function(){return this._depthTexture||this._webgl2}},floatingPointTexture:{get:function(){return this._webgl2||this._textureFloat}},halfFloatingPointTexture:{get:function(){return this._webgl2||this._textureHalfFloat}},textureFloatLinear:{get:function(){return this._textureFloatLinear}},textureHalfFloatLinear:{get:function(){return this._webgl2&&this._textureFloatLinear||!this._webgl2&&this._textureHalfFloatLinear}},textureFilterAnisotropic:{get:function(){return!!this._textureFilterAnisotropic}},s3tc:{get:function(){return this._s3tc}},pvrtc:{get:function(){return this._pvrtc}},astc:{get:function(){return this._astc}},etc:{get:function(){return this._etc}},etc1:{get:function(){return this._etc1}},bc7:{get:function(){return this._bc7}},supportsBasis:{get:function(){return this._s3tc||this._pvrtc||this._astc||this._etc||this._etc1||this._bc7}},vertexArrayObject:{get:function(){return this._vertexArrayObject||this._webgl2}},fragmentDepth:{get:function(){return this._fragDepth||this._webgl2}},instancedArrays:{get:function(){return this._instancedArrays||this._webgl2}},colorBufferFloat:{get:function(){return this._colorBufferFloat}},colorBufferHalfFloat:{get:function(){return this._webgl2&&this._colorBufferFloat||!this._webgl2&&this._colorBufferHalfFloat}},drawBuffers:{get:function(){return this._drawBuffers||this._webgl2}},debugShaders:{get:function(){return this._debugShaders}},throwOnWebGLError:{get:function(){return this._throwOnWebGLError},set:function(e){this._throwOnWebGLError=e,this._gl=B(this._originalGLContext,e?D:void 0)}},defaultTexture:{get:function(){return void 0===this._defaultTexture&&(this._defaultTexture=new F["a"]({context:this,source:{width:1,height:1,arrayBufferView:new Uint8Array([255,255,255,255])},flipY:!1})),this._defaultTexture}},defaultEmissiveTexture:{get:function(){return void 0===this._defaultEmissiveTexture&&(this._defaultEmissiveTexture=new F["a"]({context:this,pixelFormat:d["a"].RGB,source:{width:1,height:1,arrayBufferView:new Uint8Array([0,0,0])},flipY:!1})),this._defaultEmissiveTexture}},defaultNormalTexture:{get:function(){return void 0===this._defaultNormalTexture&&(this._defaultNormalTexture=new F["a"]({context:this,pixelFormat:d["a"].RGB,source:{width:1,height:1,arrayBufferView:new Uint8Array([128,128,255])},flipY:!1})),this._defaultNormalTexture}},defaultCubeMap:{get:function(){if(void 0===this._defaultCubeMap){const e={width:1,height:1,arrayBufferView:new Uint8Array([255,255,255,255])};this._defaultCubeMap=new A["a"]({context:this,source:{positiveX:e,negativeX:e,positiveY:e,negativeY:e,positiveZ:e,negativeZ:e},flipY:!1})}return this._defaultCubeMap}},drawingBufferHeight:{get:function(){return this._gl.drawingBufferHeight}},drawingBufferWidth:{get:function(){return this._gl.drawingBufferWidth}},defaultFramebuffer:{get:function(){return N}}}),"undefined"!==typeof WebGLRenderingContext&&(G=[T["a"].BACK]);const Y=new x["a"];function H(e,t,i,r,n){X(e,t),W(e,n,i,!1),r._bind(),e._maxFrameTextureUnitIndex=Math.max(e._maxFrameTextureUnitIndex,r.maximumTextureUnitIndex)}function k(e,t,i,r){const n=t._primitiveType,a=t._vertexArray;let s=t._offset,c=t._count;const _=t.instanceCount;e._us.model=Object(o["a"])(t._modelMatrix,l["a"].IDENTITY),i._setUniforms(r,e._us,e.validateShaderProgram),a._bind();const h=a.indexBuffer;Object(u["a"])(h)?(s*=h.bytesPerIndex,c=Object(o["a"])(c,h.numberOfIndices),0===_?e._gl.drawElements(n,c,h.indexDatatype,s):e.glDrawElementsInstanced(n,c,h.indexDatatype,s,_)):(c=Object(o["a"])(c,a.numberOfVertices),0===_?e._gl.drawArrays(n,s,c):e.glDrawArraysInstanced(n,s,c,_)),a._unBind()}U.prototype.clear=function(e,t){e=Object(o["a"])(e,Y),t=Object(o["a"])(t,this._defaultPassState);const i=this._gl;let r=0;const a=e.color,s=e.depth,c=e.stencil;Object(u["a"])(a)&&(n["a"].equals(this._clearColor,a)||(n["a"].clone(a,this._clearColor),i.clearColor(a.red,a.green,a.blue,a.alpha)),r|=i.COLOR_BUFFER_BIT),Object(u["a"])(s)&&(s!==this._clearDepth&&(this._clearDepth=s,i.clearDepth(s)),r|=i.DEPTH_BUFFER_BIT),Object(u["a"])(c)&&(c!==this._clearStencil&&(this._clearStencil=c,i.clearStencil(c)),r|=i.STENCIL_BUFFER_BIT);const _=Object(o["a"])(e.renderState,this._defaultRenderState);W(this,_,t,!0);const h=Object(o["a"])(e.framebuffer,t.framebuffer);X(this,h),i.clear(r)},U.prototype.draw=function(e,t,i,r){t=Object(o["a"])(t,this._defaultPassState);const n=Object(o["a"])(e._framebuffer,t.framebuffer),a=Object(o["a"])(e._renderState,this._defaultRenderState);i=Object(o["a"])(i,e._shaderProgram),r=Object(o["a"])(r,e._uniformMap),H(this,n,t,i,a),k(this,e,i,r)},U.prototype.endFrame=function(){const e=this._gl;e.useProgram(null),this._currentFramebuffer=void 0,e.bindFramebuffer(e.FRAMEBUFFER,null);const t=G;this.drawBuffers&&this.glDrawBuffers(t);const i=this._maxFrameTextureUnitIndex;this._maxFrameTextureUnitIndex=0;for(let r=0;r<i;++r)e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null)},U.prototype.readPixels=function(e){const t=this._gl;e=Object(o["a"])(e,o["a"].EMPTY_OBJECT);const i=Math.max(Object(o["a"])(e.x,0),0),r=Math.max(Object(o["a"])(e.y,0),0),n=Object(o["a"])(e.width,t.drawingBufferWidth),a=Object(o["a"])(e.height,t.drawingBufferHeight),s=e.framebuffer;let c=S["a"].UNSIGNED_BYTE;Object(u["a"])(s)&&s.numberOfColorAttachments>0&&(c=s.getColorTexture(0).pixelDatatype);const _=d["a"].createTypedArray(d["a"].RGBA,c,n,a);return X(this,s),t.readPixels(i,r,n,a,d["a"].RGBA,S["a"].toWebGLConstant(c,this),_),_};const K={position:0,textureCoordinates:1};function Z(e,t,i){this._pickObjects=e,this.key=t,this.color=i}U.prototype.getViewportQuadVertexArray=function(){let e=this.cache.viewportQuad_vertexArray;if(!Object(u["a"])(e)){const t=new _["a"]({attributes:{position:new h["a"]({componentDatatype:a["a"].FLOAT,componentsPerAttribute:2,values:[-1,-1,1,-1,1,1,-1,1]}),textureCoordinates:new h["a"]({componentDatatype:a["a"].FLOAT,componentsPerAttribute:2,values:[0,0,1,0,1,1,0,1]})},indices:new Uint16Array([0,1,2,0,2,3]),primitiveType:m["a"].TRIANGLES});e=I["a"].fromGeometry({context:this,geometry:t,attributeLocations:K,bufferUsage:g["a"].STATIC_DRAW,interleave:!0}),this.cache.viewportQuad_vertexArray=e}return e},U.prototype.createViewportQuadCommand=function(e,t){return t=Object(o["a"])(t,o["a"].EMPTY_OBJECT),new O["a"]({vertexArray:this.getViewportQuadVertexArray(),primitiveType:m["a"].TRIANGLES,renderState:t.renderState,shaderProgram:R["a"].fromCache({context:this,vertexShaderSource:b["a"],fragmentShaderSource:e,attributeLocations:K}),uniformMap:t.uniformMap,owner:t.owner,framebuffer:t.framebuffer,pass:t.pass})},U.prototype.getObjectByPickColor=function(e){return this._pickObjects[e.toRgba()]},Object.defineProperties(Z.prototype,{object:{get:function(){return this._pickObjects[this.key]},set:function(e){this._pickObjects[this.key]=e}}}),Z.prototype.destroy=function(){delete this._pickObjects[this.key]},U.prototype.createPickId=function(e){++this._nextPickColor[0];const t=this._nextPickColor[0];if(0===t)throw new p["a"]("Out of unique Pick IDs.");return this._pickObjects[t]=e,new Z(this._pickObjects,t,n["a"].fromRgba(t))},U.prototype.isDestroyed=function(){return!1},U.prototype.destroy=function(){const e=this.cache;for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];Object(u["a"])(i.destroy)&&i.destroy()}return this._shaderCache=this._shaderCache.destroy(),this._textureCache=this._textureCache.destroy(),this._defaultTexture=this._defaultTexture&&this._defaultTexture.destroy(),this._defaultEmissiveTexture=this._defaultEmissiveTexture&&this._defaultEmissiveTexture.destroy(),this._defaultNormalTexture=this._defaultNormalTexture&&this._defaultNormalTexture.destroy(),this._defaultCubeMap=this._defaultCubeMap&&this._defaultCubeMap.destroy(),Object(c["a"])(this)},t["a"]=U},e945:function(e,t,i){"use strict";var r=i("be18"),n=i("52f0"),a=i("daa2");const s=new r["a"];function o(e){this._size=e.size,this._datatype=e.datatype,this.getValue=e.getValue}const u={};u[a["a"].FLOAT]="float",u[a["a"].FLOAT_VEC2]="vec2",u[a["a"].FLOAT_VEC3]="vec3",u[a["a"].FLOAT_VEC4]="vec4",u[a["a"].INT]="int",u[a["a"].INT_VEC2]="ivec2",u[a["a"].INT_VEC3]="ivec3",u[a["a"].INT_VEC4]="ivec4",u[a["a"].BOOL]="bool",u[a["a"].BOOL_VEC2]="bvec2",u[a["a"].BOOL_VEC3]="bvec3",u[a["a"].BOOL_VEC4]="bvec4",u[a["a"].FLOAT_MAT2]="mat2",u[a["a"].FLOAT_MAT3]="mat3",u[a["a"].FLOAT_MAT4]="mat4",u[a["a"].SAMPLER_2D]="sampler2D",u[a["a"].SAMPLER_CUBE]="samplerCube",o.prototype.getDeclaration=function(e){let t=`uniform ${u[this._datatype]} ${e}`;const i=this._size;return t+=1===i?";":`[${i.toString()}];`,t};const c={czm_viewport:new o({size:1,datatype:a["a"].FLOAT_VEC4,getValue:function(e){return e.viewportCartesian4}}),czm_viewportOrthographic:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.viewportOrthographic}}),czm_viewportTransformation:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.viewportTransformation}}),czm_globeDepthTexture:new o({size:1,datatype:a["a"].SAMPLER_2D,getValue:function(e){return e.globeDepthTexture}}),czm_model:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.model}}),czm_inverseModel:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.inverseModel}}),czm_view:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.view}}),czm_view3D:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.view3D}}),czm_viewRotation:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.viewRotation}}),czm_viewRotation3D:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.viewRotation3D}}),czm_inverseView:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.inverseView}}),czm_inverseView3D:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.inverseView3D}}),czm_inverseViewRotation:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.inverseViewRotation}}),czm_inverseViewRotation3D:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.inverseViewRotation3D}}),czm_projection:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.projection}}),czm_inverseProjection:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.inverseProjection}}),czm_infiniteProjection:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.infiniteProjection}}),czm_modelView:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.modelView}}),czm_modelView3D:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.modelView3D}}),czm_modelViewRelativeToEye:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.modelViewRelativeToEye}}),czm_inverseModelView:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.inverseModelView}}),czm_inverseModelView3D:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.inverseModelView3D}}),czm_viewProjection:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.viewProjection}}),czm_inverseViewProjection:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.inverseViewProjection}}),czm_modelViewProjection:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.modelViewProjection}}),czm_inverseModelViewProjection:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.inverseModelViewProjection}}),czm_modelViewProjectionRelativeToEye:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.modelViewProjectionRelativeToEye}}),czm_modelViewInfiniteProjection:new o({size:1,datatype:a["a"].FLOAT_MAT4,getValue:function(e){return e.modelViewInfiniteProjection}}),czm_orthographicIn3D:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.orthographicIn3D?1:0}}),czm_normal:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.normal}}),czm_normal3D:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.normal3D}}),czm_inverseNormal:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.inverseNormal}}),czm_inverseNormal3D:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.inverseNormal3D}}),czm_eyeHeight:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.eyeHeight}}),czm_eyeHeight2D:new o({size:1,datatype:a["a"].FLOAT_VEC2,getValue:function(e){return e.eyeHeight2D}}),czm_entireFrustum:new o({size:1,datatype:a["a"].FLOAT_VEC2,getValue:function(e){return e.entireFrustum}}),czm_currentFrustum:new o({size:1,datatype:a["a"].FLOAT_VEC2,getValue:function(e){return e.currentFrustum}}),czm_frustumPlanes:new o({size:1,datatype:a["a"].FLOAT_VEC4,getValue:function(e){return e.frustumPlanes}}),czm_farDepthFromNearPlusOne:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.farDepthFromNearPlusOne}}),czm_log2FarDepthFromNearPlusOne:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.log2FarDepthFromNearPlusOne}}),czm_oneOverLog2FarDepthFromNearPlusOne:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.oneOverLog2FarDepthFromNearPlusOne}}),czm_sunPositionWC:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.sunPositionWC}}),czm_sunPositionColumbusView:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.sunPositionColumbusView}}),czm_sunDirectionEC:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.sunDirectionEC}}),czm_sunDirectionWC:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.sunDirectionWC}}),czm_moonDirectionEC:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.moonDirectionEC}}),czm_lightDirectionEC:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.lightDirectionEC}}),czm_lightDirectionWC:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.lightDirectionWC}}),czm_lightColor:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.lightColor}}),czm_lightColorHdr:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.lightColorHdr}}),czm_encodedCameraPositionMCHigh:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.encodedCameraPositionMCHigh}}),czm_encodedCameraPositionMCLow:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.encodedCameraPositionMCLow}}),czm_viewerPositionWC:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return n["a"].getTranslation(e.inverseView,s)}}),czm_frameNumber:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.frameState.frameNumber}}),czm_morphTime:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.frameState.morphTime}}),czm_sceneMode:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.frameState.mode}}),czm_pass:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.pass}}),czm_backgroundColor:new o({size:1,datatype:a["a"].FLOAT_VEC4,getValue:function(e){return e.backgroundColor}}),czm_brdfLut:new o({size:1,datatype:a["a"].SAMPLER_2D,getValue:function(e){return e.brdfLut}}),czm_environmentMap:new o({size:1,datatype:a["a"].SAMPLER_CUBE,getValue:function(e){return e.environmentMap}}),czm_specularEnvironmentMaps:new o({size:1,datatype:a["a"].SAMPLER_2D,getValue:function(e){return e.specularEnvironmentMaps}}),czm_specularEnvironmentMapSize:new o({size:1,datatype:a["a"].FLOAT_VEC2,getValue:function(e){return e.specularEnvironmentMapsDimensions}}),czm_specularEnvironmentMapsMaximumLOD:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.specularEnvironmentMapsMaximumLOD}}),czm_sphericalHarmonicCoefficients:new o({size:9,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.sphericalHarmonicCoefficients}}),czm_temeToPseudoFixed:new o({size:1,datatype:a["a"].FLOAT_MAT3,getValue:function(e){return e.temeToPseudoFixedMatrix}}),czm_pixelRatio:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.pixelRatio}}),czm_fogDensity:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.fogDensity}}),czm_splitPosition:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.splitPosition}}),czm_geometricToleranceOverMeter:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.geometricToleranceOverMeter}}),czm_minimumDisableDepthTestDistance:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.minimumDisableDepthTestDistance}}),czm_invertClassificationColor:new o({size:1,datatype:a["a"].FLOAT_VEC4,getValue:function(e){return e.invertClassificationColor}}),czm_gamma:new o({size:1,datatype:a["a"].FLOAT,getValue:function(e){return e.gamma}}),czm_ellipsoidRadii:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.ellipsoid.radii}}),czm_ellipsoidInverseRadii:new o({size:1,datatype:a["a"].FLOAT_VEC3,getValue:function(e){return e.ellipsoid.oneOverRadii}})};t["a"]=c},f20a:function(e,t,i){"use strict";var r=i("71ce"),n=i("535a"),a=i("2f63"),s=i("7d62"),o=i("0123"),u=i("daa2");function c(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.context._gl,i=e.bufferTarget,s=e.typedArray;let o=e.sizeInBytes;const u=e.usage,c=Object(a["a"])(s);c&&(o=s.byteLength);const _=t.createBuffer();t.bindBuffer(i,_),t.bufferData(i,c?s:o,u),t.bindBuffer(i,null),this._id=Object(r["a"])(),this._gl=t,this._webgl2=e.context._webgl2,this._bufferTarget=i,this._sizeInBytes=o,this._usage=u,this._buffer=_,this.vertexArrayDestroyable=!0}c.createVertexBuffer=function(e){return new c({context:e.context,bufferTarget:u["a"].ARRAY_BUFFER,typedArray:e.typedArray,sizeInBytes:e.sizeInBytes,usage:e.usage})},c.createIndexBuffer=function(e){const t=e.context,i=e.indexDatatype,r=o["a"].getSizeInBytes(i),n=new c({context:t,bufferTarget:u["a"].ELEMENT_ARRAY_BUFFER,typedArray:e.typedArray,sizeInBytes:e.sizeInBytes,usage:e.usage}),a=n.sizeInBytes/r;return Object.defineProperties(n,{indexDatatype:{get:function(){return i}},bytesPerIndex:{get:function(){return r}},numberOfIndices:{get:function(){return a}}}),n},Object.defineProperties(c.prototype,{sizeInBytes:{get:function(){return this._sizeInBytes}},usage:{get:function(){return this._usage}}}),c.prototype._getBuffer=function(){return this._buffer},c.prototype.copyFromArrayView=function(e,t){t=Object(n["a"])(t,0);const i=this._gl,r=this._bufferTarget;i.bindBuffer(r,this._buffer),i.bufferSubData(r,t,e),i.bindBuffer(r,null)},c.prototype.copyFromBuffer=function(e,t,i,r){const n=u["a"].COPY_READ_BUFFER,a=u["a"].COPY_WRITE_BUFFER,s=this._gl;s.bindBuffer(a,this._buffer),s.bindBuffer(n,e._buffer),s.copyBufferSubData(n,a,t,i,r),s.bindBuffer(a,null),s.bindBuffer(n,null)},c.prototype.getBufferData=function(e,t,i,r){t=Object(n["a"])(t,0),i=Object(n["a"])(i,0);const a=this._gl,s=u["a"].COPY_READ_BUFFER;a.bindBuffer(s,this._buffer),a.getBufferSubData(s,t,e,i,r),a.bindBuffer(s,null)},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){return this._gl.deleteBuffer(this._buffer),Object(s["a"])(this)},t["a"]=c},f630:function(e,t,i){"use strict";var r=i("ac3b"),n=i("535a"),a=i("2f63"),s=i("7d62"),o=i("4f04");function u(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.context,i=e.width,s=e.height;this._width=i,this._height=s;const u=e.colorRenderbuffers,c=e.colorTextures;if(Object(a["a"])(u)!==Object(a["a"])(c))throw new o["a"]("Both color renderbuffer and texture attachments must be provided.");const _=e.depthStencilRenderbuffer,h=e.depthStencilTexture;if(Object(a["a"])(_)!==Object(a["a"])(h))throw new o["a"]("Both depth-stencil renderbuffer and texture attachments must be provided.");this._renderFramebuffer=new r["a"]({context:t,colorRenderbuffers:u,depthStencilRenderbuffer:_,destroyAttachments:e.destroyAttachments}),this._colorFramebuffer=new r["a"]({context:t,colorTextures:c,depthStencilTexture:h,destroyAttachments:e.destroyAttachments})}u.prototype.getRenderFramebuffer=function(){return this._renderFramebuffer},u.prototype.getColorFramebuffer=function(){return this._colorFramebuffer},u.prototype.blitFramebuffers=function(e,t){this._renderFramebuffer.bindRead(),this._colorFramebuffer.bindDraw();const i=e._gl;let r=0;this._colorFramebuffer._colorTextures.length>0&&(r|=i.COLOR_BUFFER_BIT),Object(a["a"])(this._colorFramebuffer.depthStencilTexture)&&(r|=i.DEPTH_BUFFER_BIT|(t?i.STENCIL_BUFFER_BIT:0)),i.blitFramebuffer(0,0,this._width,this._height,0,0,this._width,this._height,r,i.NEAREST),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null)},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){return this._renderFramebuffer.destroy(),this._colorFramebuffer.destroy(),Object(s["a"])(this)};var c=u,_=i("6ef5"),h=i("8a65"),f=i("3550"),l=i("6c84"),d=i("a913"),m=i("e42d");function p(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT),this._numSamples=Object(n["a"])(e.numSamples,1),this._colorAttachmentsLength=Object(n["a"])(e.colorAttachmentsLength,1),this._color=Object(n["a"])(e.color,!0),this._depth=Object(n["a"])(e.depth,!1),this._depthStencil=Object(n["a"])(e.depthStencil,!1),this._supportsDepthTexture=Object(n["a"])(e.supportsDepthTexture,!1),this._createColorAttachments=Object(n["a"])(e.createColorAttachments,!0),this._createDepthAttachments=Object(n["a"])(e.createDepthAttachments,!0),this._pixelDatatype=e.pixelDatatype,this._pixelFormat=e.pixelFormat,this._width=void 0,this._height=void 0,this._framebuffer=void 0,this._multisampleFramebuffer=void 0,this._colorTextures=void 0,this._color&&(this._colorTextures=new Array(this._colorAttachmentsLength),this._colorRenderbuffers=new Array(this._colorAttachmentsLength)),this._colorRenderbuffer=void 0,this._depthStencilRenderbuffer=void 0,this._depthStencilTexture=void 0,this._depthRenderbuffer=void 0,this._depthTexture=void 0,this._attachmentsDirty=!1}Object.defineProperties(p.prototype,{framebuffer:{get:function(){return this._numSamples>1?this._multisampleFramebuffer.getRenderFramebuffer():this._framebuffer}},numSamples:{get:function(){return this._numSamples}},status:{get:function(){return this.framebuffer.status}}}),p.prototype.isDirty=function(e,t,i,r,s){i=Object(n["a"])(i,1);const o=this._width!==e||this._height!==t,u=this._numSamples!==i,c=Object(a["a"])(r)&&this._pixelDatatype!==r||Object(a["a"])(s)&&this._pixelFormat!==s,_=1===i?Object(a["a"])(this._framebuffer):Object(a["a"])(this._multisampleFramebuffer);return this._attachmentsDirty||o||u||c||!_||this._color&&!Object(a["a"])(this._colorTextures[0])},p.prototype.update=function(e,t,i,a,s,o){if(a=e.msaa?Object(n["a"])(a,1):1,s=Object(n["a"])(s,this._color?Object(n["a"])(this._pixelDatatype,_["a"].UNSIGNED_BYTE):void 0),o=Object(n["a"])(o,this._color?Object(n["a"])(this._pixelFormat,m["a"].RGBA):void 0),this.isDirty(t,i,a,s,o)){if(this.destroy(),this._width=t,this._height=i,this._numSamples=a,this._pixelDatatype=s,this._pixelFormat=o,this._attachmentsDirty=!1,this._color&&this._createColorAttachments)for(let r=0;r<this._colorAttachmentsLength;++r)if(this._colorTextures[r]=new d["a"]({context:e,width:t,height:i,pixelFormat:o,pixelDatatype:s,sampler:l["a"].NEAREST}),this._numSamples>1){const n=f["a"].getColorFormat(s);this._colorRenderbuffers[r]=new h["a"]({context:e,width:t,height:i,format:n,numSamples:this._numSamples})}this._depthStencil&&this._createDepthAttachments&&(this._supportsDepthTexture&&e.depthTexture?(this._depthStencilTexture=new d["a"]({context:e,width:t,height:i,pixelFormat:m["a"].DEPTH_STENCIL,pixelDatatype:_["a"].UNSIGNED_INT_24_8,sampler:l["a"].NEAREST}),this._numSamples>1&&(this._depthStencilRenderbuffer=new h["a"]({context:e,width:t,height:i,format:f["a"].DEPTH24_STENCIL8,numSamples:this._numSamples}))):this._depthStencilRenderbuffer=new h["a"]({context:e,width:t,height:i,format:f["a"].DEPTH_STENCIL})),this._depth&&this._createDepthAttachments&&(this._supportsDepthTexture&&e.depthTexture?this._depthTexture=new d["a"]({context:e,width:t,height:i,pixelFormat:m["a"].DEPTH_COMPONENT,pixelDatatype:_["a"].UNSIGNED_INT,sampler:l["a"].NEAREST}):this._depthRenderbuffer=new h["a"]({context:e,width:t,height:i,format:f["a"].DEPTH_COMPONENT16})),this._numSamples>1?this._multisampleFramebuffer=new c({context:e,width:this._width,height:this._height,colorTextures:this._colorTextures,colorRenderbuffers:this._colorRenderbuffers,depthStencilTexture:this._depthStencilTexture,depthStencilRenderbuffer:this._depthStencilRenderbuffer,destroyAttachments:!1}):this._framebuffer=new r["a"]({context:e,colorTextures:this._colorTextures,depthTexture:this._depthTexture,depthRenderbuffer:this._depthRenderbuffer,depthStencilTexture:this._depthStencilTexture,depthStencilRenderbuffer:this._depthStencilRenderbuffer,destroyAttachments:!1})}},p.prototype.getColorTexture=function(e){return e=Object(n["a"])(e,0),this._colorTextures[e]},p.prototype.setColorTexture=function(e,t){t=Object(n["a"])(t,0),this._attachmentsDirty=e!==this._colorTextures[t],this._colorTextures[t]=e},p.prototype.getColorRenderbuffer=function(e){return e=Object(n["a"])(e,0),this._colorRenderbuffers[e]},p.prototype.setColorRenderbuffer=function(e,t){t=Object(n["a"])(t,0),this._attachmentsDirty=e!==this._colorRenderbuffers[t],this._colorRenderbuffers[t]=e},p.prototype.getDepthRenderbuffer=function(){return this._depthRenderbuffer},p.prototype.setDepthRenderbuffer=function(e){this._attachmentsDirty=e!==this._depthRenderbuffer,this._depthRenderbuffer=e},p.prototype.getDepthTexture=function(){return this._depthTexture},p.prototype.setDepthTexture=function(e){this._attachmentsDirty=e!==this._depthTexture,this._depthTexture=e},p.prototype.getDepthStencilRenderbuffer=function(){return this._depthStencilRenderbuffer},p.prototype.setDepthStencilRenderbuffer=function(e){this._attachmentsDirty=e!==this._depthStencilRenderbuffer,this._depthStencilRenderbuffer=e},p.prototype.getDepthStencilTexture=function(){return this._depthStencilTexture},p.prototype.setDepthStencilTexture=function(e){this._attachmentsDirty=e!==this._depthStencilTexture,this._depthStencilTexture=e},p.prototype.prepareTextures=function(e,t){this._numSamples>1&&this._multisampleFramebuffer.blitFramebuffers(e,t)},p.prototype.clear=function(e,t,i){const r=t.framebuffer;t.framebuffer=this.framebuffer,t.execute(e,i),t.framebuffer=r},p.prototype.destroyFramebuffer=function(){this._framebuffer=this._framebuffer&&this._framebuffer.destroy(),this._multisampleFramebuffer=this._multisampleFramebuffer&&this._multisampleFramebuffer.destroy()},p.prototype.destroy=function(){if(this._color){let e;const t=this._colorTextures.length;for(e=0;e<t;++e){const t=this._colorTextures[e];this._createColorAttachments&&Object(a["a"])(t)&&!t.isDestroyed()&&(this._colorTextures[e].destroy(),this._colorTextures[e]=void 0),Object(a["a"])(t)&&t.isDestroyed()&&(this._colorTextures[e]=void 0);const i=this._colorRenderbuffers[e];this._createColorAttachments&&Object(a["a"])(i)&&!i.isDestroyed()&&(this._colorRenderbuffers[e].destroy(),this._colorRenderbuffers[e]=void 0),Object(a["a"])(i)&&i.isDestroyed()&&(this._colorRenderbuffers[e]=void 0)}}this._depthStencil&&(this._createDepthAttachments&&(this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy()),Object(a["a"])(this._depthStencilTexture)&&this._depthStencilTexture.isDestroyed()&&(this._depthStencilTexture=void 0),Object(a["a"])(this._depthStencilRenderbuffer)&&this._depthStencilRenderbuffer.isDestroyed()&&(this._depthStencilRenderbuffer=void 0)),this._depth&&(this._createDepthAttachments&&(this._depthTexture=this._depthTexture&&this._depthTexture.destroy(),this._depthRenderbuffer=this._depthRenderbuffer&&this._depthRenderbuffer.destroy()),Object(a["a"])(this._depthTexture)&&this._depthTexture.isDestroyed()&&(this._depthTexture=void 0),Object(a["a"])(this._depthRenderbuffer)&&this._depthRenderbuffer.isDestroyed()&&(this._depthRenderbuffer=void 0)),this.destroyFramebuffer()};t["a"]=p},f845:function(e,t,i){"use strict";var r=i("bd8d"),n=i("535a");function a(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT),this.color=e.color,this.depth=e.depth,this.stencil=e.stencil,this.renderState=e.renderState,this.framebuffer=e.framebuffer,this.owner=e.owner,this.pass=e.pass}a.ALL=Object.freeze(new a({color:new r["a"](0,0,0,0),depth:1,stencil:0})),a.prototype.execute=function(e,t){e.clear(this,t)},t["a"]=a}}]);